{"remainingRequest":"F:\\work\\lhds\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\work\\lhds\\src\\components\\common\\mRuleForm.vue?vue&type=style&index=0&id=435e2dd9&scoped=scoped&lang=css&","dependencies":[{"path":"F:\\work\\lhds\\src\\components\\common\\mRuleForm.vue","mtime":1574155739834},{"path":"F:\\work\\lhds\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.bottomBtn{\n\tdisplay: grid;\n\tgrid-template-columns: 50% 50%;\n\tgrid-template-rows: auto;\n}\n.mobile-grid{\n\tdisplay: grid;\n\tgrid-template-columns: 48% 48%;\n\tgrid-template-rows: auto auto;\n\tgrid-gap: 10px;\n}\n\n.mobile-grid-one{\n\tdisplay: grid;\n\tgrid-template-columns: 48% 48%;\n\tgrid-template-rows: auto;\n\tgrid-gap: 10px;\n}\n\n.xy-select {\n\twidth: 100px;\n\tborder: 1px solid;\n\tborder-radius: 3px;\n\tbackground: none;\n\tpadding: 4px;\n}\n\n.xy-select:focus {\n\toutline: 0;\n\tborder: 1px solid #4caf50;\n\tborder-radius: 5px;\n}\n\n.xy-options {\n\tpadding: 5px 3px;\n}\n\n.xy-options:hover {\n\tbackground: #4caf50;\n}\n\n.nameStyle {\n\toutline: 0;\n\tmax-width: 200px;\n\tpadding: 3px 3px 3px 5px;\n\tborder-radius: 3px;\n\tborder: 1px solid;\n}\n\n.fade-enter-active,\n.fade-leave-active {\n\ttransition: opacity .5s\n}\n\n.fade-enter,\n.fade-leave-active {\n\topacity: 0\n}\n",{"version":3,"sources":["mRuleForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8cA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"mRuleForm.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\r\n\t<v-card flat>\r\n\t\t<div class=\" px-5 py-3  green lighten-5 d-flex align-center\">\r\n\t\t\t<span class=\"green--text\">返回</span>\r\n\t\r\n<!-- \t\t\t<span class=\"green--text pl-2\" >{{edit?'编辑规则':'添加规则'}}</span>\r\n\t\t -->\r\n\t\t</div>\r\n\t\t<div class=\"grey lighten-3\">\r\n\t\t\t<v-form ref=\"valid\" v-model=\"valid\" lazy-validation class=\"px-6 py-4 white\">\r\n\t\t\t\t<p style=\"border-left: 4px solid #66BB6A;\" class=\"pl-2 font-weight-bold\">建仓规则</p>\r\n\t\t\t\t<div class=\"mobile-grid\">\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">买入跌幅</span>\r\n\t\t\t\t\t\t<v-text-field type=\"text\" v-model=\"ruleName\"\r\n\t\t\t\t\t\tclass=\"py-0\"\r\n\t\t\t\t\t\tcolor=\"green\" dense :rules=\"[rules.required,rules.isEmpty]\"></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">涨幅回调</span>\r\n\t\t\t\t\t\t<v-text-field type=\"text\" v-model=\"ruleName\"\r\n\t\t\t\t\t\tclass=\"py-0\"\r\n\t\t\t\t\t\tcolor=\"green\" dense :rules=\"[rules.required,rules.isEmpty]\"></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">计价货币</span>\r\n\t\t\t\t\t\t<v-select  dense v-model=\"curcy\"\r\n\t\t\t\t\t\tcolor=\"green\" :items=\"currency\" item-text=\"value\"\r\n\t\t\t\t\t\titem-color=\"green\"\r\n\t\t\t\t\t\t item-value=\"id\" single-line></v-select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">单次买入金额</span>\r\n\t\t\t\t\t\t<v-text-field type=\"text\" v-model=\"ruleName\"\r\n\t\t\t\t\t\tclass=\"py-0\"\r\n\t\t\t\t\t\tcolor=\"green\" dense :rules=\"[rules.required,rules.isEmpty]\"></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"my-2\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<p class=\"mb-2 d-flex justify-space-between align-center\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">\r\n\t\t\t\t\t\t\t强制建仓\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<!-- <Icon type=\"md-checkbox-outline\"  @click=\"allowJc\" size=\"18\" :color=\"jData.R11?'':'#BDBDBD'\" /> -->\r\n\t\t\t\t\t\t<v-btn icon small>\r\n\t\t\t\t\t\t\t<v-icon @click=\"allowJc\" small>{{jData.R11 ? 'mdi-check-box-outline' : 'mdi-square-outline'}}</v-icon>\r\n\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<transition name=\"fade\" v-if=\"jData.R11\">\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R12\" :disabled=\"!jData.R11\" color=\"green\"  single-line\r\n\t\t\t\t\t\t:step=\"0.01\" min=\"1\"  suffix=\"分钟无仓强制建仓\" hide-details  dense></v-text-field>\r\n\t\t\t\t\t</transition>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p class=\"mb-2 d-flex align-center justify-space-between\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">\r\n\t\t\t\t\t\t\t追涨\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<v-btn icon small>\r\n\t\t\t\t\t\t\t<v-icon @click=\"allowSup\" small>{{jData.R13 ? 'mdi-check-box-outline' : 'mdi-square-outline'}}</v-icon>\r\n\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t<transition name=\"fade\" v-if=\"jData.R13\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R14\" :disabled=\"!jData.R13\" color=\"green\"  single-line\r\n\t\t\t\t\t\t\tmin=\"1\" hide-details suffix=\"分钟内上涨\" dense></v-text-field>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</transition>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<transition name=\"fade\" v-if=\"jData.R13\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R15\" :disabled=\"!jData.R13\" color=\"green\"  single-line\r\n\t\t\t\t\t\t\tmin=\"1\" hide-details suffix=\"%则追涨建仓\" dense></v-text-field>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</transition>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<transition name=\"fade\" v-if=\"jData.R13\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R36\" :disabled=\"!jData.R13\" color=\"green\"  single-line\r\n\t\t\t\t\t\t\tmin=\"1\" hide-details suffix=\"分钟延迟追涨\" dense></v-text-field>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</transition>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</v-form>\r\n\t\t\t\r\n\t\t\t<v-form ref=\"valid2\" v-model=\"valid2\" lazy-validation class=\"px-6 py-4 white mt-2\">\r\n\t\t\t\t<p style=\"border-left: 4px solid #66BB6A;\" class=\"pl-2 font-weight-bold\">平仓规则</p>\r\n\t\t\t\t<div class=\"mobile-grid\">\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">卖出涨幅</span>\r\n\t\t\t\t\t\t<v-text-field type=\"text\" v-model=\"ruleName\"\r\n\t\t\t\t\t\tclass=\"py-0\"\r\n\t\t\t\t\t\tcolor=\"green\" dense :rules=\"[rules.required,rules.isEmpty]\"></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">涨幅回调</span>\r\n\t\t\t\t\t\t<v-text-field type=\"text\" v-model=\"ruleName\"\r\n\t\t\t\t\t\tclass=\"py-0\"\r\n\t\t\t\t\t\tcolor=\"green\" dense :rules=\"[rules.required,rules.isEmpty]\"></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">止损跌幅</span>\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R6\" color=\"green\" single-line :step=\"0.1\" min=\"0\" \r\n\t\t\t\t\t\t:rules=\"[rules.required,rules.isEmpty]\"\r\n\t\t\t\t\t\t dense></v-text-field>\r\n\t\t\t\t\t</div>\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"my-2\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<p class=\"mb-2 d-flex justify-space-between align-center\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">\r\n\t\t\t\t\t\t\t杀跌平仓\r\n\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t<v-btn icon small>\r\n\t\t\t\t\t\t\t<v-icon @click=\"allowPc\" small>{{jData.R16 ? 'mdi-check-box-outline' : 'mdi-square-outline'}}</v-icon>\r\n\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<transition name=\"fade\" v-if=\"jData.R16\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R17\" :disabled=\"!jData.R16\" color=\"green\"  single-line\r\n\t\t\t\t\t\t\tmin=\"1\" hide-details suffix=\"分钟内下跌\" dense class=\"pb-2\"></v-text-field>\r\n\r\n\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R18\" :disabled=\"!jData.R16\" color=\"green\"  single-line\r\n\t\t\t\t\t\t\tmin=\"1\" hide-details suffix=\"%则杀跌平仓\" dense></v-text-field>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</transition>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</v-form>\r\n\t\t\t\r\n\t\t\t<v-form ref=\"valid3\" v-model=\"valid3\" lazy-validation class=\"px-6 py-4 white mt-2\">\r\n\t\t\t\t<p style=\"border-left: 4px solid #66BB6A;\" class=\"pl-2 font-weight-bold\">补仓规则</p>\r\n\t\t\t\t<div class=\"mobile-grid\">\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">单次补仓跌幅(%)</span>\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R7\" color=\"green\" \r\n\t\t\t\t\t\t:rules=\"[rules.required,rules.size,rules.precent]\"\r\n\t\t\t\t\t\t :step=\"0.1\" min=\"0\" dense single-line></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">补仓回调</span>\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R10\" color=\"green\" :step=\"0.01\" min=\"0\"\r\n\t\t\t\t\t\t dense single-line></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">单次补仓金额</span>\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R9\" color=\"green\"\r\n\t\t\t\t\t\t:rules=\"[rules.required,rules.size]\"\r\n\t\t\t\t\t\t single-line :step=\"0.1\" min=\"0\" dense></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">补仓次数</span>\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R8\" color=\"green\"  single-line \r\n\t\t\t\t\t\t min=\"0\" dense></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"my-2\">\r\n\t\t\t\t\t<div class=\"mobile-grid\">\r\n\t\t\t\t\t\t<v-switch\r\n\t\t\t\t\t\t  v-model=\"jData.R19\" \r\n\t\t\t\t\t\t  label=\"补仓单卖\" \r\n\t\t\t\t\t\t  color=\"success\"\r\n\t\t\t\t\t\t  dense\r\n\t\t\t\t\t\t  hide-details\r\n\t\t\t\t\t\t  @change=\"listenState\" \r\n\t\t\t\t\t\t></v-switch>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<v-switch\r\n\t\t\t\t\t\t  v-model=\"jData.R20\"\r\n\t\t\t\t\t\t  color=\"success\"\r\n\t\t\t\t\t\t  dense\r\n\t\t\t\t\t\t  hide-details\r\n\t\t\t\t\t\t  :disabled=\"!jData.R19\"\r\n\t\t\t\t\t\t  label=\"允许补仓\" \r\n\t\t\t\t\t\t></v-switch>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\t</v-form>\r\n\t\t\r\n\t\t\t<div class=\"px-6 py-4 white mt-2\">\r\n\t\t\t\t<p style=\"border-left: 4px solid #66BB6A;\" class=\"pl-2 font-weight-bold\">其他规则</p>\r\n\t\t\t\t<v-menu transition=\"scroll-y-transition\" v-if=\"other.length>0\">\r\n\t\t\t\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t\t\t\t<v-btn tile outlined small color=\"success\" class=\"ma-0\" v-on=\"on\">\r\n\t\t\t\t\t\t\t添加\r\n\t\t\t\t\t\t\t<v-icon right>mdi-menu-down</v-icon>\r\n\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<v-list class=\"pa-0\">\r\n\t\t\t\t\t  <v-list-item dense  v-ripple=\"{ class: 'green--text' }\"\r\n\t\t\t\t\t\tv-for=\"(n,index) in other\" link @click=\"addOther(n.id,index)\" v-if=\"n.show\">\r\n\t\t\t\t\t\t<v-list-item-title>{{n.text}}</v-list-item-title>\r\n\t\t\t\t\t  </v-list-item>\r\n\t\t\t\t\t</v-list>\r\n\t\t\t\t</v-menu>\r\n\t\t\t\t<!-- <div v-for=\"other in otherList\" class=\"grey lighten-4 pa-2 my-1\">\r\n\t\t\t\t\t<p class=\"mb-0\"><v-icon right small>mdi-close</v-icon></p>\r\n\t\t\t\t\t{{other.a}}分钟内下跌{{other.b}}%时,{{other.name}}比例变为{{other.c}}%,{{other.d}}分钟后恢复数值\r\n\t\t\t\t</div> -->\r\n\t\t\t\t <v-list two-line > \r\n\t\t\t\t\t <v-list-item v-for=\"(other,idx) in otherList\" class=\"my-1 grey lighten-4\">\r\n\t\t\t\t\t\t  <v-list-item-content>\r\n\t\t\t\t\t\t\t{{other.a}}分钟内下跌{{other.b}}%时,{{other.name}}比例变为{{other.c}}%,{{other.d}}分钟后恢复数值\r\n\t\t\t\t\t\t  </v-list-item-content>\r\n\t\t\t\r\n\t\t\t\t\t\t  <v-list-item-action>\r\n\t\t\t\t\t\t\t<v-btn icon small class=\"ma-1\" @click=\"closeOtherItem(other)\"><v-icon color=\"error\">mdi-close</v-icon></v-btn>\r\n\t\t\t\t\t\t\t<v-btn icon small class=\"ma-1\" @click=\"editOtherItem(idx)\"><v-icon>mdi-square-edit-outline</v-icon></v-btn>\r\n\t\t\t\t\t\t  </v-list-item-action>\r\n\t\t\t\t\t  </v-list-item>\r\n\t\t\t\t </v-list>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<p class=\"bottomBtn white\">\r\n\t\t\t\t <v-btn block color=\"secondary\" outlined depressed tile>取消</v-btn>\r\n\t\t\t\t  <v-btn block color=\"green\" dark  depressed tile @click=\"mainValid\">提交</v-btn>\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t\t\r\n\t\t<common-otherRule :dialog=\"dialog\" :newOtherObj=\"newOtherObj\" @pushData=\"createOneOther\"\r\n\t\t@cancelDialog=\"cancelOther\"></common-otherRule>\r\n\t\t\r\n\t</v-card>\n</template>\n\n<script>\r\n\timport {\r\n\t\tmapActions\r\n\t} from 'vuex';\r\n\timport Utils from '@/plugins/cryAes.js'\r\n\timport { addRuleData } from '@/mixins/addRuleData.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tother:[\r\n\t\t\t\t\t{id:1,text:'补仓',show:true},\r\n\t\t\t\t\t{id:2,text:'止损',show:true},\r\n\t\t\t\t\t{id:3,text:'建仓',show:true},\r\n\t\t\t\t],\r\n\t\t\t\t\r\n\t\t\t\totherList:[],\r\n\t\t\t\t\r\n\t\t\t\tnewOtherObj:{},\r\n\t\t\t\t\r\n\t\t\t\tdialog:false,\r\n\t\t\t\t\r\n\t\t\t\tvalid2:true,\r\n\t\t\t\t\r\n\t\t\t\tvalid3:true,\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tmixins:[addRuleData],\r\n\t\t\r\n\t\tprops: {\r\n\t\t\truleObj: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => ({})\r\n\t\t\t},\r\n\t\t\tedit: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\twatch: {\r\n\t\t\tedit: {\r\n\t\t\t\thandler: 'transPropsData',\r\n\t\t\t\timmediate: true\r\n\t\t\t},\r\n\t\t\twssData: {\r\n\t\t\t\thandler(nV, oV) {\r\n\t\t\t\t\tthis.getMessage();\r\n\t\t\t\t},\r\n\t\t\t\tdeep: true\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\twssData() { //wss传递的消息\r\n\t\t\t\treturn this.$store.state.collocationList;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tmethods:{\r\n\t\t\tcancelOther(){\r\n\t\t\t\tthis.newOtherObj = {};\r\n\t\t\t\tthis.dialog = false;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tcloseOtherItem(obj){//删掉其他规则\r\n\t\t\t\tthis.other.forEach(item =>{\r\n\t\t\t\t\tif(item.text==obj.name){\r\n\t\t\t\t\t\titem.show = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tlet list = this.otherList.filter(item =>item.name!==obj.name);\r\n\t\t\t\tthis.otherList = list;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\teditOtherItem(idx){//编辑已经存在的其他规则\r\n\t\t\t\tthis.newOtherObj = this.otherList[idx];\r\n\t\t\t\tthis.dialog = true;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tcreateOneOther(obj){//编辑其他规则提交后\r\n\t\t\t\tthis.dialog = false;\r\n\t\t\t\t// let {name,...params} = obj;\r\n\t\t\t\t\r\n\t\t\t\tthis.other.forEach(item =>{\r\n\t\t\t\t\tif(item.text==obj.name){\r\n\t\t\t\t\t\titem.show = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tlet arr = this.otherList.filter(list =>list.name == obj.name);\r\n\t\t\t\t\r\n\t\t\t\tif(arr.length>0){\r\n\t\t\t\t\tarr[0] = obj;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.otherList.push(obj);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\taddOther(id,index){\r\n\t\t\t\tthis.newOtherObj = {\r\n\t\t\t\t\tname:this.other[index].text\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.dialog = true;\r\n\t\t\t},\r\n\r\n\t\t\t...mapActions(['changeLay', 'changeSnack']),\r\n\t\t\t\r\n\t\t\tgetMessage() { //wss传递的消息\r\n\t\t\t\tlet result = this.wssData;\r\n\t\t\t\tswitch (result.code) {\r\n\t\t\t\t\tcase 20013: //客户端在线\r\n\t\t\t\t\t\tthis.wssSave();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\t\t\r\n\t\t\twssSave() {\r\n\t\t\t\tlet json = JSON.stringify({\r\n\t\t\t\t\tcode: 1006\r\n\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\tthis.$sock.websocketsend(json);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tmainValid(){\r\n\t\t\t\tlet options = {\r\n\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\toffset: 0,\r\n\t\t\t\t\teasing: 'easeInOutCubic'\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tif (this.$refs.valid.validate()) {\r\n\t\t\t\t\tif(this.$refs.valid2.validate()){\r\n\t\t\t\t\t\tif(this.$refs.valid3.validate()){\r\n\t\t\t\t\t\t\tconsole.log('全过啦')\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.$vuetify.goTo(this.$refs.valid3, options)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$vuetify.goTo(this.$refs.valid2, options)\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$vuetify.goTo(this.$refs.valid, options)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tpostRule() { //提交规则\r\n\t\t\t\tlet list = JSON.parse(JSON.stringify(this.jData));\r\n\t\t\t\tlist.R54 = this.curcy;\r\n\t\t\t\tlet title = this.ruleName.replace(/\\s+/g,'');\r\n\t\t\t\tlist.R0 = this.charToUnicode(title);\r\n\t\t\t\tlist.R11 = list.R11 ? 1 : 0;\r\n\t\t\t\tlist.R13 = list.R13 ? 1 : 0;\r\n\t\t\t\tlist.R19 = list.R19 ? 1 : 0;\r\n\t\t\t\tlist.R16 = list.R16 ? 1 : 0;\r\n\t\t\t\tlist.R20 = list.R20 ? 1 : 0;\r\n\t\t\t\tlist.R21 = list.R21 ? 1 : 0;\r\n\t\t\t\tlist.R26 = list.R26 ? 1 : 0;\r\n\t\t\t\tlist.R31 = list.R31 ? 1 : 0;\r\n\t\t\t\t\t\r\n\t\t\t\tfor (let i in list) { //数字转成了字符\r\n\t\t\t\t\tif (typeof(list[i]) == 'number') {\r\n\t\t\t\t\t\tlist[i] = list[i].toString();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tname: title,\r\n\t\t\t\t\tdata: Utils.encrypt(JSON.stringify(list))\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tthis.edit ? obj.id = list.id : '';\r\n\t\t\t\t\t\r\n\t\t\t\tlet url = this.edit ? '/EasWebUser/changeRule' : '/EasWebUser/addRule';\r\n\t\t\t\t\t\r\n\t\t\t\t$ax.getAjaxData(url, obj, (res) => {\r\n\t\t\t\t\tthis.changeLay(false);\r\n\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\tlet msg = {\r\n\t\t\t\t\t\t\tstate: true,\r\n\t\t\t\t\t\t\terrorText: {\r\n\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\ttext: this.edit ? '编辑成功' : '添加成功'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.changeSnack(msg);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tlet state = this.$sock.lookState();\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tstate == -1 ? this.$sock.initWebSocket() : this.wssSave();\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tsessionStorage.removeItem('collocation'); //清空缓存里的rule/api\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tObject.assign(this.$data, this.$options.data());\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tthis.hideRule();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, {\r\n\t\t\t\t\thasToken: true\r\n\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped=\"scoped\">\r\n\t.bottomBtn{\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: 50% 50%;\r\n\t\tgrid-template-rows: auto;\r\n\t}\r\n\t.mobile-grid{\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: 48% 48%;\r\n\t\tgrid-template-rows: auto auto;\r\n\t\tgrid-gap: 10px;\r\n\t}\r\n\t\r\n\t.mobile-grid-one{\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: 48% 48%;\r\n\t\tgrid-template-rows: auto;\r\n\t\tgrid-gap: 10px;\r\n\t}\r\n\t\r\n\t.xy-select {\r\n\t\twidth: 100px;\r\n\t\tborder: 1px solid;\r\n\t\tborder-radius: 3px;\r\n\t\tbackground: none;\r\n\t\tpadding: 4px;\r\n\t}\r\n\r\n\t.xy-select:focus {\r\n\t\toutline: 0;\r\n\t\tborder: 1px solid #4caf50;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\r\n\t.xy-options {\r\n\t\tpadding: 5px 3px;\r\n\t}\r\n\r\n\t.xy-options:hover {\r\n\t\tbackground: #4caf50;\r\n\t}\r\n\r\n\t.nameStyle {\r\n\t\toutline: 0;\r\n\t\tmax-width: 200px;\r\n\t\tpadding: 3px 3px 3px 5px;\r\n\t\tborder-radius: 3px;\r\n\t\tborder: 1px solid;\r\n\t}\r\n\r\n\t.fade-enter-active,\r\n\t.fade-leave-active {\r\n\t\ttransition: opacity .5s\r\n\t}\r\n\r\n\t.fade-enter,\r\n\t.fade-leave-active {\r\n\t\topacity: 0\r\n\t}\r\n</style>"]}]}