{"remainingRequest":"F:\\work\\vuefityDemo\\node_modules\\thread-loader\\dist\\cjs.js!F:\\work\\vuefityDemo\\node_modules\\babel-loader\\lib\\index.js!F:\\work\\vuefityDemo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\work\\vuefityDemo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\work\\vuefityDemo\\src\\components\\addRule.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\work\\vuefityDemo\\src\\components\\addRule.vue","mtime":1571647305125},{"path":"F:\\work\\vuefityDemo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\vuefityDemo\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\vuefityDemo\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\work\\vuefityDemo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\vuefityDemo\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.number.constructor\";\nimport _defineProperty from \"F:\\\\work\\\\vuefityDemo\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapActions } from 'vuex';\nimport Utils from '@/plugins/cryAes.js';\nimport Valid from '@/plugins/validate.js';\nexport default {\n  data: function data() {\n    return {\n      ajaxObj: {},\n      //要提交的规则数据\n      rules: {\n        required: function required(v) {\n          return !!v || '必填';\n        },\n        length: function length(v) {\n          return v && v.length <= 68 || '超出长度';\n        },\n        isEmpty: function isEmpty(v) {\n          return /\\S/.test(v) || '不可为空';\n        },\n        size: function size(v) {\n          return v > 0 || '必须大于0';\n        },\n        not: function not(v) {\n          return !/[\\u4E00-\\u9FA5]/g.test(v) || '不能是中文';\n        }\n      },\n      valid: true,\n      ruleName: '',\n      //规则名称\n      jData: {\n        //建仓\n        R1: 0,\n        //买入跌幅\n        R3: 1,\n        //单次买入金额\n        R2: 0,\n        //跌幅回调\n        R54: null,\n        //计价货币\n        R11: false,\n        //允许强制建仓\n        R12: 0,\n        //强制建仓\n        R13: false,\n        //允许\n        R14: 1,\n        //分钟内上涨\n        R15: 0,\n        //追涨建仓\n        R36: 1,\n        //防插针\n        R7: 0,\n        //单次补仓跌幅\n        R10: 0,\n        //补仓回调\n        R9: 0,\n        //单次补仓金额\n        R8: 0,\n        //补仓\n        R19: false,\n        //补仓单独卖出\n        R20: false,\n        //补单可进行补仓\n        R4: 0,\n        //卖出涨幅\n        R5: 0,\n        //涨幅回调\n        R6: 0,\n        //止损跌幅\n        R16: false,\n        //允许分钟内下跌\n        R17: 0,\n        //分钟内下跌\n        R18: 0,\n        //杀跌平仓\n        R26: false,\n        //允许补仓\n        R27: 0,\n        //分钟内下跌\n        R28: 0,\n        //时\n        R29: 0,\n        //补仓比例更改为\n        R30: 0,\n        //分钟后回复数值\n        R21: false,\n        //允许止损\n        R22: 0,\n        R23: 0,\n        R24: 0,\n        R25: 0,\n        R31: false,\n        //允许建仓\n        R32: 0,\n        R33: 0,\n        R34: 0,\n        R35: 0\n      },\n      activeRule: 0,\n      curcy: 1,\n      //当前的R54(货币)\n      currency: [{\n        id: 1,\n        value: 'USDT'\n      }, {\n        id: 2,\n        value: 'ETH'\n      }, {\n        id: 3,\n        value: 'BTC'\n      }],\n      child: ['建仓规则', '平仓规则', '补仓规则', '其他规则'],\n      type: 0\n    };\n  },\n  props: {\n    ruleObj: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    edit: {\n      type: Boolean,\n      default: false\n    }\n  },\n  watch: {\n    edit: {\n      handler: 'transPropsData',\n      immediate: true\n    },\n    wssData: {\n      handler: function handler(nV, oV) {\n        this.getMessage();\n      },\n      deep: true\n    }\n  },\n  computed: {\n    wssData: function wssData() {\n      //wss传递的消息\n      return this.$store.state.collocationList;\n    }\n  },\n  methods: _objectSpread({\n    listenState: function listenState(name) {\n      this.jData.R19 = name;\n      name == true ? '' : this.jData.R20 = false;\n    },\n    validateData: function validateData() {\n      //点击下一步的时候验证\n      if (this.$refs.form.validate()) {\n        this.activeRule++;\n        this.$refs.form.resetValidation();\n      } else {\n        console.log('nonononon');\n      }\n    },\n    transPropsData: function transPropsData() {\n      //编辑初始化对数据进行转换\n      if (this.edit) {\n        var item = JSON.parse(JSON.stringify(this.ruleObj));\n        this.curcy = Number(item.R54);\n        this.ruleName = item.R0 ? this.unescapeF(item.R0) : '';\n        item.R11 = item.R11 == 1 ? true : false;\n        item.R13 = item.R13 == 1 ? true : false;\n        item.R19 = item.R19 == 1 ? true : false;\n        item.R16 = item.R16 == 1 ? true : false;\n        item.R20 = item.R20 == 1 ? true : false;\n        item.R21 = item.R21 == 1 ? true : false;\n        item.R26 = item.R26 == 1 ? true : false;\n        item.R31 = item.R31 == 1 ? true : false;\n        this.jData = Object.assign({}, this.jData, item);\n      }\n    },\n    selectCurrency: function selectCurrency(e) {\n      //选择计价货币\n      this.jData.R54 = e;\n    }\n  }, mapActions(['changeLay', 'changeSnack']), {\n    hideRule: function hideRule() {\n      this.$emit('hideRule');\n    },\n    allowJc: function allowJc() {\n      //是否强制建仓\n      this.jData.R11 = !this.jData.R11;\n\n      if (!this.jData.R11) {\n        //没被选中\n        this.jData.R12 = 0;\n      }\n    },\n    allowSup: function allowSup() {\n      this.jData.R13 = !this.jData.R13;\n\n      if (!this.jData.R13) {\n        this.jData.R14 = 0;\n        this.jData.R15 = 0;\n        this.jData.R36 = 0;\n      }\n    },\n    allowPc: function allowPc() {\n      //允许-平仓\n      this.jData.R16 = !this.jData.R16;\n\n      if (!this.jData.R16) {\n        this.jData.R17 = 0;\n        this.jData.R18 = 0;\n      }\n    },\n    allowQtBc: function allowQtBc() {\n      //其他规则-启用补仓\n      this.jData.R26 = !this.jData.R26;\n\n      if (!this.jData.R26) {\n        this.jData.R27 = 0;\n        this.jData.R28 = 0;\n        this.jData.R29 = 0;\n        this.jData.R30 = 0;\n      }\n    },\n    allowQtZs: function allowQtZs() {\n      //其他规则-启用止损\n      this.jData.R21 = !this.jData.R21;\n\n      if (!this.jData.R21) {\n        this.jData.R22 = 0;\n        this.jData.R23 = 0;\n        this.jData.R24 = 0;\n        this.jData.R25 = 0;\n      }\n    },\n    allowQtJc: function allowQtJc() {\n      //其他规则-启用建仓\n      this.jData.R31 = !this.jData.R31;\n\n      if (!this.jData.R31) {\n        this.jData.R32 = 0;\n        this.jData.R33 = 0;\n        this.jData.R34 = 0;\n        this.jData.R35 = 0;\n      }\n    },\n    unescapeF: function unescapeF(str) {\n      //unicode=>文字\n      return unescape(str.replace(/\\\\/g, \"%\"));\n    },\n    charToUnicode: function charToUnicode(str) {\n      var res = [];\n\n      for (var i = 0; i < str.length; i++) {\n        res[i] = (\"00\" + str.charCodeAt(i).toString(16)).slice(-4);\n      }\n\n      return \"%u\" + res.join(\"%u\");\n    },\n    getMessage: function getMessage() {\n      //wss传递的消息\n      var result = this.wssData;\n\n      switch (result.code) {\n        case 20013:\n          //客户端在线\n          this.wssSave();\n          break;\n\n        default:\n          break;\n      }\n    },\n    wssSave: function wssSave() {\n      var json = JSON.stringify({\n        code: 1006\n      });\n      this.$sock.websocketsend(json);\n    },\n    postRule: function postRule() {\n      var _this = this;\n\n      //提交规则\n      var list = JSON.parse(JSON.stringify(this.jData));\n      list.R54 = this.curcy;\n      var title = this.ruleName.replace(/\\s+/g, '');\n      list.R0 = this.charToUnicode(title);\n      list.R11 = list.R11 ? 1 : 0;\n      list.R13 = list.R13 ? 1 : 0;\n      list.R19 = list.R19 ? 1 : 0;\n      list.R16 = list.R16 ? 1 : 0;\n      list.R20 = list.R20 ? 1 : 0;\n      list.R21 = list.R21 ? 1 : 0;\n      list.R26 = list.R26 ? 1 : 0;\n      list.R31 = list.R31 ? 1 : 0;\n\n      for (var i in list) {\n        //数字转成了字符\n        if (typeof list[i] == 'number') {\n          list[i] = list[i].toString();\n        }\n      }\n\n      var obj = {\n        name: title,\n        data: Utils.encrypt(JSON.stringify(list))\n      };\n      this.edit ? obj.id = list.id : '';\n      var url = this.edit ? '/EasWebUser/changeRule' : '/EasWebUser/addRule';\n      $ax.getAjaxData(url, obj, function (res) {\n        _this.changeLay(false);\n\n        if (res.code == 1) {\n          var msg = {\n            state: true,\n            errorText: {\n              type: 'green',\n              text: _this.edit ? '编辑成功' : '添加成功'\n            }\n          };\n\n          _this.changeSnack(msg);\n\n          var state = _this.$sock.lookState();\n\n          state == -1 ? _this.$sock.initWebSocket() : _this.wssSave();\n          sessionStorage.removeItem('collocation'); //清空缓存里的rule/api\n\n          Object.assign(_this.$data, _this.$options.data());\n\n          _this.hideRule();\n        }\n      }, {\n        hasToken: true\n      });\n    }\n  })\n};",{"version":3,"sources":["addRule.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<v-card>\r\n\t\t<h5 class=\" pa-5 ma-0 green white--text\">\r\n\t\t\t<v-icon color=\"white\" class=\"pr-5\" @click=\"hideRule\">mdi-arrow-left</v-icon>{{edit?'编辑规则':'添加规则'}}\r\n\t\t</h5>\r\n\r\n\t\t<v-card class=\"pa-6\">\r\n\t\t\t<v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n\t\t\t\t<v-text-field type=\"text\" v-model=\"ruleName\" color=\"green\" outlined dense :rules=\"[rules.required,rules.isEmpty]\"\r\n\t\t\t\t label=\"规则名称\"></v-text-field>\r\n\r\n\t\t\t\t<v-sheet class=\"mx-auto\">\r\n\t\t\t\t\t<v-slide-group v-model=\"activeRule\" show-arrows center-active mandatory>\r\n\t\t\t\t\t\t<v-slide-item v-for=\"(n,index) in child\" :key=\"n\" v-slot:default=\"{ active }\">\r\n\t\t\t\t\t\t\t<div class=\"d-flex justify-center align-center\">\r\n\t\t\t\t\t\t\t\t<v-btn class=\"mx-2\" :input-value=\"active\" active-class=\"green white--text\" depressed rounded>\r\n\t\t\t\t\t\t\t\t\t{{ n }}\r\n\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t<v-icon v-if=\"index!==child.length-1\">mdi-arrow-right</v-icon>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</v-slide-item>\r\n\t\t\t\t\t</v-slide-group>\r\n\t\t\t\t</v-sheet>\r\n\r\n\t\t\t\t<v-card outlined>\r\n\t\t\t\t\t<!-- <v-card dark> -->\r\n\t\t\t\t\t<v-card-text v-if=\"activeRule==0\" class=\"pb-0\">\r\n\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"9\" class=\"py-0\">\r\n\t\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"3\" :sm=\"3\" :xs=\"6\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\" d-flex align-start justify-center flex-column\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"black--text pr-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t买入跌幅\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R1\" color=\"green\" outlined single-line :step=\"0.01\" min=\"0\" dense\r\n\t\t\t\t\t\t\t\t\t\t\t :rules=\"[rules.required,rules.size]\"></v-text-field>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"3\" :sm=\"3\" :xs=\"6\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\" d-flex align-start justify-center flex-column\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"black--text  pr-3\">涨幅回调</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R2\" color=\"green\" outlined single-line :step=\"0.01\" min=\"0\" dense></v-text-field>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"3\" :sm=\"3\" :xs=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\" d-flex align-start justify-center flex-column\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"black--text  pr-3\">单次买入金额</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R3\" color=\"green\" outlined single-line :step=\"0.01\" min=\"0\" dense\r\n\t\t\t\t\t\t\t\t\t\t\t :rules=\"[rules.required,rules.size]\"></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"3\" :sm=\"3\" :xs=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\" d-flex align-start justify-center flex-column\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"black--text  pr-3\">计价货币</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-select style=\"width:120px;\" outlined dense v-model=\"curcy\" \r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"green\" :items=\"currency\" item-text=\"value\"\r\n\t\t\t\t\t\t\t\t\t\t\titem-color=\"green\"\r\n\t\t\t\t\t\t\t\t\t\t\t item-value=\"id\" label=\"计价货币\" single-line></v-select>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t</v-row>\r\n\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<!-- <v-col cols=\"12\" class=\"pa-0\"></v-col> -->\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"9\">\r\n\t\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" class=\"py-0 d-flex justify-start align-center\">\r\n\t\t\t\t\t\t\t\t\t\t<v-icon @click=\"allowJc\">{{jData.R11 ? 'mdi-check-box-outline' : 'mdi-square-outline'}}</v-icon>\r\n\t\t\t\t\t\t\t\t\t\t<span :style=\"{color:jData.R11?'black':'#BDBDBD'}\">\r\n\t\t\t\t\t\t\t\t\t\t\t强制建仓\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<transition name=\"fade\">\r\n\t\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"6\" :md=\"6\" :sm=\"6\" :xs=\"12\" v-if=\"jData.R11\">\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R12\" :disabled=\"!jData.R11\" color=\"green\" outlined single-line\r\n\t\t\t\t\t\t\t\t\t\t\t :step=\"0.01\" min=\"1\" class=\"py-0\" hide-details suffix=\"分钟无仓强制建仓\" dense></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t</transition>\r\n\r\n\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<!-- <v-col cols=\"12\" class=\"pa-0\"></v-col> -->\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"9\">\r\n\t\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" class=\"py-0 d-flex justify-start align-center\">\r\n\t\t\t\t\t\t\t\t\t\t<v-icon @click=\"allowSup\">{{jData.R13 ? 'mdi-check-box-outline' : 'mdi-square-outline'}}</v-icon>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<span :style=\"{color:jData.R13?'black':'#BDBDBD'}\">\r\n\t\t\t\t\t\t\t\t\t\t\t追涨\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t<transition name=\"fade\">\r\n\t\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"4\" :md=\"4\" :sm=\"6\" :xs=\"12\" v-if=\"jData.R13\" key=\"1\">\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R14\" :disabled=\"!jData.R13\" color=\"green\" outlined single-line\r\n\t\t\t\t\t\t\t\t\t\t\t min=\"1\" hide-details suffix=\"分钟内上涨\" dense></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\r\n\t\t\t\t\t\t\t\t\t</transition>\r\n\t\t\t\t\t\t\t\t\t<transition name=\"fade\">\r\n\t\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"4\" :md=\"4\" :sm=\"6\" :xs=\"12\" v-if=\"jData.R13\" key=\"2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R15\" :disabled=\"!jData.R13\" color=\"green\" outlined single-line\r\n\t\t\t\t\t\t\t\t\t\t\t min=\"1\" hide-details suffix=\"%则追涨建仓\" dense></v-text-field>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t</transition>\r\n\t\t\t\t\t\t\t\t\t<transition name=\"fade\">\r\n\t\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"4\" :md=\"4\" :sm=\"6\" :xs=\"12\" v-if=\"jData.R13\" key=\"3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R36\" :disabled=\"!jData.R13\" color=\"green\" outlined single-line\r\n\t\t\t\t\t\t\t\t\t\t\t min=\"1\" hide-details suffix=\"分钟延迟追涨\" dense></v-text-field>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t</transition>\r\n\r\n\r\n\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t</v-col>\r\n\r\n\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t</v-card-text>\r\n\r\n\t\t\t\t\t<v-card-text v-if=\"activeRule==1\" class=\"pb-0\">\r\n\r\n\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"6\" class=\"pb-0\">\r\n\t\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"3\" :sm=\"3\" :xs=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\" d-flex align-start justify-center flex-column\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"black--text pr-3\">卖出涨幅</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R4\" color=\"green\" outlined single-line :step=\"0.01\" min=\"0\"\r\n\t\t\t\t\t\t\t\t\t\t\t :rules=\"[rules.required,rules.isEmpty]\" dense></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"3\" :sm=\"3\" :xs=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\" d-flex align-start justify-center flex-column\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"black--text  pr-3\">涨幅回调</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field  type=\"number\" v-model=\"jData.R5\" color=\"green\" outlined single-line :step=\"0.01\" min=\"0\" dense></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"3\" :sm=\"3\" :xs=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\" d-flex align-start justify-center flex-column\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"black--text  pr-3\">止损跌幅</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R6\" color=\"green\" outlined single-line :step=\"0.1\" min=\"0\" :rules=\"[rules.required,rules.isEmpty]\"\r\n\t\t\t\t\t\t\t\t\t\t\t dense></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t</v-row>\r\n\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" class=\"pa-0 ma-0\"></v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"6\">\r\n\t\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" class=\"pb-0\">\r\n\t\t\t\t\t\t\t\t\t\t<v-icon @click=\"allowPc\">{{jData.R16 ? 'mdi-check-box-outline' : 'mdi-square-outline'}}</v-icon>\r\n\t\t\t\t\t\t\t\t\t\t<span :style=\"{color:jData.R16?'black':'#BDBDBD'}\">\r\n\t\t\t\t\t\t\t\t\t\t\t杀跌平仓\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<transition name=\"fade\">\r\n\t\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"6\" :md=\"6\" :sm=\"6\" :xs=\"12\" v-if=\"jData.R16\">\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R17\" :disabled=\"!jData.R16\" color=\"green\" outlined single-line\r\n\t\t\t\t\t\t\t\t\t\t\t min=\"1\" hide-details suffix=\"分钟内下跌\" dense></v-text-field>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t</transition>\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t<transition name=\"fade\">\r\n\t\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"6\" :md=\"6\" :sm=\"6\" :xs=\"12\" v-if=\"jData.R16\">\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R18\" :disabled=\"!jData.R16\" color=\"green\" outlined single-line\r\n\t\t\t\t\t\t\t\t\t\t\t min=\"1\" hide-details suffix=\"%则杀跌平仓\" dense></v-text-field>\r\n\r\n\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t</transition>\r\n\r\n\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t</v-row>\r\n\r\n\t\t\t\t\t</v-card-text>\r\n\r\n\t\t\t\t\t<v-card-text v-if=\"activeRule==2\" class=\"pb-0\">\r\n\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"9\" class=\"py-0\">\r\n\t\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"3\" :sm=\"3\" :xs=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\" d-flex align-start justify-center flex-column\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"black--text pr-3\">单次补仓跌幅(%)</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R7\" color=\"green\" outlined :rules=\"[rules.required,rules.size]\"\r\n\t\t\t\t\t\t\t\t\t\t\t single-line :step=\"0.1\" min=\"0\" dense></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"3\" :sm=\"3\" :xs=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\" d-flex align-start justify-center flex-column\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"black--text  pr-3\">补仓回调</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R10\" color=\"green\" outlined single-line :step=\"0.01\" min=\"0\"\r\n\t\t\t\t\t\t\t\t\t\t\t dense></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"3\" :sm=\"3\" :xs=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\" d-flex align-start justify-center flex-column\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"black--text  pr-3\">单次补仓金额</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R9\" color=\"green\" outlined :rules=\"[rules.required,rules.size]\"\r\n\t\t\t\t\t\t\t\t\t\t\t single-line :step=\"0.1\" min=\"0\" dense></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"3\" :sm=\"3\" :xs=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\" d-flex align-start justify-center flex-column\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"black--text  pr-3\">补仓次数</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R8\" color=\"green\" outlined single-line min=\"0\" dense></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t</v-row>\r\n\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<!-- <v-col cols=\"12\" class=\"pa-0 ma-0\"></v-col> -->\r\n\r\n\t\t\t\t\t\t\t<v-col cols=\"8\" :lg=\"6\" class=\"mt-0\">\r\n\t\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"6\" :md=\"6\" :sm=\"6\" :xs=\"12\" class=\"py-0\">\r\n\t\t\t\t\t\t\t\t\t\t<v-switch\r\n\t\t\t\t\t\t\t\t\t\t  v-model=\"jData.R19\" \r\n\t\t\t\t\t\t\t\t\t\t  label=\"补仓单独卖出\" \r\n\t\t\t\t\t\t\t\t\t\t  color=\"success\"\r\n\t\t\t\t\t\t\t\t\t\t  dense\r\n\t\t\t\t\t\t\t\t\t\t  hide-details\r\n\t\t\t\t\t\t\t\t\t\t  @change=\"listenState\" \r\n\t\t\t\t\t\t\t\t\t\t></v-switch>\r\n\t\t\t\t\t\t\t\t\t\t<!-- <v-checkbox color=\"success\" v-model=\"jData.R19\" @change=\"listenState\" label=\"补仓单独卖出\" hide-details></v-checkbox> -->\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"6\" :md=\"6\" :sm=\"6\" :xs=\"12\" class=\"py-0\">\r\n\t\t\t\t\t\t\t\t\t\t<v-switch\r\n\t\t\t\t\t\t\t\t\t\t  v-model=\"jData.R20\"\r\n\t\t\t\t\t\t\t\t\t\t  color=\"success\"\r\n\t\t\t\t\t\t\t\t\t\t  dense\r\n\t\t\t\t\t\t\t\t\t\t  hide-details\r\n\t\t\t\t\t\t\t\t\t\t  :disabled=\"!jData.R19\"\r\n\t\t\t\t\t\t\t\t\t\t  label=\"补单可进行补仓\" \r\n\t\t\t\t\t\t\t\t\t\t></v-switch>\r\n\t\t\t\t\t\t\t\t\t\t<!-- <v-checkbox :disabled=\"!jData.R19\" v-model=\"jData.R20\" hide-details color=\"success\" label=\"补单可进行补仓\"></v-checkbox> -->\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t</v-col>\r\n\r\n\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t</v-card-text>\r\n\r\n\t\t\t\t\t<v-card-text v-if=\"activeRule==3\" class=\"pb-0\">\r\n\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"10\"  class=\"py-0\">\r\n\t\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" class=\"py-0 d-flex justify-start align-center\">\r\n\t\t\t\t\t\t\t\t\t\t<v-icon @click=\"allowQtBc\">{{jData.R26 ? 'mdi-check-box-outline' : 'mdi-square-outline'}}</v-icon>\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"body-1\">启用</span>\r\n\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"4\" :sm=\"6\" :xs=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R27\" :disabled=\"!jData.R26\" color=\"green\" outlined single-line min=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t hide-details suffix=\"分钟内下跌\" dense></v-text-field>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"3\" :sm=\"4\" :xs=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R28\" :disabled=\"!jData.R26\" color=\"green\" outlined single-line min=\"0\"\r\n\t\t\t\t\t\t\t\t\t\t hide-details suffix=\"%时\" dense></v-text-field>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"4\" :sm=\"6\" :xs=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R29\" :disabled=\"!jData.R26\" color=\"green\" outlined single-line\r\n\t\t\t\t\t\t\t\t\t\t prefix=\"补仓比例\" min=\"1\" hide-details suffix=\"%\" dense></v-text-field>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"5\" :sm=\"6\" :xs=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R30\" :disabled=\"!jData.R26\" color=\"green\" outlined single-line min=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t hide-details suffix=\"分钟后恢复数值\" dense></v-text-field>\r\n\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t</v-row>\r\n\r\n\t\t\t\t\t\t\t</v-col>\r\n\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"10\" class=\"pb-0\">\r\n\t\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" class=\"py-0 d-flex justify-start align-center\">\r\n\t\t\t\t\t\t\t\t\t\t<v-icon @click=\"allowQtZs\">{{jData.R21 ? 'mdi-check-box-outline' : 'mdi-square-outline'}}</v-icon>\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"body-1\">启用</span>\r\n\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"4\" :sm=\"6\" :xs=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R22\" :disabled=\"!jData.R21\" color=\"green\" outlined single-line min=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t hide-details suffix=\"分钟内下跌\" dense></v-text-field>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"3\" :sm=\"4\" :xs=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R23\" :disabled=\"!jData.R21\" color=\"green\" outlined single-line min=\"0\"\r\n\t\t\t\t\t\t\t\t\t\t hide-details suffix=\"%时\" dense></v-text-field>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"4\" :sm=\"6\" :xs=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R24\" :disabled=\"!jData.R21\" color=\"green\" outlined single-line\r\n\t\t\t\t\t\t\t\t\t\t prefix=\"止损比例\" min=\"1\" hide-details suffix=\"%\" dense></v-text-field>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"5\" :sm=\"6\" :xs=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R25\" :disabled=\"!jData.R21\" color=\"green\" outlined single-line min=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t hide-details suffix=\"分钟后恢复数值\" dense></v-text-field>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t</v-row>\r\n\r\n\t\t\t\t\t\t\t</v-col>\r\n\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"10\"  class=\"pb-0\">\r\n\t\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" class=\"py-0 d-flex justify-start align-center\">\r\n\t\t\t\t\t\t\t\t\t\t<v-icon @click=\"allowQtJc\">{{jData.R31 ? 'mdi-check-box-outline' : 'mdi-square-outline'}}</v-icon>\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"body-1\">启用</span>\r\n\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"4\" :sm=\"6\" :xs=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R32\" :disabled=\"!jData.R31\" color=\"green\" outlined single-line min=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t hide-details suffix=\"分钟内下跌\" dense></v-text-field>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"3\" :sm=\"4\" :xs=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R33\" :disabled=\"!jData.R31\" color=\"green\" outlined single-line min=\"0\"\r\n\t\t\t\t\t\t\t\t\t\t hide-details suffix=\"%时\" dense></v-text-field>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"4\" :sm=\"6\" :xs=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R34\" :disabled=\"!jData.R31\" color=\"green\" outlined single-line\r\n\t\t\t\t\t\t\t\t\t\t prefix=\"建仓比例\" min=\"1\" hide-details suffix=\"%\" dense></v-text-field>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col cols=\"12\" :lg=\"3\" :md=\"5\" :sm=\"6\" :xs=\"12\">\r\n\t\t\t\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R35\" :disabled=\"!jData.R31\" color=\"green\" outlined single-line min=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t hide-details suffix=\"分钟后恢复数值\" dense></v-text-field>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t</v-row>\r\n\r\n\t\t\t\t\t\t\t</v-col>\r\n\r\n\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t</v-card-text>\r\n\r\n\t\t\t\t\t<v-card-actions>\r\n\t\t\t\t\t\t<v-btn  @click=\"activeRule--\" v-if=\"activeRule>0\">上一个</v-btn>\r\n\r\n\t\t\t\t\t\t<v-btn color=\"green\" outlined v-if=\"activeRule == child.length-1\" @click=\"postRule\">提交</v-btn>\r\n\t\t\t\t\t\t<v-btn @click=\"validateData()\" color=\"green\" outlined v-else>填写完成,下一个</v-btn>\r\n\t\t\t\t\t</v-card-actions>\r\n\t\t\t\t</v-card>\r\n\t\t\t</v-form>\r\n\t\t</v-card>\r\n\r\n\t</v-card>\r\n</template>\r\n\r\n\r\n<script>\r\n\timport {\r\n\t\tmapActions\r\n\t} from 'vuex';\r\n\timport Utils from '@/plugins/cryAes.js'\r\n\timport Valid from '@/plugins/validate.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tajaxObj: {}, //要提交的规则数据\r\n\t\t\t\trules: {\r\n\t\t\t\t\trequired: v => !!v || '必填',\r\n\t\t\t\t\tlength: v => (v && v.length <= 68) || '超出长度',\r\n\t\t\t\t\tisEmpty: v => /\\S/.test(v) || '不可为空',\r\n\t\t\t\t\tsize: v => v > 0 || '必须大于0',\r\n\t\t\t\t\tnot: v => !/[\\u4E00-\\u9FA5]/g.test(v) || '不能是中文'\r\n\t\t\t\t},\r\n\t\t\t\tvalid: true,\r\n\t\t\t\truleName: '', //规则名称\r\n\t\t\t\tjData: { //建仓\r\n\t\t\t\t\tR1: 0, //买入跌幅\r\n\t\t\t\t\tR3: 1, //单次买入金额\r\n\t\t\t\t\tR2: 0, //跌幅回调\r\n\t\t\t\t\tR54: null, //计价货币\r\n\t\t\t\t\tR11: false, //允许强制建仓\r\n\t\t\t\t\tR12: 0, //强制建仓\r\n\t\t\t\t\tR13: false, //允许\r\n\t\t\t\t\tR14: 1, //分钟内上涨\r\n\t\t\t\t\tR15: 0, //追涨建仓\r\n\t\t\t\t\tR36: 1, //防插针\r\n\r\n\t\t\t\t\tR7: 0, //单次补仓跌幅\r\n\t\t\t\t\tR10: 0, //补仓回调\r\n\t\t\t\t\tR9: 0, //单次补仓金额\r\n\t\t\t\t\tR8: 0, //补仓\r\n\t\t\t\t\tR19: false, //补仓单独卖出\r\n\t\t\t\t\tR20: false, //补单可进行补仓\r\n\r\n\t\t\t\t\tR4: 0, //卖出涨幅\r\n\t\t\t\t\tR5: 0, //涨幅回调\r\n\t\t\t\t\tR6: 0, //止损跌幅\r\n\t\t\t\t\tR16: false, //允许分钟内下跌\r\n\t\t\t\t\tR17: 0, //分钟内下跌\r\n\t\t\t\t\tR18: 0, //杀跌平仓\r\n\r\n\t\t\t\t\tR26: false, //允许补仓\r\n\t\t\t\t\tR27: 0, //分钟内下跌\r\n\t\t\t\t\tR28: 0, //时\r\n\t\t\t\t\tR29: 0, //补仓比例更改为\r\n\t\t\t\t\tR30: 0, //分钟后回复数值\r\n\t\t\t\t\tR21: false, //允许止损\r\n\t\t\t\t\tR22: 0,\r\n\t\t\t\t\tR23: 0,\r\n\t\t\t\t\tR24: 0,\r\n\t\t\t\t\tR25: 0,\r\n\t\t\t\t\tR31: false, //允许建仓\r\n\t\t\t\t\tR32: 0,\r\n\t\t\t\t\tR33: 0,\r\n\t\t\t\t\tR34: 0,\r\n\t\t\t\t\tR35: 0\r\n\t\t\t\t},\r\n\r\n\t\t\t\tactiveRule: 0,\r\n\r\n\t\t\t\tcurcy: 1, //当前的R54(货币)\r\n\r\n\t\t\t\tcurrency: [{\r\n\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\tvalue: 'USDT'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 2,\r\n\t\t\t\t\t\tvalue: 'ETH'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 3,\r\n\t\t\t\t\t\tvalue: 'BTC'\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\r\n\t\t\t\tchild: ['建仓规则', '平仓规则', '补仓规则', '其他规则'],\r\n\r\n\t\t\t\ttype: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\truleObj: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => ({})\r\n\t\t\t},\r\n\t\t\tedit: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tedit: {\r\n\t\t\t\thandler: 'transPropsData',\r\n\t\t\t\timmediate: true\r\n\t\t\t},\r\n\t\t\twssData: {\r\n\t\t\t\thandler(nV, oV) {\r\n\t\t\t\t\tthis.getMessage();\r\n\t\t\t\t},\r\n\t\t\t\tdeep: true\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\twssData() { //wss传递的消息\r\n\t\t\t\treturn this.$store.state.collocationList;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmethods: {\t\t\r\n\t\t\tlistenState(name) {\r\n\t\t\t\tthis.jData.R19 = name;\r\n\t\t\t\tname == true ? '' : this.jData.R20 = false;\r\n\t\t\t},\r\n\r\n\t\t\tvalidateData() { //点击下一步的时候验证\r\n\t\t\t\tif (this.$refs.form.validate()) {\r\n\t\t\t\t\tthis.activeRule++;\r\n\t\t\t\t\tthis.$refs.form.resetValidation();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('nonononon')\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\ttransPropsData() { //编辑初始化对数据进行转换\r\n\t\t\t\tif (this.edit) {\r\n\t\t\t\t\tlet item = JSON.parse(JSON.stringify(this.ruleObj));\r\n\t\t\t\t\tthis.curcy = Number(item.R54);\r\n\t\t\t\t\tthis.ruleName = item.R0 ? this.unescapeF(item.R0) : '';\r\n\t\t\t\t\titem.R11 = item.R11 == 1 ? true : false;\r\n\t\t\t\t\titem.R13 = item.R13 == 1 ? true : false;\r\n\t\t\t\t\titem.R19 = item.R19 == 1 ? true : false;\r\n\t\t\t\t\titem.R16 = item.R16 == 1 ? true : false;\r\n\t\t\t\t\titem.R20 = item.R20 == 1 ? true : false;\r\n\t\t\t\t\titem.R21 = item.R21 == 1 ? true : false;\r\n\t\t\t\t\titem.R26 = item.R26 == 1 ? true : false;\r\n\t\t\t\t\titem.R31 = item.R31 == 1 ? true : false;\r\n\r\n\t\t\t\t\tthis.jData = Object.assign({}, this.jData, item);\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tselectCurrency(e) { //选择计价货币\r\n\t\t\t\tthis.jData.R54 = e;\r\n\t\t\t},\r\n\r\n\t\t\t...mapActions(['changeLay', 'changeSnack']),\r\n\r\n\t\t\thideRule() {\r\n\t\t\t\tthis.$emit('hideRule');\r\n\t\t\t},\r\n\t\t\tallowJc() { //是否强制建仓\r\n\r\n\t\t\t\tthis.jData.R11 = !this.jData.R11;\r\n\t\t\t\tif (!this.jData.R11) { //没被选中\r\n\t\t\t\t\tthis.jData.R12 = 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tallowSup() {\r\n\t\t\t\tthis.jData.R13 = !this.jData.R13;\r\n\t\t\t\tif (!this.jData.R13) {\r\n\t\t\t\t\tthis.jData.R14 = 0;\r\n\t\t\t\t\tthis.jData.R15 = 0;\r\n\t\t\t\t\tthis.jData.R36 = 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tallowPc() { //允许-平仓\r\n\t\t\t\tthis.jData.R16 = !this.jData.R16;\r\n\t\t\t\tif (!this.jData.R16) {\r\n\t\t\t\t\tthis.jData.R17 = 0;\r\n\t\t\t\t\tthis.jData.R18 = 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tallowQtBc() { //其他规则-启用补仓\r\n\r\n\t\t\t\tthis.jData.R26 = !this.jData.R26;\r\n\t\t\t\tif (!this.jData.R26) {\r\n\t\t\t\t\tthis.jData.R27 = 0;\r\n\t\t\t\t\tthis.jData.R28 = 0;\r\n\t\t\t\t\tthis.jData.R29 = 0;\r\n\t\t\t\t\tthis.jData.R30 = 0;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tallowQtZs() { //其他规则-启用止损\r\n\t\t\t\tthis.jData.R21 = !this.jData.R21;\r\n\t\t\t\tif (!this.jData.R21) {\r\n\t\t\t\t\tthis.jData.R22 = 0;\r\n\t\t\t\t\tthis.jData.R23 = 0;\r\n\t\t\t\t\tthis.jData.R24 = 0;\r\n\t\t\t\t\tthis.jData.R25 = 0;\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tallowQtJc() { //其他规则-启用建仓\r\n\t\t\t\tthis.jData.R31 = !this.jData.R31;\r\n\t\t\t\tif (!this.jData.R31) {\r\n\t\t\t\t\tthis.jData.R32 = 0;\r\n\t\t\t\t\tthis.jData.R33 = 0;\r\n\t\t\t\t\tthis.jData.R34 = 0;\r\n\t\t\t\t\tthis.jData.R35 = 0;\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tunescapeF(str) { //unicode=>文字\r\n\t\t\t\treturn unescape(str.replace(/\\\\/g, \"%\"))\r\n\t\t\t},\r\n\r\n\r\n\t\t\tcharToUnicode(str) {\r\n\t\t\t\tlet res = [];\r\n\t\t\t\tfor (let i = 0; i < str.length; i++) {\r\n\t\t\t\t\tres[i] = (\"00\" + str.charCodeAt(i).toString(16)).slice(-4);\r\n\t\t\t\t}\r\n\t\t\t\treturn \"%u\" + res.join(\"%u\");\r\n\t\t\t},\r\n\r\n\t\t\tgetMessage() { //wss传递的消息\r\n\t\t\t\tlet result = this.wssData;\r\n\t\t\t\tswitch (result.code) {\r\n\t\t\t\t\tcase 20013: //客户端在线\r\n\t\t\t\t\t\tthis.wssSave();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\twssSave() {\r\n\t\t\t\tlet json = JSON.stringify({\r\n\t\t\t\t\tcode: 1006\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.$sock.websocketsend(json);\r\n\t\t\t},\r\n\r\n\t\t\tpostRule() { //提交规则\r\n\t\t\t\t\r\n\t\t\t\tlet list = JSON.parse(JSON.stringify(this.jData));\r\n\t\t\t\tlist.R54 = this.curcy;\r\n\t\t\t\tlet title = this.ruleName.replace(/\\s+/g,'');\r\n\t\t\t\tlist.R0 = this.charToUnicode(title);\r\n\t\t\t\tlist.R11 = list.R11 ? 1 : 0;\r\n\t\t\t\tlist.R13 = list.R13 ? 1 : 0;\r\n\t\t\t\tlist.R19 = list.R19 ? 1 : 0;\r\n\t\t\t\tlist.R16 = list.R16 ? 1 : 0;\r\n\t\t\t\tlist.R20 = list.R20 ? 1 : 0;\r\n\t\t\t\tlist.R21 = list.R21 ? 1 : 0;\r\n\t\t\t\tlist.R26 = list.R26 ? 1 : 0;\r\n\t\t\t\tlist.R31 = list.R31 ? 1 : 0;\r\n\r\n\t\t\t\tfor (let i in list) { //数字转成了字符\r\n\t\t\t\t\tif (typeof(list[i]) == 'number') {\r\n\t\t\t\t\t\tlist[i] = list[i].toString();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tname: title,\r\n\t\t\t\t\tdata: Utils.encrypt(JSON.stringify(list))\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tthis.edit ? obj.id = list.id : '';\r\n\r\n\t\t\t\tlet url = this.edit ? '/EasWebUser/changeRule' : '/EasWebUser/addRule';\r\n\r\n\t\t\t\t$ax.getAjaxData(url, obj, (res) => {\r\n\t\t\t\t\tthis.changeLay(false);\r\n\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\tlet msg = {\r\n\t\t\t\t\t\t\tstate: true,\r\n\t\t\t\t\t\t\terrorText: {\r\n\t\t\t\t\t\t\t\ttype: 'green',\r\n\t\t\t\t\t\t\t\ttext: this.edit ? '编辑成功' : '添加成功'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.changeSnack(msg);\r\n\r\n\t\t\t\t\t\tlet state = this.$sock.lookState();\r\n\r\n\t\t\t\t\t\tstate == -1 ? this.$sock.initWebSocket() : this.wssSave();\r\n\r\n\t\t\t\t\t\tsessionStorage.removeItem('collocation'); //清空缓存里的rule/api\r\n\r\n\t\t\t\t\t\tObject.assign(this.$data, this.$options.data());\r\n\r\n\t\t\t\t\t\tthis.hideRule();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, {\r\n\t\t\t\t\thasToken: true\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped=\"scoped\">\r\n\t.xy-select {\r\n\t\twidth: 100px;\r\n\t\tborder: 1px solid;\r\n\t\tborder-radius: 3px;\r\n\t\tbackground: none;\r\n\t\tpadding: 4px;\r\n\t}\r\n\r\n\t.xy-select:focus {\r\n\t\toutline: 0;\r\n\t\tborder: 1px solid #4caf50;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\r\n\t.xy-options {\r\n\t\tpadding: 5px 3px;\r\n\t}\r\n\r\n\t.xy-options:hover {\r\n\t\tbackground: #4caf50;\r\n\t}\r\n\r\n\t.nameStyle {\r\n\t\toutline: 0;\r\n\t\tmax-width: 200px;\r\n\t\tpadding: 3px 3px 3px 5px;\r\n\t\tborder-radius: 3px;\r\n\t\tborder: 1px solid;\r\n\t}\r\n\r\n\t.fade-enter-active,\r\n\t.fade-leave-active {\r\n\t\ttransition: opacity .5s\r\n\t}\r\n\r\n\t.fade-enter,\r\n\t.fade-leave-active {\r\n\t\topacity: 0\r\n\t}\r\n</style>\n"],"sourceRoot":"src/components"}]}