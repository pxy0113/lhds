{"remainingRequest":"F:\\work\\lhds\\node_modules\\babel-loader\\lib\\index.js!F:\\work\\lhds\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\work\\lhds\\src\\router\\index.js","dependencies":[{"path":"F:\\work\\lhds\\src\\router\\index.js","mtime":1571626526315},{"path":"F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n\n/**\n * Vue Router\n *\n * @library\n *\n * https://router.vuejs.org/en/\n */\n// Lib imports\nimport Vue from 'vue';\nimport VueAnalytics from 'vue-analytics';\nimport Router from 'vue-router'; // import Meta from 'vue-meta'\n\nimport vuex from \"../store/index\"; // Routes\n\nimport paths from \"./paths\";\n\nfunction route(path, view, name) {\n  return {\n    name: name || view,\n    path: path,\n    component: function component(resovle) {\n      return import(\"@/views/\".concat(view, \".vue\")).then(resovle);\n    }\n  };\n}\n\nVue.use(Router); // Create a new router\n\nvar router = new Router({\n  // mode: 'history',\n  // base:'/dist/',\n  routes: paths.map(function (path) {\n    return route(path.path, path.view, path.name);\n  }).concat([{\n    path: '*',\n    redirect: '/dashboard'\n  }]),\n  scrollBehavior: function scrollBehavior(to, from, savedPosition) {\n    if (savedPosition) {\n      return savedPosition;\n    }\n\n    if (to.hash) {\n      return {\n        selector: to.hash\n      };\n    }\n\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n}); // Vue.use(Meta)\n\nrouter.beforeEach(function (to, from, next) {\n  //会在任意路由跳转前执行，next一定要记着执行，不然路由不能跳转了\n  if (to.path == '/login') {\n    console.log('我就是要去登陆啊');\n    next();\n  } else {\n    //去的不是登陆页\n    if (!sessionStorage.token) {\n      //未登录\n      if (from.path == '/login') {\n        next();\n      } else {\n        vuex.state.showBar = false;\n        next('/login');\n      }\n    } else {\n      next();\n    }\n  }\n}); // Bootstrap Analytics\n// Set in .env\n// https://github.com/MatteoGabriele/vue-analytics\n\nif (process.env.GOOGLE_ANALYTICS) {\n  Vue.use(VueAnalytics, {\n    id: process.env.GOOGLE_ANALYTICS,\n    router: router,\n    autoTracking: {\n      page: process.env.NODE_ENV !== 'development'\n    }\n  });\n}\n\nexport default router;",{"version":3,"sources":["F:\\work\\lhds\\src\\router\\index.js"],"names":["Vue","VueAnalytics","Router","vuex","paths","route","path","view","name","component","resovle","then","use","router","routes","map","concat","redirect","scrollBehavior","to","from","savedPosition","hash","selector","x","y","beforeEach","next","console","log","sessionStorage","token","state","showBar","process","env","GOOGLE_ANALYTICS","id","autoTracking","page","NODE_ENV"],"mappings":";;AAAA;;;;;;;AAQA;AACA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,YAAP,MAAyB,eAAzB;AACA,OAAOC,MAAP,MAAmB,YAAnB,C,CACA;;AACA,OAAOC,IAAP,uB,CACA;;AACA,OAAOC,KAAP;;AAEA,SAASC,KAAT,CAAeC,IAAf,EAAqBC,IAArB,EAA2BC,IAA3B,EAAiC;AAC7B,SAAO;AACHA,IAAAA,IAAI,EAAEA,IAAI,IAAID,IADX;AAEHD,IAAAA,IAAI,EAAJA,IAFG;AAGHG,IAAAA,SAAS,EAAE,mBAACC,OAAD;AAAA,aAAa,yBACTH,IADS,WAEtBI,IAFsB,CAEjBD,OAFiB,CAAb;AAAA;AAHR,GAAP;AAOH;;AAEDV,GAAG,CAACY,GAAJ,CAAQV,MAAR,E,CAEA;;AACA,IAAMW,MAAM,GAAG,IAAIX,MAAJ,CAAW;AACtB;AACA;AACAY,EAAAA,MAAM,EAAEV,KAAK,CAACW,GAAN,CAAU,UAAAT,IAAI;AAAA,WAAID,KAAK,CAACC,IAAI,CAACA,IAAN,EAAYA,IAAI,CAACC,IAAjB,EAAuBD,IAAI,CAACE,IAA5B,CAAT;AAAA,GAAd,EAA0DQ,MAA1D,CAAiE,CAAC;AACtEV,IAAAA,IAAI,EAAE,GADgE;AAEtEW,IAAAA,QAAQ,EAAE;AAF4D,GAAD,CAAjE,CAHc;AAOtBC,EAAAA,cAPsB,0BAOPC,EAPO,EAOHC,IAPG,EAOGC,aAPH,EAOkB;AACpC,QAAIA,aAAJ,EAAmB;AACf,aAAOA,aAAP;AACH;;AACD,QAAIF,EAAE,CAACG,IAAP,EAAa;AACT,aAAO;AACHC,QAAAA,QAAQ,EAAEJ,EAAE,CAACG;AADV,OAAP;AAGH;;AACD,WAAO;AACHE,MAAAA,CAAC,EAAE,CADA;AAEHC,MAAAA,CAAC,EAAE;AAFA,KAAP;AAIH;AApBqB,CAAX,CAAf,C,CAuBA;;AACAZ,MAAM,CAACa,UAAP,CAAkB,UAACP,EAAD,EAAKC,IAAL,EAAWO,IAAX,EAAoB;AAAE;AAGpC,MAAGR,EAAE,CAACb,IAAH,IAAW,QAAd,EAAuB;AACnBsB,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAF,IAAAA,IAAI;AACP,GAHD,MAGK;AAAE;AACH,QAAG,CAACG,cAAc,CAACC,KAAnB,EAAyB;AAAE;AACvB,UAAGX,IAAI,CAACd,IAAL,IAAW,QAAd,EAAuB;AACnBqB,QAAAA,IAAI;AACP,OAFD,MAEK;AACDxB,QAAAA,IAAI,CAAC6B,KAAL,CAAWC,OAAX,GAAqB,KAArB;AACAN,QAAAA,IAAI,CAAC,QAAD,CAAJ;AACH;AAEJ,KARD,MAQK;AACDA,MAAAA,IAAI;AACP;AACJ;AAIJ,CAtBD,E,CAyBA;AACA;AACA;;AACA,IAAIO,OAAO,CAACC,GAAR,CAAYC,gBAAhB,EAAkC;AAC9BpC,EAAAA,GAAG,CAACY,GAAJ,CAAQX,YAAR,EAAsB;AAClBoC,IAAAA,EAAE,EAAEH,OAAO,CAACC,GAAR,CAAYC,gBADE;AAElBvB,IAAAA,MAAM,EAANA,MAFkB;AAGlByB,IAAAA,YAAY,EAAE;AACVC,MAAAA,IAAI,EAAEL,OAAO,CAACC,GAAR,CAAYK,QAAZ,KAAyB;AADrB;AAHI,GAAtB;AAOH;;AAED,eAAe3B,MAAf","sourcesContent":["/**\n * Vue Router\n *\n * @library\n *\n * https://router.vuejs.org/en/\n */\n\n// Lib imports\nimport Vue from 'vue'\nimport VueAnalytics from 'vue-analytics'\nimport Router from 'vue-router'\n// import Meta from 'vue-meta'\nimport vuex from '../store/index'\n// Routes\nimport paths from './paths'\n\nfunction route(path, view, name) {\n    return {\n        name: name || view,\n        path,\n        component: (resovle) => import(\n            `@/views/${view}.vue`\n        ).then(resovle)\n    }\n}\n\nVue.use(Router)\n\n// Create a new router\nconst router = new Router({\n    // mode: 'history',\n    // base:'/dist/',\n    routes: paths.map(path => route(path.path, path.view, path.name)).concat([{\n        path: '*',\n        redirect: '/dashboard'\n    }]),\n    scrollBehavior(to, from, savedPosition) {\n        if (savedPosition) {\n            return savedPosition\n        }\n        if (to.hash) {\n            return {\n                selector: to.hash\n            }\n        }\n        return {\n            x: 0,\n            y: 0\n        }\n    }\n})\n\n// Vue.use(Meta)\nrouter.beforeEach((to, from, next) => { //会在任意路由跳转前执行，next一定要记着执行，不然路由不能跳转了\n\n\n    if(to.path == '/login'){\n        console.log('我就是要去登陆啊')\n        next();\n    }else{ //去的不是登陆页\n        if(!sessionStorage.token){ //未登录\n            if(from.path=='/login'){\n                next();\n            }else{\n                vuex.state.showBar = false;\n                next('/login');           \n            }\n\n        }else{\n            next();\n        }  \n    }\n    \n\n\n});\n\n\n// Bootstrap Analytics\n// Set in .env\n// https://github.com/MatteoGabriele/vue-analytics\nif (process.env.GOOGLE_ANALYTICS) {\n    Vue.use(VueAnalytics, {\n        id: process.env.GOOGLE_ANALYTICS,\n        router,\n        autoTracking: {\n            page: process.env.NODE_ENV !== 'development'\n        }\n    })\n}\n\nexport default router\n"]}]}