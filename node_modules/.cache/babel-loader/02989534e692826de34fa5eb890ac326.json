{"remainingRequest":"F:\\work\\lhds\\node_modules\\babel-loader\\lib\\index.js!F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\work\\lhds\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\work\\lhds\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\work\\lhds\\src\\views\\Login.vue","mtime":1573551467021},{"path":"F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.function.name\";\nimport _defineProperty from \"F:\\\\work\\\\lhds\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapActions } from 'vuex';\nimport img from '@/img/logo.png';\nimport bgImg from '@/img/body.svg';\nimport showIcon from '@/img/show.svg';\nimport hideIcon from '@/img/hide.svg';\nexport default {\n  data: function data() {\n    //数据\n    return {\n      errorText: {},\n      snackbar: false,\n      code: '',\n      dialog: false,\n      //对话框\n      logo: img,\n      show_icon: showIcon,\n      hide_icon: hideIcon,\n      bg: bgImg,\n      type: 1,\n      //1登陆2忘记3注册\n      registerValid: true,\n      loginValid: true,\n      show1: false,\n      name: '',\n      password: '',\n      email: '',\n      nameRules: [function (v) {\n        return !!v || '必填';\n      }, function (v) {\n        return v && v.length >= 2 || '名称至少两个字';\n      }],\n      rules: {\n        required: function required(value) {\n          return !!value || '必填.';\n        },\n        min: function min(v) {\n          return v.length >= 6 || '最少六个字符';\n        },\n        email: function email(value) {\n          var pattern = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n          return pattern.test(value) || '请输入正确的邮箱.';\n        }\n      }\n    };\n  },\n  components: {//模板\n  },\n  methods: _objectSpread({}, mapActions(['changeLay', 'changeSnack']), {\n    login: function login() {\n      var _this = this;\n\n      //登陆\n      if (this.$refs.loginForm.validate()) {\n        this.changeLay(true);\n        var list = {\n          account: this.name,\n          password: this.password\n        };\n        $ax.getAjaxData('/EasWebUser/login', list, function (res) {\n          _this.changeLay(false);\n\n          if (res.code == 1) {\n            sessionStorage.token = res.token;\n\n            if (res.accState == 0) {\n              //已过期\n              _this.dialog = true;\n            } else {\n              //未过期\n              var msg = {\n                state: true,\n                errorText: {\n                  type: 'success',\n                  text: '登陆成功'\n                }\n              };\n\n              _this.changeSnack(msg);\n\n              var userData = {\n                name: _this.name,\n                email: res.email,\n                endTime: res.endTime\n              };\n              sessionStorage.showBar = true;\n              _this.$store.state.showBar = true;\n              sessionStorage.userData = JSON.stringify(userData);\n\n              _this.$router.replace({\n                path: '/dashboard'\n              });\n            }\n          }\n        });\n      }\n    },\n    register: function register() {\n      var _this2 = this;\n\n      //注册\n      if (this.$refs.registForm.validate()) {\n        var list = {\n          account: this.name,\n          password: this.password,\n          email: this.email\n        };\n        this.changeLay(true);\n        $ax.getAjaxData('/EasWebUser/register', list, function (res) {\n          if (res.code == 1) {\n            _this2.changeLay(false);\n\n            var msg = {\n              state: true,\n              errorText: {\n                type: 'success',\n                text: '注册成功'\n              }\n            };\n\n            _this2.changeSnack(msg);\n\n            sessionStorage.userName = _this2.name;\n            _this2.type = 1;\n            _this2.name = '';\n            _this2.password = '';\n          } else {\n            _this2.changeLay(false);\n          }\n        });\n      }\n\n      ;\n    },\n    toJH: function toJH() {\n      var _this3 = this;\n\n      //激活\n      var list = {\n        // account:sessionStorage.userName,\n        code: this.code\n      };\n      this.changeLay(true);\n      $ax.getAjaxData('/EasWebUser/recharge', list, function (res) {\n        _this3.changeLay(false);\n\n        if (res.code == 1) {\n          _this3.dialog = false;\n\n          _this3.login();\n        }\n      }, {\n        hasToken: true\n      });\n    }\n  }),\n  //-----------生命周期--------------------------------------\n  created: function created() {//应用程序加载前触发。多个页面会调用多次\n  },\n  mounted: function mounted() {//页面渲染完成后触发\n  }\n};",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA,SACA,UADA,QAEA,MAFA;AAGA,OAAA,GAAA,MAAA,gBAAA;AACA,OAAA,KAAA,MAAA,gBAAA;AACA,OAAA,QAAA,MAAA,gBAAA;AACA,OAAA,QAAA,MAAA,gBAAA;AACA,eAAA;AAEA,EAAA,IAFA,kBAEA;AAAA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,IAAA,EAAA,EAHA;AAIA,MAAA,MAAA,EAAA,KAJA;AAIA;AACA,MAAA,IAAA,EAAA,GALA;AAMA,MAAA,SAAA,EAAA,QANA;AAOA,MAAA,SAAA,EAAA,QAPA;AAQA,MAAA,EAAA,EAAA,KARA;AASA,MAAA,IAAA,EAAA,CATA;AASA;AACA,MAAA,aAAA,EAAA,IAVA;AAWA,MAAA,UAAA,EAAA,IAXA;AAYA,MAAA,KAAA,EAAA,KAZA;AAaA,MAAA,IAAA,EAAA,EAbA;AAcA,MAAA,QAAA,EAAA,EAdA;AAeA,MAAA,KAAA,EAAA,EAfA;AAgBA,MAAA,SAAA,EAAA,CACA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,CAAA,IAAA,IAAA;AAAA,OADA,EAEA,UAAA,CAAA;AAAA,eAAA,CAAA,IAAA,CAAA,CAAA,MAAA,IAAA,CAAA,IAAA,SAAA;AAAA,OAFA,CAhBA;AAoBA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,kBAAA,KAAA;AAAA,iBAAA,CAAA,CAAA,KAAA,IAAA,KAAA;AAAA,SADA;AAEA,QAAA,GAAA,EAAA,aAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,MAAA,IAAA,CAAA,IAAA,QAAA;AAAA,SAFA;AAGA,QAAA,KAAA,EAAA,eAAA,KAAA,EAAA;AACA,cAAA,OAAA,GACA,sJADA;AAEA,iBAAA,OAAA,CAAA,IAAA,CAAA,KAAA,KAAA,WAAA;AACA;AAPA;AApBA,KAAA;AA8BA,GAjCA;AAmCA,EAAA,UAAA,EAAA,CAAA;AAAA,GAnCA;AAuCA,EAAA,OAAA,oBACA,UAAA,CAAA,CAAA,WAAA,EAAA,aAAA,CAAA,CADA;AAGA,IAAA,KAHA,mBAGA;AAAA;;AAAA;AACA,UAAA,KAAA,KAAA,CAAA,SAAA,CAAA,QAAA,EAAA,EAAA;AAEA,aAAA,SAAA,CAAA,IAAA;AAEA,YAAA,IAAA,GAAA;AACA,UAAA,OAAA,EAAA,KAAA,IADA;AAEA,UAAA,QAAA,EAAA,KAAA;AAFA,SAAA;AAKA,QAAA,GAAA,CAAA,WAAA,CAAA,mBAAA,EAAA,IAAA,EAAA,UAAA,GAAA,EAAA;AAEA,UAAA,KAAA,CAAA,SAAA,CAAA,KAAA;;AAEA,cAAA,GAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,YAAA,cAAA,CAAA,KAAA,GAAA,GAAA,CAAA,KAAA;;AACA,gBAAA,GAAA,CAAA,QAAA,IAAA,CAAA,EAAA;AAAA;AAEA,cAAA,KAAA,CAAA,MAAA,GAAA,IAAA;AAEA,aAJA,MAIA;AAAA;AACA,kBAAA,GAAA,GAAA;AACA,gBAAA,KAAA,EAAA,IADA;AAEA,gBAAA,SAAA,EAAA;AACA,kBAAA,IAAA,EAAA,SADA;AAEA,kBAAA,IAAA,EAAA;AAFA;AAFA,eAAA;;AAOA,cAAA,KAAA,CAAA,WAAA,CAAA,GAAA;;AAEA,kBAAA,QAAA,GAAA;AACA,gBAAA,IAAA,EAAA,KAAA,CAAA,IADA;AAEA,gBAAA,KAAA,EAAA,GAAA,CAAA,KAFA;AAGA,gBAAA,OAAA,EAAA,GAAA,CAAA;AAHA,eAAA;AAMA,cAAA,cAAA,CAAA,OAAA,GAAA,IAAA;AACA,cAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AACA,cAAA,cAAA,CAAA,QAAA,GAAA,IAAA,CAAA,SAAA,CAAA,QAAA,CAAA;;AAEA,cAAA,KAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AACA,gBAAA,IAAA,EAAA;AADA,eAAA;AAIA;AAEA;AACA,SArCA;AAsCA;AACA,KApDA;AAsDA,IAAA,QAtDA,sBAsDA;AAAA;;AAAA;AACA,UAAA,KAAA,KAAA,CAAA,UAAA,CAAA,QAAA,EAAA,EAAA;AACA,YAAA,IAAA,GAAA;AACA,UAAA,OAAA,EAAA,KAAA,IADA;AAEA,UAAA,QAAA,EAAA,KAAA,QAFA;AAGA,UAAA,KAAA,EAAA,KAAA;AAHA,SAAA;AAKA,aAAA,SAAA,CAAA,IAAA;AACA,QAAA,GAAA,CAAA,WAAA,CAAA,sBAAA,EAAA,IAAA,EAAA,UAAA,GAAA,EAAA;AAEA,cAAA,GAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,SAAA,CAAA,KAAA;;AACA,gBAAA,GAAA,GAAA;AACA,cAAA,KAAA,EAAA,IADA;AAEA,cAAA,SAAA,EAAA;AACA,gBAAA,IAAA,EAAA,SADA;AAEA,gBAAA,IAAA,EAAA;AAFA;AAFA,aAAA;;AAOA,YAAA,MAAA,CAAA,WAAA,CAAA,GAAA;;AACA,YAAA,cAAA,CAAA,QAAA,GAAA,MAAA,CAAA,IAAA;AACA,YAAA,MAAA,CAAA,IAAA,GAAA,CAAA;AACA,YAAA,MAAA,CAAA,IAAA,GAAA,EAAA;AACA,YAAA,MAAA,CAAA,QAAA,GAAA,EAAA;AAEA,WAfA,MAeA;AACA,YAAA,MAAA,CAAA,SAAA,CAAA,KAAA;AACA;AACA,SApBA;AAqBA;;AAAA;AACA,KApFA;AAsFA,IAAA,IAtFA,kBAsFA;AAAA;;AAAA;AACA,UAAA,IAAA,GAAA;AACA;AACA,QAAA,IAAA,EAAA,KAAA;AAFA,OAAA;AAIA,WAAA,SAAA,CAAA,IAAA;AACA,MAAA,GAAA,CAAA,WAAA,CAAA,sBAAA,EAAA,IAAA,EAAA,UAAA,GAAA,EAAA;AAEA,QAAA,MAAA,CAAA,SAAA,CAAA,KAAA;;AAEA,YAAA,GAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,MAAA,GAAA,KAAA;;AAEA,UAAA,MAAA,CAAA,KAAA;AAEA;AAEA,OAXA,EAWA;AACA,QAAA,QAAA,EAAA;AADA,OAXA;AAeA;AA3GA,IAvCA;AAqJA;AAEA,EAAA,OAvJA,qBAuJA,CAAA;AAEA,GAzJA;AA2JA,EAAA,OA3JA,qBA2JA,CAAA;AAEA;AA7JA,CAAA","sourcesContent":["<template>\r\n\r\n\t<!-- <v-container class=\"mx-auto xy-height\"> -->\r\n\t<v-img :src='bg' lazy-src height=\"100vh\" position=\"left bottom\">\r\n\r\n\t\t<v-container class=\"mx-auto xy-height\">\r\n\t\t\t<v-row align=\"start\" justify=\"center\" style=\"height: 100%;\">\r\n\t\t\t\t<v-col :lg=\"3\" :md=\"6\" :sm=\"6\" :xs=\"6\">\r\n\t\t\t\t\t<v-card flat outlined style=\"background:#FFFFFF;border: 1px solid #FFFFFF;\">\r\n\t\t\t\t\t\t<div class=\" fill-height loginTitle py-5\">\r\n\t\t\t\t\t\t\t<v-avatar>\r\n\t\t\t\t\t\t\t\t<img :src=\"logo\">\r\n\t\t\t\t\t\t\t</v-avatar>\r\n\t\t\t\t\t\t\t<span style=\"font-size: 1.5rem;margin-left: 3px;\">量化大师</span>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"grey--text lighten-2 text-center\" style=\"font-size: 1.1rem;\">\r\n\t\t\t\t\t\t\t{{type==1?'登陆':'注册'}}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<v-card-text v-if=\"type==1\">\r\n\t\t\t\t\t\t\t<v-form ref=\"loginForm\" v-model=\"loginValid\" lazy-validation>\r\n\t\t\t\t\t\t\t\t<v-text-field outlined v-model=\"name\" :rules=\"nameRules\" label=\"用户名\" required dense prepend-inner-icon=\"mdi-account\"\r\n\t\t\t\t\t\t\t\t color=\"grey darken-3\"></v-text-field>\r\n\t\t\t\t\t\t\t\t<v-text-field outlined v-model=\"password\" :rules=\"[rules.required, rules.min]\" :type=\"show1 ? 'text' : 'password'\"\r\n\t\t\t\t\t\t\t\t prepend-inner-icon=\"mdi-key\" dense label=\"密码\" hint=\"至少6个字符\" color=\"grey darken-3\">\r\n\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t\t<template v-slot:append>\r\n\t\t\t\t\t\t\t\t\t<v-fade-transition leave-absolute>\r\n\t\t\t\t\t\t\t\t\t\t<img width=\"24\" height=\"24\" :src=\"show1?show_icon:hide_icon\" alt=\"\" style=\"cursor: pointer;\" @click=\"show1 = !show1\">\r\n\t\t\t\t\t\t\t\t\t</v-fade-transition>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t\t<div class=\"d-flex justify-end py-3\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"grey--text lighten-4 pointer\" @click=\"type=2\">我要注册</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<v-btn color=\"grey darken-3\" @click.native.stop=\"login\" dark block>\r\n\t\t\t\t\t\t\t\t\t登陆\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\r\n\t\t\t\t\t\t\t</v-form>\r\n\t\t\t\t\t\t</v-card-text>\r\n\r\n\t\t\t\t\t\t<!--注册-->\r\n\t\t\t\t\t\t<v-card-text v-if=\"type==2\">\r\n\t\t\t\t\t\t\t<v-form ref=\"registForm\" v-model=\"registerValid\" lazy-validation>\r\n\t\t\t\t\t\t\t\t<v-text-field outlined dense v-model=\"name\" :rules=\"nameRules\" label=\"用户名\" required prepend-inner-icon=\"mdi-account\"\r\n\t\t\t\t\t\t\t\t color=\"grey darken-3\"></v-text-field>\r\n\t\t\t\t\t\t\t\t<v-text-field outlined dense v-model=\"password\" :rules=\"[rules.required, rules.min]\" :type=\"show1 ? 'text' : 'password'\"\r\n\t\t\t\t\t\t\t\t prepend-inner-icon=\"mdi-key\" color=\"grey darken-3\" label=\"密码\" hint=\"至少6个字符\">\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t<template v-slot:append>\r\n\t\t\t\t\t\t\t\t\t\t<v-fade-transition leave-absolute>\r\n\t\t\t\t\t\t\t\t\t\t\t<img width=\"24\" height=\"24\" :src=\"show1?show_icon:hide_icon\" alt=\"\" style=\"cursor: pointer;\" @click=\"show1 = !show1\">\r\n\t\t\t\t\t\t\t\t\t\t</v-fade-transition>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t\t<v-text-field prepend-inner-icon=\"mdi-email\" outlined dense v-model=\"email\" :rules=\"[rules.email]\" label=\"邮箱\"\r\n\t\t\t\t\t\t\t\t color=\"grey darken-3\"></v-text-field>\r\n\t\t\t\t\t\t\t\t<div class=\"d-flex justify-space-between py-3\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"grey--text lighten-2 pointer\" @click=\"type=1\">返回登陆</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<v-btn color=\"grey darken-3\" @click=\"register\" style=\"width: 100%;color: white;\">\r\n\t\t\t\t\t\t\t\t\t注册\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t</v-form>\r\n\t\t\t\t\t\t</v-card-text>\r\n\r\n\t\t\t\t\t\t<!-- <v-card-actions class=\"d-flex justify-center\">\r\n\t\t\t\t\t\t\t\t\t</v-card-actions> -->\r\n\t\t\t\t\t</v-card>\r\n\r\n\t\t\t\t\t<v-dialog v-model=\"dialog\" persistent width=\"500\">\r\n\t\t\t\t\t\t<v-card>\r\n\t\t\t\t\t\t\t<v-card-title class=\"headline grey lighten-2\" primary-title>\r\n\t\t\t\t\t\t\t\t激活账号\r\n\t\t\t\t\t\t\t</v-card-title>\r\n\r\n\t\t\t\t\t\t\t<v-card-text>\r\n\t\t\t\t\t\t\t\t<v-text-field v-model=\"code\" label=\"激活码\" color=\"grey darken-3\"></v-text-field>\r\n\t\t\t\t\t\t\t</v-card-text>\r\n\r\n\t\t\t\t\t\t\t<v-card-actions>\r\n\t\t\t\t\t\t\t\t<div class=\"flex-grow-1\"></div>\r\n\t\t\t\t\t\t\t\t<v-btn color=\"grey darken-3\" text @click=\"toJH\">\r\n\t\t\t\t\t\t\t\t\t确定\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t</v-card-actions>\r\n\t\t\t\t\t\t</v-card>\r\n\t\t\t\t\t</v-dialog>\r\n\t\t\t\t</v-col>\r\n\t\t\t</v-row>\r\n\t\t</v-container>\r\n\r\n\r\n\t</v-img>\r\n\r\n\t<!-- </v-container> -->\r\n\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapActions\r\n\t} from 'vuex';\r\n\timport img from '@/img/logo.png'\r\n\timport bgImg from '@/img/body.svg'\r\n\timport showIcon from '@/img/show.svg'\r\n\timport hideIcon from '@/img/hide.svg'\r\n\texport default {\r\n\r\n\t\tdata() { //数据\r\n\t\t\treturn {\r\n\t\t\t\terrorText: {},\r\n\t\t\t\tsnackbar: false,\r\n\t\t\t\tcode: '',\r\n\t\t\t\tdialog: false, //对话框\r\n\t\t\t\tlogo: img,\r\n\t\t\t\tshow_icon: showIcon,\r\n\t\t\t\thide_icon: hideIcon,\r\n\t\t\t\tbg: bgImg,\r\n\t\t\t\ttype: 1, //1登陆2忘记3注册\r\n\t\t\t\tregisterValid: true,\r\n\t\t\t\tloginValid: true,\r\n\t\t\t\tshow1: false,\r\n\t\t\t\tname: '',\r\n\t\t\t\tpassword: '',\r\n\t\t\t\temail: '',\r\n\t\t\t\tnameRules: [\r\n\t\t\t\t\tv => !!v || '必填',\r\n\t\t\t\t\tv => (v && v.length >= 2) || '名称至少两个字',\r\n\t\t\t\t],\r\n\t\t\t\trules: {\r\n\t\t\t\t\trequired: value => !!value || '必填.',\r\n\t\t\t\t\tmin: v => v.length >= 6 || '最少六个字符',\r\n\t\t\t\t\temail: value => {\r\n\t\t\t\t\t\tconst pattern =\r\n\t\t\t\t\t\t\t/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n\t\t\t\t\t\treturn pattern.test(value) || '请输入正确的邮箱.'\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcomponents: { //模板\r\n\r\n\t\t},\r\n\r\n\t\tmethods: { //方法\r\n\t\t\t...mapActions(['changeLay', 'changeSnack']),\r\n\r\n\t\t\tlogin() { //登陆\r\n\t\t\t\tif (this.$refs.loginForm.validate()) {\r\n\r\n\t\t\t\t\tthis.changeLay(true);\r\n\r\n\t\t\t\t\tlet list = {\r\n\t\t\t\t\t\taccount: this.name,\r\n\t\t\t\t\t\tpassword: this.password\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t$ax.getAjaxData('/EasWebUser/login', list, (res) => {\r\n\r\n\t\t\t\t\t\tthis.changeLay(false);\r\n\r\n\t\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\t\tsessionStorage.token = res.token;\r\n\t\t\t\t\t\t\tif (res.accState == 0) { //已过期\r\n\r\n\t\t\t\t\t\t\t\tthis.dialog = true;\r\n\r\n\t\t\t\t\t\t\t} else { //未过期\r\n\t\t\t\t\t\t\t\tlet msg = {\r\n\t\t\t\t\t\t\t\t\tstate: true,\r\n\t\t\t\t\t\t\t\t\terrorText: {\r\n\t\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t\t\ttext: '登陆成功'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.changeSnack(msg);\r\n\r\n\t\t\t\t\t\t\t\tlet userData = {\r\n\t\t\t\t\t\t\t\t\tname: this.name,\r\n\t\t\t\t\t\t\t\t\temail: res.email,\r\n\t\t\t\t\t\t\t\t\tendTime: res.endTime\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tsessionStorage.showBar = true;\r\n\t\t\t\t\t\t\t\tthis.$store.state.showBar = true;\r\n\t\t\t\t\t\t\t\tsessionStorage.userData = JSON.stringify(userData);\r\n\r\n\t\t\t\t\t\t\t\tthis.$router.replace({\r\n\t\t\t\t\t\t\t\t\tpath: '/dashboard'\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tregister() { //注册\r\n\t\t\t\tif (this.$refs.registForm.validate()) {\r\n\t\t\t\t\tlet list = {\r\n\t\t\t\t\t\taccount: this.name,\r\n\t\t\t\t\t\tpassword: this.password,\r\n\t\t\t\t\t\temail: this.email\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.changeLay(true);\r\n\t\t\t\t\t$ax.getAjaxData('/EasWebUser/register', list, (res) => {\r\n\r\n\t\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\t\tthis.changeLay(false);\r\n\t\t\t\t\t\t\tlet msg = {\r\n\t\t\t\t\t\t\t\tstate: true,\r\n\t\t\t\t\t\t\t\terrorText: {\r\n\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t\ttext: '注册成功'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.changeSnack(msg);\r\n\t\t\t\t\t\t\tsessionStorage.userName = this.name;\r\n\t\t\t\t\t\t\tthis.type = 1;\r\n\t\t\t\t\t\t\tthis.name = '';\r\n\t\t\t\t\t\t\tthis.password = '';\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.changeLay(false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\t\t\t},\r\n\r\n\t\t\ttoJH() { //激活\r\n\t\t\t\tlet list = {\r\n\t\t\t\t\t// account:sessionStorage.userName,\r\n\t\t\t\t\tcode: this.code\r\n\t\t\t\t}\r\n\t\t\t\tthis.changeLay(true);\r\n\t\t\t\t$ax.getAjaxData('/EasWebUser/recharge', list, (res) => {\r\n\r\n\t\t\t\t\tthis.changeLay(false);\r\n\r\n\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\tthis.dialog = false;\r\n\r\n\t\t\t\t\t\tthis.login();\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}, {\r\n\t\t\t\t\thasToken: true\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//-----------生命周期--------------------------------------\r\n\r\n\t\tcreated() { //应用程序加载前触发。多个页面会调用多次\r\n\r\n\t\t},\r\n\r\n\t\tmounted() { //页面渲染完成后触发\r\n\r\n\t\t}\r\n\r\n\r\n\t}\r\n</script>\r\n\r\n<style scoped=\"scoped\">\r\n\t.loginTitle {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t/* \t.v-text-field {\r\n    padding-top: 6px;\r\n    margin-top: 4px;\r\n} */\r\n\t.pointer {\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.xy-height {\r\n\t\theight: 100vh;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/views"}]}