{"remainingRequest":"F:\\work\\vuefityDemo\\node_modules\\thread-loader\\dist\\cjs.js!F:\\work\\vuefityDemo\\node_modules\\babel-loader\\lib\\index.js!F:\\work\\vuefityDemo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\work\\vuefityDemo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\work\\vuefityDemo\\src\\views\\Dem.1.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\work\\vuefityDemo\\src\\views\\Dem.1.vue","mtime":1571144344000},{"path":"F:\\work\\vuefityDemo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\vuefityDemo\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\vuefityDemo\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\work\\vuefityDemo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\vuefityDemo\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.search\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport settingDialog from '@/components/settingDialog.vue';\nimport addRule from '@/components/addRule.vue';\nimport upSvg from '@/img/up.svg';\nexport default {\n  inject: ['theme'],\n  compoments: {\n    addRule: addRule,\n    settingDialog: settingDialog\n  },\n  data: function data() {\n    return {\n      tips: '暂无数据',\n      showSetDialog: false,\n      //显示设置对话框\n      transition: 'scale-transition',\n      loading: true,\n      //控制骨架屏 true表示显示\n      currency: [//货币类型\n      {\n        id: 1,\n        value: 'USDT'\n      }, {\n        id: 2,\n        value: 'ETH'\n      }, {\n        id: 3,\n        value: 'BTC'\n      }],\n      names2: [{\n        id: 1,\n        name: 'Sno'\n      }, {\n        id: 2,\n        name: 'Hon'\n      }, {\n        id: 3,\n        name: 'Don'\n      }, {\n        id: 4,\n        name: 'Elaine Street'\n      }, {\n        id: 5,\n        name: 'Court Street'\n      }, {\n        id: 6,\n        name: 'oub'\n      }, {\n        id: 7,\n        name: 'VA'\n      }, {\n        id: 8,\n        name: 'AJKJK V'\n      }],\n      neighborhoods: [1, 4],\n      //已选择的\n      search: '',\n      valid: true,\n      //表格验证\n      datas: {},\n      condition: {\n        //搜索条件\n        type: '',\n        account: '',\n        rule: ''\n      },\n      addCollocation: false,\n      //添加托管对话框\n      currentRule: null,\n      //当前规则\n      showAddRule: false,\n      //修改规则对话框\n      upIcon: upSvg,\n      target: '#vRow',\n      options: {\n        duration: 1000,\n        offset: 0,\n        easing: 'easeInOutCubic'\n      },\n      ruleData: [],\n      items: []\n    };\n  },\n  methods: {\n    closeSetting: function closeSetting() {\n      this.showSetDialog = false;\n    },\n    showSetting: function showSetting() {\n      //打开设置\n      this.showSetDialog = true;\n    },\n    addSelect: function addSelect(id) {\n      //选中一个交易对\n      var index = this.neighborhoods.indexOf(id);\n\n      if (index > -1) {\n        this.neighborhoods.splice(index, 1);\n      } else {\n        this.neighborhoods.push(id);\n      }\n    },\n    closeAddColl: function closeAddColl() {\n      //添加托管对话框-关闭\n      this.addCollocation = false;\n      this.neighborhoods = [];\n      this.$refs.form.resetValidation();\n    },\n    debounce: function debounce() {\n      var _this = this;\n\n      //节流\n      var t;\n      clearTimeout(this.t);\n      this.t = setTimeout(function () {\n        var that = _this;\n\n        if (!that.isEmpty(_this.search)) {\n          var obj = _this.fuzzyQuery(_this.search);\n\n          _this.ruleData = obj;\n        } else {\n          _this.ruleData = _this.names2;\n        }\n      }, 3000);\n    },\n    fuzzyQuery: function fuzzyQuery(keyWord) {\n      //模糊查询\n      var reg = new RegExp(keyWord);\n      var arr = [];\n      this.names2.forEach(function (item) {\n        if (reg.test(item.name)) {\n          arr.push(item);\n        }\n      });\n      return arr;\n    },\n    isEmpty: function isEmpty(obj) {\n      //判断字符是否为空的方法\n      if (typeof obj == 'undefined' || obj == null || obj == '' || obj.length > 0 && obj.trim().length == 0) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    cancelSearch: function cancelSearch() {\n      //取消搜索\n      this.search = '';\n      this.ruleData = this.names2;\n    },\n    transUpperCase: function transUpperCase(data) {\n      //交易对转大写\n      return data.toUpperCase();\n    },\n    showChip: function showChip(item) {\n      //显示操作面板\n      this.$set(item, 'show', !item.show); //取反\n\n      this.currentRule = item;\n    },\n    onOperation: function onOperation(item) {\n      //改变托管的状态-启动/暂停\n      var send = {\n        data: [{\n          id: item.id\n        }],\n        code: item.isRun == 0 ? 1004 : 1005\n      };\n      this.websocketsend(JSON.stringify(send));\n    },\n    onPosition: function onPosition(item) {\n      //平仓/建仓-单个\n      var send = {\n        data: [{\n          id: item.id\n        }],\n        code: item.isHas == 0 ? 1011 : 1012\n      };\n      this.websocketsend(JSON.stringify(send));\n    },\n    onRemove: function onRemove(item) {\n      //删除单个托管\n      var send = {\n        data: [{\n          id: item.id\n        }],\n        code: 1010\n      };\n      this.websocketsend(JSON.stringify(send));\n    },\n    onEdit: function onEdit(item) {\n      //编辑规则\n      //用某id得到对应的规则 传递给组件\n      this.showAddRule = true;\n    },\n    hideRule: function hideRule() {\n      //隐藏规则输入框\n      this.showAddRule = false;\n    },\n    allEnd: function allEnd() {\n      var _this2 = this;\n\n      //全部停止\n      this.$Modal.confirm({\n        title: '交易托管',\n        content: '<p>是否全部停止?</p>',\n        onOk: function onOk() {\n          var json = JSON.stringify({\n            code: 1003\n          });\n\n          _this2.websocketsend(json);\n        }\n      });\n    },\n    allStart: function allStart() {\n      var _this3 = this;\n\n      //全部启动\n      this.$Modal.confirm({\n        title: '交易托管',\n        content: '<p>是否全部启动?</p>',\n        onOk: function onOk() {\n          var code = JSON.stringify({\n            code: 1002\n          });\n\n          _this3.websocketsend(code);\n        }\n      });\n    },\n    addTo: function addTo() {\n      //添加至托管\n      if (this.$refs.form.validate()) {} else {}\n    }\n  },\n  destroyed: function destroyed() {\n    clearTimeout(this.t);\n  },\n  mounted: function mounted() {\n    var _this4 = this;\n\n    this.ruleData = this.names2;\n    this.$sock.initWebSocket();\n\n    if (sessionStorage.apiPublic) {\n      this.datas = JSON.parse(sessionStorage.apiPublic);\n    } else {\n      $ax.getTestData('/EasWebUser/getAPIData', {}, function (res) {\n        if (res.code == 1) {\n          sessionStorage.apiPublic = JSON.stringify(res.data);\n          _this4.datas = JSON.parse(sessionStorage.apiPublic);\n        }\n      });\n    } //请求数据\n\n\n    this.loading = false;\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    //路由离开前断开\n    this.$sock.close();\n    next();\n  }\n};",{"version":3,"sources":["Dem.1.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6OA,OAAA,aAAA,MAAA,gCAAA;AACA,OAAA,OAAA,MAAA,0BAAA;AACA,OAAA,KAAA,MAAA,cAAA;AACA,eAAA;AACA,EAAA,MAAA,EAAA,CAAA,OAAA,CADA;AAGA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA,OADA;AAEA,IAAA,aAAA,EAAA;AAFA,GAHA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,MADA;AAGA,MAAA,aAAA,EAAA,KAHA;AAGA;AAEA,MAAA,UAAA,EAAA,kBALA;AAOA,MAAA,OAAA,EAAA,IAPA;AAOA;AAEA,MAAA,QAAA,EAAA,CAAA;AACA;AAAA,QAAA,EAAA,EAAA,CAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,EAAA,EAAA,CAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAFA,EAGA;AAAA,QAAA,EAAA,EAAA,CAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAHA,CATA;AAeA,MAAA,MAAA,EAAA,CACA;AACA,QAAA,EAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA;AAFA,OADA,EAKA;AACA,QAAA,EAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA;AAFA,OALA,EASA;AACA,QAAA,EAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA;AAFA,OATA,EAaA;AACA,QAAA,EAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAbA,EAiBA;AACA,QAAA,EAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAjBA,EAqBA;AACA,QAAA,EAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA;AAFA,OArBA,EAyBA;AACA,QAAA,EAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAzBA,EA6BA;AACA,QAAA,EAAA,EAAA,CADA;AAEA,QAAA,IAAA,EAAA;AAFA,OA7BA,CAfA;AAmDA,MAAA,aAAA,EAAA,CAAA,CAAA,EAAA,CAAA,CAnDA;AAmDA;AAEA,MAAA,MAAA,EAAA,EArDA;AAuDA,MAAA,KAAA,EAAA,IAvDA;AAuDA;AAEA,MAAA,KAAA,EAAA,EAzDA;AA2DA,MAAA,SAAA,EAAA;AAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,OAAA,EAAA,EAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OA3DA;AAiEA,MAAA,cAAA,EAAA,KAjEA;AAiEA;AAEA,MAAA,WAAA,EAAA,IAnEA;AAmEA;AAEA,MAAA,WAAA,EAAA,KArEA;AAqEA;AAEA,MAAA,MAAA,EAAA,KAvEA;AAyEA,MAAA,MAAA,EAAA,OAzEA;AA0EA,MAAA,OAAA,EAAA;AACA,QAAA,QAAA,EAAA,IADA;AAEA,QAAA,MAAA,EAAA,CAFA;AAGA,QAAA,MAAA,EAAA;AAHA,OA1EA;AAgFA,MAAA,QAAA,EAAA,EAhFA;AAkFA,MAAA,KAAA,EAAA;AAlFA,KAAA;AAoFA,GA5FA;AA8FA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAEA,WAAA,aAAA,GAAA,KAAA;AAEA,KALA;AAOA,IAAA,WAPA,yBAOA;AAAA;AACA,WAAA,aAAA,GAAA,IAAA;AACA,KATA;AAWA,IAAA,SAXA,qBAWA,EAXA,EAWA;AAAA;AACA,UAAA,KAAA,GAAA,KAAA,aAAA,CAAA,OAAA,CAAA,EAAA,CAAA;;AACA,UAAA,KAAA,GAAA,CAAA,CAAA,EAAA;AACA,aAAA,aAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA,OAFA,MAEA;AACA,aAAA,aAAA,CAAA,IAAA,CAAA,EAAA;AACA;AACA,KAlBA;AAoBA,IAAA,YApBA,0BAoBA;AAAA;AACA,WAAA,cAAA,GAAA,KAAA;AACA,WAAA,aAAA,GAAA,EAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,eAAA;AACA,KAxBA;AA0BA,IAAA,QA1BA,sBA0BA;AAAA;;AAAA;AACA,UAAA,CAAA;AACA,MAAA,YAAA,CAAA,KAAA,CAAA,CAAA;AAEA,WAAA,CAAA,GAAA,UAAA,CAAA,YAAA;AACA,YAAA,IAAA,GAAA,KAAA;;AACA,YAAA,CAAA,IAAA,CAAA,OAAA,CAAA,KAAA,CAAA,MAAA,CAAA,EAAA;AAEA,cAAA,GAAA,GAAA,KAAA,CAAA,UAAA,CAAA,KAAA,CAAA,MAAA,CAAA;;AAEA,UAAA,KAAA,CAAA,QAAA,GAAA,GAAA;AACA,SALA,MAKA;AAEA,UAAA,KAAA,CAAA,QAAA,GAAA,KAAA,CAAA,MAAA;AACA;AACA,OAXA,EAWA,IAXA,CAAA;AAYA,KA1CA;AA4CA,IAAA,UA5CA,sBA4CA,OA5CA,EA4CA;AAAA;AACA,UAAA,GAAA,GAAA,IAAA,MAAA,CAAA,OAAA,CAAA;AACA,UAAA,GAAA,GAAA,EAAA;AACA,WAAA,MAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA;AACA,OAJA;AAKA,aAAA,GAAA;AACA,KArDA;AAwDA,IAAA,OAxDA,mBAwDA,GAxDA,EAwDA;AAAA;AACA,UAAA,OAAA,GAAA,IAAA,WAAA,IAAA,GAAA,IAAA,IAAA,IAAA,GAAA,IAAA,EAAA,IAAA,GAAA,CAAA,MAAA,GAAA,CAAA,IAAA,GAAA,CAAA,IAAA,GAAA,MAAA,IAAA,CAAA,EAAA;AACA,eAAA,IAAA;AACA,OAFA,MAEA;AACA,eAAA,KAAA;AACA;AACA,KA9DA;AAgEA,IAAA,YAhEA,0BAgEA;AAAA;AACA,WAAA,MAAA,GAAA,EAAA;AACA,WAAA,QAAA,GAAA,KAAA,MAAA;AACA,KAnEA;AAqEA,IAAA,cArEA,0BAqEA,IArEA,EAqEA;AAAA;AACA,aAAA,IAAA,CAAA,WAAA,EAAA;AACA,KAvEA;AAyEA,IAAA,QAzEA,oBAyEA,IAzEA,EAyEA;AAAA;AACA,WAAA,IAAA,CAAA,IAAA,EAAA,MAAA,EAAA,CAAA,IAAA,CAAA,IAAA,EADA,CACA;;AACA,WAAA,WAAA,GAAA,IAAA;AACA,KA5EA;AA8EA,IAAA,WA9EA,uBA8EA,IA9EA,EA8EA;AAAA;AACA,UAAA,IAAA,GAAA;AACA,QAAA,IAAA,EAAA,CAAA;AAAA,UAAA,EAAA,EAAA,IAAA,CAAA;AAAA,SAAA,CADA;AAEA,QAAA,IAAA,EAAA,IAAA,CAAA,KAAA,IAAA,CAAA,GAAA,IAAA,GAAA;AAFA,OAAA;AAKA,WAAA,aAAA,CAAA,IAAA,CAAA,SAAA,CAAA,IAAA,CAAA;AACA,KArFA;AAuFA,IAAA,UAvFA,sBAuFA,IAvFA,EAuFA;AAAA;AACA,UAAA,IAAA,GAAA;AACA,QAAA,IAAA,EAAA,CAAA;AAAA,UAAA,EAAA,EAAA,IAAA,CAAA;AAAA,SAAA,CADA;AAEA,QAAA,IAAA,EAAA,IAAA,CAAA,KAAA,IAAA,CAAA,GAAA,IAAA,GAAA;AAFA,OAAA;AAKA,WAAA,aAAA,CAAA,IAAA,CAAA,SAAA,CAAA,IAAA,CAAA;AACA,KA9FA;AAgGA,IAAA,QAhGA,oBAgGA,IAhGA,EAgGA;AAAA;AACA,UAAA,IAAA,GAAA;AACA,QAAA,IAAA,EAAA,CAAA;AAAA,UAAA,EAAA,EAAA,IAAA,CAAA;AAAA,SAAA,CADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA;AAKA,WAAA,aAAA,CAAA,IAAA,CAAA,SAAA,CAAA,IAAA,CAAA;AACA,KAvGA;AAyGA,IAAA,MAzGA,kBAyGA,IAzGA,EAyGA;AAAA;AACA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,KA5GA;AA8GA,IAAA,QA9GA,sBA8GA;AAAA;AACA,WAAA,WAAA,GAAA,KAAA;AACA,KAhHA;AAkHA,IAAA,MAlHA,oBAkHA;AAAA;;AAAA;AACA,WAAA,MAAA,CAAA,OAAA,CAAA;AACA,QAAA,KAAA,EAAA,MADA;AAEA,QAAA,OAAA,EAAA,gBAFA;AAGA,QAAA,IAAA,EAAA,gBAAA;AACA,cAAA,IAAA,GAAA,IAAA,CAAA,SAAA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA,CAAA;;AACA,UAAA,MAAA,CAAA,aAAA,CAAA,IAAA;AACA;AANA,OAAA;AAQA,KA3HA;AA6HA,IAAA,QA7HA,sBA6HA;AAAA;;AAAA;AACA,WAAA,MAAA,CAAA,OAAA,CAAA;AACA,QAAA,KAAA,EAAA,MADA;AAEA,QAAA,OAAA,EAAA,gBAFA;AAGA,QAAA,IAAA,EAAA,gBAAA;AACA,cAAA,IAAA,GAAA,IAAA,CAAA,SAAA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA,CAAA;;AACA,UAAA,MAAA,CAAA,aAAA,CAAA,IAAA;AACA;AANA,OAAA;AAQA,KAtIA;AAwIA,IAAA,KAxIA,mBAwIA;AAAA;AACA,UAAA,KAAA,KAAA,CAAA,IAAA,CAAA,QAAA,EAAA,EAAA,CAEA,CAFA,MAEA,CAEA;AACA;AA9IA,GA9FA;AAgPA,EAAA,SAhPA,uBAgPA;AACA,IAAA,YAAA,CAAA,KAAA,CAAA,CAAA;AACA,GAlPA;AAmPA,EAAA,OAnPA,qBAmPA;AAAA;;AACA,SAAA,QAAA,GAAA,KAAA,MAAA;AAEA,SAAA,KAAA,CAAA,aAAA;;AAEA,QAAA,cAAA,CAAA,SAAA,EAAA;AACA,WAAA,KAAA,GAAA,IAAA,CAAA,KAAA,CAAA,cAAA,CAAA,SAAA,CAAA;AACA,KAFA,MAEA;AACA,MAAA,GAAA,CAAA,WAAA,CAAA,wBAAA,EAAA,EAAA,EAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,UAAA,cAAA,CAAA,SAAA,GAAA,IAAA,CAAA,SAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AACA,UAAA,MAAA,CAAA,KAAA,GAAA,IAAA,CAAA,KAAA,CAAA,cAAA,CAAA,SAAA,CAAA;AACA;AACA,OALA;AAMA,KAdA,CAeA;;;AAEA,SAAA,OAAA,GAAA,KAAA;AAGA,GAvQA;AAwQA,EAAA,gBAxQA,4BAwQA,EAxQA,EAwQA,IAxQA,EAwQA,IAxQA,EAwQA;AAAA;AACA,SAAA,KAAA,CAAA,KAAA;AACA,IAAA,IAAA;AACA;AA3QA,CAAA","sourcesContent":["<template>\n\t<v-container fluid grid-list-xl flat>\n\t\t\n\t\t<v-flex class=\"d-flex flex-column\">\n\t\t\t<div class=\" px-5 py-2 my-0 green white--text d-flex justify-space-between align-center flex-wrap xy-border-circle\">\n\t\t\t\t<span style=\"font-size: 18px;\" v-once>托管列表</span>\n\t\t\t\t<span style=\"min-width: 260px;\">\n\t\t\t\t\t<v-btn small color=\"white\" outlined @click=\"showSetting\">设置</v-btn>\n\t\t\t\t\t<v-btn small color=\"white\" outlined @click=\"addCollocation=true\">添加托管</v-btn>\n\t\t\t\t\t<v-btn small color=\"white\" outlined @click=\"allStart\">全部启动</v-btn>\n\t\t\t\t\t<v-btn small color=\"white\" outlined @click=\"allEnd\">全部停止</v-btn>\t\n\t\t\t\t</span>\n\n\t\t\t</div>\n\t\t\t\n\t\t\t\n\t\t   <component :is=\"transition !== 'None' ? `v-${transition}` : 'div'\"  hide-on-leave>\n\t\t\t\t<v-skeleton-loader\n\t\t\t\tv-if=\"loading\"\n\t\t\t\ttype=\"article\"\n\t\t\t\t>\n\t\t\t\t</v-skeleton-loader>\n\t\t\t\t\n\t\t\t\t<div v-else>\n\t\t\t\t\t<v-list-item three-line style=\"border: 1px solid #ccc;text-align: center;\" v-if=\"items.length<1\">\n\t\t\t\t\t\t<p class=\"text-center\" style=\"width: 100%;\">{{tips}}</p>\n\t\t\t\t\t</v-list-item>\n\t\t\t\t\t\n\t\t\t\t\t<div v-for=\"(item,index) in items\" :key=\"index\" v-else>\n\t\t\t\t\t\t<v-list-item three-line class=\"xy-tableItem\">\n\t\t\t\t\t\t\t<v-list-item-content class=\"align-self-start\">\n\t\t\t\t\t\t\t\t<v-list-item-title class=\" mb-2\">\n\t\t\t\t\t\t\t\t\t<div class=\"d-flex align-center\">\n\t\t\t\t\t\t\t\t\t\t<span class=\" font-weight-bold\">{{transUpperCase(item.symbol)}} </span>\n\t\t\t\t\t\t\t\t\t\t<span \n\t\t\t\t\t\t\t\t\t\t:style=\"{color:item.isRun==0?'#E53935':item.isRun==1?'#43A047':item.isRun==2?'orange':'blue',fontSize:'14px'}\" \n\t\t\t\t\t\t\t\t\t\tclass=\"font-weight-bold pl-2\">\n\t\t\t\t\t\t\t\t\t\t{{item.isRun==0?'待启动':item.isRun==1?'运行中':item.isRun==2?'建仓中':'平仓中'}}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</v-list-item-title>\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t<v-list-item-subtitle class=\"font-weight-regular\">{{item.exc}}</v-list-item-subtitle>\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div class=\"font-weight-regular\">\n\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<Col :lg=\"6\" :md=\"6\" :sm=\"12\" :xs=\"24\" class=\"py-1\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"textAlign\">参考价格</span>：{{item.referPrice}}\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<Col :lg=\"6\" :md=\"6\" :sm=\"12\" :xs=\"24\" class=\"py-1\">\n\t\t\t\t\t\t\t\t\t\t<span>最新价格</span>\n\t\t\t\t\t\t\t\t\t\t：{{item.newPrice}}\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<Col :lg=\"6\" :md=\"6\" :sm=\"12\" :xs=\"24\" class=\"py-1\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"textAlign\">涨跌幅</span>\n\t\t\t\t\t\t\t\t\t\t：{{item.range=='-'?'-':item.range+' %'}}\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<Col :lg=\"6\" :md=\"6\" :sm=\"12\" :xs=\"24\" class=\"py-1\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"textAlign\">持仓均价</span>\n\t\t\t\t\t\t\t\t\t\t：{{item.holdPrice}}\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col :lg=\"6\" :md=\"6\" :sm=\"12\" :xs=\"24\" class=\"py-1\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"textAlign\">持仓数量</span>\n\t\t\t\t\t\t\t\t\t\t：{{item.holdAmount}}\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col :lg=\"6\" :md=\"6\" :sm=\"12\" :xs=\"12\" class=\"py-1\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"textAlign\">利润百分比</span>\n\t\t\t\t\t\t\t\t\t\t：{{item.profit=='-'?'-':item.profit+' %'}}\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t<Col :lg=\"6\" :md=\"6\" :sm=\"12\" :xs=\"12\" class=\"py-1\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"textAlign\">补仓次数</span>\n\t\t\t\t\t\t\t\t\t\t：{{item.other}}\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<v-btn tile outlined small color=\"success\" class=\"ma-0\" @click.prevent.stop=\"showChip(item)\">\n\t\t\t\t\t\t\t\t\t\t操作\n\t\t\t\t\t\t\t\t\t\t<v-icon right>{{item.show?'mdi-menu-up':'mdi-menu-down'}}</v-icon>\n\t\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t\t\t\t<v-expand-transition v-if=\"item.show\">\n\t\t\t\t\t\t\t\t\t<v-chip-group active-class=\"green--text \"column class=\"font-weight-regular\">\n\t\t\t\t\t\t\t\t\t\t<v-chip  @click=\"onOperation(item)\">{{item.isRun==0?'启动':'停止'}}</v-chip>\n\t\t\t\t\t\t\t\t\t\t<v-chip  @click=\"onRemove(item)\" :disabled=\"item.isRun>=1\">删除</v-chip>\n\t\t\t\t\t\t\t\t\t\t<v-chip  @click=\"onEdit(item)\" :disabled=\"item.isRun>=1\">修改</v-chip>\n\t\t\t\t\t\t\t\t\t\t<v-chip  @click=\"onPosition(item)\" :disabled=\"item.isRun==0\">{{item.isBuy==0?'建仓':'平仓'}}</v-chip>\n\t\t\t\t\t\t\t\t\t</v-chip-group>\n\t\t\t\t\t\t\t\t</v-expand-transition>\n\t\t\t\t\t\n\t\t\t\t\t\t\t</v-list-item-content>\n\t\t\t\t\t\n\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t  \n\t\t\t</component>\n\n\t\t</v-flex>\n\t\t\n\t\t<v-dialog v-model=\"showAddRule\" fullscreen hide-overlay transition=\"dialog-bottom-transition\">\n\t\t\t<add-rule v-if=\"showAddRule\" @hideRule=\"hideRule\" :ruleObj=\"currentRule\" ref=\"AR\" :edit=\"true\" class=\"ma-0\"></add-rule>\n\t\t</v-dialog>\n\t\t\n\t\t<v-dialog v-model=\"addCollocation\" width=\"800\" persistent>\n\t\t\t<v-card>\n\t\t\t\t<v-card-title class=\"title grey lighten-2\" primary-title>\n\t\t\t\t\t添加托管\n\t\t\t\t</v-card-title>\n\t\t\n\t\t\t\t<v-card-text>\n\t\t\t\t\t\t<v-form\n\t\t\t\t\t\tref=\"form\"\n\t\t\t\t\t\tv-model=\"valid\"\n\t\t\t\t\t\tlazy-validation>\n\t\t\t\t\t\t\t<div class=\"d-flex flex-wrap\">\n\t\t\t\t\t\t\t\t<v-select\n\t\t\t\t\t\t\t\t\tv-model=\"condition.rule\"\n\t\t\t\t\t\t\t\t\t:rules=\"[v => !!v || '必填']\"\n\t\t\t\t\t\t\t\t\t:items=\"datas\"\n\t\t\t\t\t\t\t\t\tcolor=\"green\"\n\t\t\t\t\t\t\t\t\titem-color=\"green\"\n\t\t\t\t\t\t\t\t\titem-text=\"exc\"\n\t\t\t\t\t\t\t\t\titem-value=\"exc\"\n\t\t\t\t\t\t\t\t\tlabel=\"规则\"\n\t\t\t\t\t\t\t\t\tstyle=\"max-width: 250px;\"\n\t\t\t\t\t\t\t\t\tclass=\"pr-2\"\n\t\t\t\t\t\t\t\t\tsingle-line>\n\t\t\t\t\t\t\t\t\t<template v-slot:label>\n\t\t\t\t\t\t\t\t\t\t<span style=\"font-size: 14px;\">选择规则</span>\n\t\t\t\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t\t\t </v-select>\n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t <v-select\n\t\t\t\t\t\t\t\t \tv-model=\"condition.account\"\n\t\t\t\t\t\t\t\t \t:rules=\"[v => !!v || '必填']\"\n\t\t\t\t\t\t\t\t \t:items=\"datas\"\n\t\t\t\t\t\t\t\t\tcolor=\"green\"\n\t\t\t\t\t\t\t\t\titem-color=\"green\"\n\t\t\t\t\t\t\t\t \titem-text=\"exc\"\n\t\t\t\t\t\t\t\t \titem-value=\"exc\"\n\t\t\t\t\t\t\t\t \tlabel=\"账户\"\n\t\t\t\t\t\t\t\t\tstyle=\"max-width: 250px;\"\n\t\t\t\t\t\t\t\t\tclass=\"pr-2\"\n\t\t\t\t\t\t\t\t \tsingle-line>\n\t\t\t\t\t\t\t\t \t<template v-slot:label>\n\t\t\t\t\t\t\t\t \t\t<span style=\"font-size: 14px;\">选择账户</span>\n\t\t\t\t\t\t\t\t \t</template>\n\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t\t  </v-select>\n\n\t\t\t\t\t\t\t\t  <v-select\n\t\t\t\t\t\t\t\t  \tv-model=\"condition.type\"\n\t\t\t\t\t\t\t\t  \t:rules=\"[v => !!v || '必填']\"\n\t\t\t\t\t\t\t\t  \t:items=\"currency\"\n\t\t\t\t\t\t\t\t  \titem-text=\"value\"\n\t\t\t\t\t\t\t\t  \titem-value=\"id\"\n\t\t\t\t\t\t\t\t  \tlabel=\"法币\"\n\t\t\t\t\t\t\t\t\tcolor=\"green\"\n\t\t\t\t\t\t\t\t\titem-color=\"green\"\n\t\t\t\t\t\t\t\t\tstyle=\"max-width: 250px;\"\n\t\t\t\t\t\t\t\t\tclass=\"pr-2\"\n\t\t\t\t\t\t\t\t  \tsingle-line>\n\t\t\t\t\t\t\t\t  \t<template v-slot:label>\n\t\t\t\t\t\t\t\t  \t\t<span style=\"font-size: 14px;\">法币类型</span>\n\t\t\t\t\t\t\t\t  \t</template>\n\t\t\t\t\t\t\t\t   \n\t\t\t\t\t\t\t\t   </v-select>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</v-form>\n\t\t\t\t\t\t<v-card outlined>\n\t\t\t\t\t\t    <v-card-title style=\"max-width:250px\">\n\t\t\t\t\t\t\t\t  <v-text-field\n\t\t\t\t\t\t\t\t\t v-model=\"search\"\n\t\t\t\t\t\t\t\t\t :append-icon=\"search==''?'':'mdi-close'\"\n\t\t\t\t\t\t\t\t\t label=\"搜索\"\n\t\t\t\t\t\t\t\t\t color=\"green\"\n\t\t\t\t\t\t\t\t\t @click:append=\"cancelSearch\"\n\t\t\t\t\t\t\t\t\t @input=\"debounce\"\n\t\t\t\t\t\t\t\t\t single-line\n\t\t\t\t\t\t\t\t\t hide-details\n\t\t\t\t\t\t\t\t  ></v-text-field>\n\t\t\t\t\t\t    </v-card-title>\n\t\t\t\t\t\t    <v-card-text style=\"height: 250px;overflow-y: auto;\">\n\t\t\t\t\t\t\t\t<v-chip\n\t\t\t\t\t\t\t\t  class=\"ma-2\"\n\t\t\t\t\t\t\t\t  v-if=\"ruleData.length==0\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t  无结果\n\t\t\t\t\t\t\t\t</v-chip>\n\t\t\t\t\t\t\t\t<v-chip\n\t\t\t\t\t\t\t\t  class=\"ma-2\"\n\t\t\t\t\t\t\t\t  :color=\"neighborhoods.indexOf(item.id)>-1?'green':'grey'\"\n\t\t\t\t\t\t\t\t  text-color=\"white\"\n\t\t\t\t\t\t\t\t  v-for=\"(item,index) in ruleData\" :key=\"index\"\n\t\t\t\t\t\t\t\t  @click=\"addSelect(item.id)\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t  <v-avatar left v-if=\"neighborhoods.indexOf(item.id)>-1\">\n\t\t\t\t\t\t\t\t\t<v-icon>mdi-checkbox-marked-circle</v-icon>\n\t\t\t\t\t\t\t\t  </v-avatar>\n\t\t\t\t\t\t\t\t  {{item.name}}\n\t\t\t\t\t\t\t\t</v-chip>\n\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t</v-card-text>\n\t\t\t\t\t\t\t<v-card-text class=\"d-flex align-baseline justify-end \">\n\t\t\t\t\t\t\t\t<span class=\"font-weight-regular pr-2\">已选 {{neighborhoods.length}} 个</span>\n\t\t\t\t\t\t\t\t<v-btn color=\"green\" text v-if=\"neighborhoods.length>0\" @click=\"addTo\">添加至托管</v-btn>\n\t\t\t\t\t\t\t</v-card-text>\n\t\t\t\t\t\t  </v-card>\n\t\t\t\t\t \n\t\t\t\t</v-card-text>\n\t\t\n\t\t\t\t<v-card-actions>\n\t\t\t\t\t<div class=\"flex-grow-1\"></div>\n\t\t\t\t\t<v-btn color=\"primary\" text @click=\"closeAddColl\">\n\t\t\t\t\t\t关闭\n\t\t\t\t\t</v-btn>\n\t\t\t\t</v-card-actions>\n\t\t\t</v-card>\n\t\t</v-dialog>\n\t\t\n\t\t<setting-dialog v-if=\"showSetDialog\" :settingModal=\"showSetDialog\" @closeSetting=\"closeSetting\"></setting-dialog>\n\t\t\n\t</v-container>\n</template>\n\n<script>\n\timport settingDialog from '@/components/settingDialog.vue'\n\timport addRule from '@/components/addRule.vue'\n\timport upSvg from '@/img/up.svg'\n\texport default {\n\t\tinject: ['theme'],\n\t\t\n\t\tcompoments: {\n\t\t\taddRule,\n\t\t\tsettingDialog\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttips:'暂无数据',\n\t\t\t\t\n\t\t\t\tshowSetDialog:false,//显示设置对话框\n\t\t\t\t\n\t\t\t\ttransition: 'scale-transition',\n\t\t\t\t\n\t\t\t\tloading:true,//控制骨架屏 true表示显示\n\t\t\t\t\n\t\t\t\tcurrency: [//货币类型\n\t\t\t\t  { id: 1, value: 'USDT' },\n\t\t\t\t  { id: 2, value: 'ETH' },\n\t\t\t\t  { id: 3, value: 'BTC' },\n\t\t\t\t],\n\t\t\t\t\n\t\t\t\tnames2:[\n\t\t\t\t\t{\n\t\t\t\t\t\tid:1,\n\t\t\t\t\t\tname:'Sno'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid:2,\n\t\t\t\t\t\tname:'Hon'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid:3,\n\t\t\t\t\t\tname:'Don'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid:4,\n\t\t\t\t\t\tname:'Elaine Street'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid:5,\n\t\t\t\t\t\tname:'Court Street'\n\t\t\t\t\t},\n\t\t\t\t\t{\t\n\t\t\t\t\t\tid:6,\n\t\t\t\t\t\tname:'oub'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid:7,\n\t\t\t\t\t\tname:'VA'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid:8,\n\t\t\t\t\t\tname:'AJKJK V'\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t],\n\t\t\t\t\n\t\t\t\tneighborhoods:[1,4],//已选择的\n\t\t\t\t\n\t\t\t\tsearch:'',\n\t\t\t\t\n\t\t\t\tvalid:true,//表格验证\n\t\t\t\t\n\t\t\t\tdatas:{},\n\t\t\t\t\n\t\t\t\tcondition:{//搜索条件\n\t\t\t\t\ttype:'',\n\t\t\t\t\taccount:'',\n\t\t\t\t\trule:''\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\taddCollocation:false,//添加托管对话框\n\t\t\t\t\n\t\t\t\tcurrentRule: null,//当前规则\n\n\t\t\t\tshowAddRule: false,//修改规则对话框\n\n\t\t\t\tupIcon: upSvg,\n\n\t\t\t\ttarget: '#vRow',\n\t\t\t\toptions: {\n\t\t\t\t\tduration: 1000,\n\t\t\t\t\toffset: 0,\n\t\t\t\t\teasing: 'easeInOutCubic'\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\truleData:[],\n\t\t\t\t\n\t\t\t\titems: []\n\t\t\t}\n\t\t},\n\n\t\tmethods: {\n\t\t\tcloseSetting(){\n\t\t\t\t\n\t\t\t\tthis.showSetDialog = false;\n\t\t\t\t\n\t\t\t},\n\t\t\t\n\t\t\tshowSetting(){//打开设置\n\t\t\t\tthis.showSetDialog = true;\n\t\t\t},\n\t\t\t\n\t\t\taddSelect(id){//选中一个交易对\n\t\t\t\tlet index = this.neighborhoods.indexOf(id);\n\t\t\t\tif(index>-1){\n\t\t\t\t\tthis.neighborhoods.splice(index,1);\n\t\t\t\t}else{\n\t\t\t\t\tthis.neighborhoods.push(id);\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tcloseAddColl(){//添加托管对话框-关闭\n\t\t\t\tthis.addCollocation = false;\n\t\t\t\tthis.neighborhoods = [];\n\t\t\t\tthis.$refs.form.resetValidation();\n\t\t\t},\n\n\t\t\tdebounce(){//节流\n\t\t\t\tvar t;\n\t\t\t\tclearTimeout(this.t);\n\t\t\t\t\n\t\t\t\tthis.t = setTimeout(() => {\n\t\t\t\t\tlet that = this;\n\t\t\t\t\tif (!that.isEmpty(this.search)) {\n\n\t\t\t\t\t\tlet obj = this.fuzzyQuery(this.search);\n\n\t\t\t\t\t\tthis.ruleData = obj;\n\t\t\t\t\t}else{\n\n\t\t\t\t\t\tthis.ruleData = this.names2;\n\t\t\t\t\t}\n\t\t\t\t}, 3000);\n\t\t\t},\n\t\t\t\n\t\t\tfuzzyQuery(keyWord) {//模糊查询\n\t\t\t    var reg =  new RegExp(keyWord);\n\t\t\t    var arr = [];\n\t\t\t\tthis.names2.forEach(item =>{\n\t\t\t\t\tif (reg.test(item.name)) {\n\t\t\t\t\t\tarr.push(item);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t    return arr;\n\t\t\t},\n\t\t\t  \n\t\t\t  \n\t\t\tisEmpty(obj) {//判断字符是否为空的方法\n\t\t\t\tif (typeof obj == 'undefined' || obj == null || obj == '' || (obj.length > 0 && obj.trim().length == 0)) {\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tcancelSearch(){//取消搜索\n\t\t\t\tthis.search = '';\n\t\t\t\tthis.ruleData = this.names2;\n\t\t\t},\n\t\t\t\n\t\t\ttransUpperCase(data) { //交易对转大写\n\t\t\t\treturn data.toUpperCase();\n\t\t\t},\n\t\t\t\n\t\t\tshowChip(item) { //显示操作面板\n\t\t\t\tthis.$set(item,'show',!item.show); //取反\n\t\t\t\tthis.currentRule = item;\n\t\t\t},\n\n\t\t\tonOperation(item){ //改变托管的状态-启动/暂停\n\t\t\t\tlet send = {\n\t\t\t\t\tdata:[{id:item.id}],\n\t\t\t\t\tcode:item.isRun==0?1004:1005\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tthis.websocketsend(JSON.stringify(send));\n\t\t\t},\n\n\t\t\tonPosition(item){ //平仓/建仓-单个\n\t\t\t\tlet send = {\n\t\t\t\t\tdata:[{id:item.id}],\n\t\t\t\t\tcode:item.isHas==0?1011:1012\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tthis.websocketsend(JSON.stringify(send));\n\t\t\t},\n\n\t\t\tonRemove(item){//删除单个托管\n\t\t\t\tlet send = {\n\t\t\t\t\tdata:[{id:item.id}],\n\t\t\t\t\tcode:1010\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tthis.websocketsend(JSON.stringify(send));\n\t\t\t},\n\n\t\t\tonEdit(item) { //编辑规则\n\t\t\t\t//用某id得到对应的规则 传递给组件\n\t\t\t\tthis.showAddRule = true;\n\t\t\t},\n\n\t\t\thideRule() { //隐藏规则输入框\n\t\t\t\tthis.showAddRule = false;\n\t\t\t},\n\t\t\t\n\t\t\tallEnd(){//全部停止\n\t\t\t\tthis.$Modal.confirm({\n\t\t\t\t\ttitle: '交易托管',\n\t\t\t\t\tcontent: '<p>是否全部停止?</p>',\n\t\t\t\t\tonOk: () => {\n\t\t\t\t\t\tlet json = JSON.stringify({code:1003});\n\t\t\t\t\t\tthis.websocketsend(json);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\tallStart(){//全部启动\n\t\t\t\tthis.$Modal.confirm({\n\t\t\t\t\ttitle: '交易托管',\n\t\t\t\t\tcontent: '<p>是否全部启动?</p>',\n\t\t\t\t\tonOk: () => {\n\t\t\t\t\t\tlet code = JSON.stringify({code:1002});\n\t\t\t\t\t\tthis.websocketsend(code);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\taddTo(){//添加至托管\n\t\t\t\tif (this.$refs.form.validate()) {\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\n\t\t},\n\t\tdestroyed() {\n\t\t\tclearTimeout(this.t);\n\t\t},\n\t\tmounted() {\n\t\t\tthis.ruleData = this.names2;\n\t\t\t\n\t\t\tthis.$sock.initWebSocket();\n\n\t\t\tif(sessionStorage.apiPublic){\n\t\t\t\tthis.datas = JSON.parse(sessionStorage.apiPublic);\n\t\t\t}else{\n\t\t\t\t$ax.getTestData('/EasWebUser/getAPIData',{},(res)=> {\n\t\t\t\t\tif(res.code == 1){\t\t\t\t\n\t\t\t\t\t\tsessionStorage.apiPublic = JSON.stringify(res.data);\n\t\t\t\t\t\tthis.datas = JSON.parse(sessionStorage.apiPublic);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t//请求数据\n\t\t\t\n\t\t\tthis.loading = false;\n\t\t\t\n\t\t\t\n\t\t},\n\t\tbeforeRouteLeave(to,from,next){//路由离开前断开\n\t\t\tthis.$sock.close();\n\t\t\tnext();\n\t\t}\n\t}\n</script>\n\n<style scoped=\"scoped\">\n\t.fade-enter-active,\n\t.fade-leave-active {\n\t\ttransition: opacity .5s\n\t}\n\n\t.fade-enter,\n\t.fade-leave-active {\n\t\topacity: 0\n\t}\n\t\n\t\n\t::-webkit-scrollbar{\n\t\twidth: 10px;\n\t}\n\t::-webkit-scrollbar-track{\n\t\tbackground: #E8F5E9;\n\t}\n\t::-webkit-scrollbar-thumb{\n\t\tbackground: linear-gradient(#B3E5FC,#81C784);\n\t\tborder-radius: 10px;\n\t}\n</style>\n"],"sourceRoot":"src/views"}]}