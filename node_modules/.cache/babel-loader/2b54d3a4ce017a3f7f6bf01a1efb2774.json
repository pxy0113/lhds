{"remainingRequest":"F:\\work\\lhds\\node_modules\\babel-loader\\lib\\index.js!F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\work\\lhds\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\work\\lhds\\src\\views\\mobile\\Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\work\\lhds\\src\\views\\mobile\\Index.vue","mtime":1572925510256},{"path":"F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"F:\\\\work\\\\lhds\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _defineProperty from \"F:\\\\work\\\\lhds\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport UserBox from '@/components/userBox.vue';\nimport upSvg from '@/img/up.svg';\nimport BTC from '@/img/BTC.png';\nimport ETH from '@/img/ETH.png';\nimport USDT from '@/img/USDT.png';\nimport { mapActions } from 'vuex'; // import echarts from 'echarts'\n\nimport { line } from '@/plugins/chart.js';\nexport default {\n  components: {\n    UserBox: UserBox\n  },\n  data: function data() {\n    return {\n      defaultNum: 0,\n      //图表默认显示的天数\n      numArr: [7, 15],\n      //天数数组\n      upIcon: upSvg,\n      target: '#vRow',\n      options: {\n        duration: 1000,\n        offset: 0,\n        easing: 'easeInOutCubic'\n      },\n      tableData: {\n        labels: this.getBeforeDay(),\n        title: '最近七日收益走势图',\n        series: [0, 0, 0, 0, 0, 0, 0]\n      },\n      Bimg: BTC,\n      Eimg: ETH,\n      Uimg: USDT,\n      percentage: 0,\n      dateProfit: [],\n      profitList: {},\n      //所有利润信息\n      headers: [{\n        sortable: false,\n        text: 'ID',\n        value: 'id'\n      }, {\n        sortable: false,\n        text: 'Name',\n        value: 'name'\n      }, {\n        sortable: false,\n        text: 'Salary',\n        value: 'salary',\n        align: 'right'\n      }, {\n        sortable: false,\n        text: 'Country',\n        value: 'country',\n        align: 'right'\n      }, {\n        sortable: false,\n        text: 'City',\n        value: 'city',\n        align: 'right'\n      }]\n    };\n  },\n  methods: _objectSpread({}, mapActions(['changeLay']), {\n    testFunction: function testFunction() {\n      $ax.getTestData('/EasWebUser/getAPIData', {}, function (res) {\n        if (res.code == 1) {\n          console.log(res.data);\n        }\n      });\n    },\n    getBeforeDay: function getBeforeDay() {\n      var n = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 7;\n      var arr = [];\n\n      for (var i = 1; i < n; i++) {\n        var a = this.$moment(new Date()).subtract(i, 'days').format('MM-DD');\n        arr.unshift(a);\n      }\n\n      return arr;\n    },\n    getDateProfit: function getDateProfit() {\n      var _this = this;\n\n      var nums = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 7;\n      var list = {\n        num: nums,\n        currency: 'USDT'\n      };\n      new Promise(function (resolve) {\n        $ax.getAjaxData('/EasWebUser/getDateProfit', list, function (res) {\n          if (res.code == 1) {\n            var data = res.data;\n            var arr = [];\n            data.forEach(function (item) {\n              arr.push(item);\n            });\n            _this.percentage = res.percentage;\n            _this.tableData.series = res.data;\n\n            var myChart = _this.$echarts.init(document.getElementById('chart'));\n\n            var option = myChart.getOption();\n            option.xAxis[0].data = _this.getBeforeDay(nums);\n            option.title[0].text = \"\\u6700\\u8FD1\".concat(nums, \"\\u65E5\\u6536\\u76CA\\u8D70\\u52BF\\u56FE\");\n            option.series[0].data = _this.tableData.series;\n            myChart.setOption(option);\n            resolve();\n          } else {\n            resolve();\n          }\n        }, {\n          hasToken: true\n        });\n      });\n    },\n    getAllProfit: function getAllProfit() {\n      var _this2 = this;\n\n      new Promise(function (resolve) {\n        $ax.getAjaxData('/EasWebUser/getAllProfit', {}, function (res) {\n          if (res.code == 1) {\n            _this2.profitList = res.data;\n            resolve();\n          } else {\n            resolve();\n          }\n        }, {\n          hasToken: true\n        });\n      });\n    },\n    resizeChart: function resizeChart() {\n      var myChart = this.$echarts.init(document.getElementById('chart'));\n      myChart.resize();\n    }\n  }),\n  mounted: function mounted() {\n    //模板被渲染完毕之后执行\n    var myChart = this.$echarts.init(document.getElementById('chart'));\n    myChart.setOption(line(this.tableData));\n  },\n  beforeRouteEnter: function beforeRouteEnter(to, from, next) {\n    //在组件创建之前调用（放置页面加载时请求的Ajax）\n    _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              //执行异步函数\n              next(function (vm) {\n                vm.changeLay(true);\n                var promiseAll = [vm.getDateProfit(), vm.getAllProfit()];\n                Promise.all(promiseAll).then(function (results) {\n                  vm.changeLay(false);\n                });\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  }\n};",{"version":3,"sources":["Index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<v-container class=\"pa-2 pt-0\" v-resize=\"resizeChart\" fluid id=\"vRow\">\r\n\t\t<v-btn @click=\"testFunction\">AAAA</v-btn>\r\n\t\t<v-card class=\"mx-auto  py-3\" outlined tile style=\"border: none;\">\r\n\t\t\t<p class=\"subtitle-1 text-center blue-grey--text darken-3 mb-0\" style=\"font-weight: 700;\">\r\n\t\t\t\t最近\r\n\t\t\t\t<v-menu transition=\"scroll-y-transition\">\r\n\t\t\t\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t\t\t\t <v-chip outlined label class=\"subtitle-1 blue-grey--text darken-3\"  v-on=\"on\">{{numArr[defaultNum]}}</v-chip>\r\n\t\t\t\t\t\t<!-- <v-btn  outlined small class=\"ma-0 subtitle-1\" color=\"blue-grey darken-3\" v-on=\"on\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<v-icon right>mdi-menu-down</v-icon>\r\n\t\t\t\t\t\t</v-btn> -->\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<v-list-item-group v-model=\"defaultNum\" color=\"green\">\r\n\t\t\t\t\t\t<v-list dense class=\"pa-0\">\r\n\t\t\t\t\t\t\t<v-list-item v-ripple=\"{ class: 'green--text' }\" v-for=\"n in numArr\" link @click=\"getDateProfit(n)\">\r\n\t\t\t\t\t\t\t\t<v-list-item-title class=\"text-center\">{{n}}</v-list-item-title>\r\n\t\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t\t</v-list>\r\n\t\t\t\t\t</v-list-item-group>\r\n\t\t\t\t</v-menu>\r\n\t\t\t\t日收益走势图\r\n\t\t\t</p>\r\n\t\t\t<div id=\"chart\" style=\"width: 100%;height: 400px;\"></div>\r\n\t\t</v-card>\r\n\t\t<v-row dense class=\"pt-4\">\r\n\t\t\t<v-col cols=\"12\" :sm=\"6\" :md=\"4\" :lg=\"4\">\r\n\t\t\t\t<v-card outlined tile>\r\n\t\t\t\t\t<v-card-text class=\"py-1 d-flex justify-space-between align-center\">\r\n\t\t\t\t\t\t<v-avatar size=\"30\" color=\"#279f7c\">\r\n\t\t\t\t\t\t\t<v-img :src=\"Uimg\"></v-img>\r\n\t\t\t\t\t\t</v-avatar>\r\n\t\t\t\t\t\t<span class=\"subtitle-1\">USDT收益</span>\r\n\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t<v-divider class=\"ma-0\"></v-divider>\r\n\t\t\t\t\t<v-card-text class=\"display-1 text-right\">\r\n\t\t\t\t\t\t{{profitList.USDT?profitList.USDT:0}}\r\n\t\t\t\t\t</v-card-text>\r\n\t\t\t\t</v-card>\r\n\t\t\t</v-col>\r\n\r\n\t\t\t<v-col cols=\"12\" :sm=\"6\" :md=\"4\" :lg=\"4\">\r\n\t\t\t\t<v-card outlined tile>\r\n\t\t\t\t\t<v-card-text class=\"py-1 d-flex justify-space-between align-center\">\r\n\t\t\t\t\t\t<v-avatar size=\"30\" color=\"#26c6da\">\r\n\t\t\t\t\t\t\t<v-img :src=\"Eimg\" style=\"width: 28px;height: 24px;\"></v-img>\r\n\t\t\t\t\t\t</v-avatar>\r\n\r\n\t\t\t\t\t\t<span class=\"subtitle-1\">ETH收益</span>\r\n\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t<v-divider class=\"ma-0\"></v-divider>\r\n\t\t\t\t\t<v-card-text class=\"display-1 text-right\">\r\n\t\t\t\t\t\t{{profitList.ETH?profitList.ETH:0}}\r\n\t\t\t\t\t</v-card-text>\r\n\t\t\t\t</v-card>\r\n\t\t\t</v-col>\r\n\r\n\t\t\t<v-col cols=\"12\" :sm=\"6\" :md=\"4\" :lg=\"4\">\r\n\t\t\t\t<v-card outlined tile>\r\n\t\t\t\t\t<v-card-text class=\"py-1 d-flex justify-space-between align-center\">\r\n\t\t\t\t\t\t<v-avatar size=\"30\" color=\"#f8a039\">\r\n\t\t\t\t\t\t\t<v-img :src=\"Bimg\"></v-img>\r\n\t\t\t\t\t\t</v-avatar>\r\n\t\t\t\t\t\t<span class=\"subtitle-1\">BTC收益</span>\r\n\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t<v-divider class=\"ma-0\"></v-divider>\r\n\t\t\t\t\t<v-card-text class=\"display-1 text-right\">\r\n\t\t\t\t\t\t{{profitList.BTC?profitList.BTC:0}}\r\n\t\t\t\t\t</v-card-text>\r\n\t\t\t\t</v-card>\r\n\t\t\t</v-col>\r\n\r\n\t\t</v-row>\r\n\t\t<user-box class=\"my-2\"></user-box>\r\n\t\t<Avatar :src=\"upIcon\" class=\"xy-suspend\" @click.stop.native=\"$vuetify.goTo(target, options)\">\r\n\t\t</Avatar>\r\n\r\n\t</v-container>\r\n</template>\r\n\r\n<script>\r\n\timport UserBox from '@/components/userBox.vue';\r\n\timport upSvg from '@/img/up.svg'\r\n\timport BTC from '@/img/BTC.png';\r\n\timport ETH from '@/img/ETH.png';\r\n\timport USDT from '@/img/USDT.png';\r\n\timport {\r\n\t\tmapActions\r\n\t} from 'vuex';\r\n\t// import echarts from 'echarts'\r\n\r\n\timport {\r\n\t\tline\r\n\t} from '@/plugins/chart.js'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tUserBox\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdefaultNum: 0, //图表默认显示的天数\r\n\t\t\t\tnumArr: [7, 15], //天数数组\r\n\r\n\t\t\t\tupIcon: upSvg,\r\n\r\n\t\t\t\ttarget: '#vRow',\r\n\r\n\t\t\t\toptions: {\r\n\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\toffset: 0,\r\n\t\t\t\t\teasing: 'easeInOutCubic'\r\n\t\t\t\t},\r\n\r\n\t\t\t\ttableData: {\r\n\t\t\t\t\tlabels: this.getBeforeDay(),\r\n\r\n\t\t\t\t\ttitle: '最近七日收益走势图',\r\n\r\n\t\t\t\t\tseries: [0, 0, 0, 0, 0, 0, 0]\r\n\t\t\t\t},\r\n\r\n\t\t\t\tBimg: BTC,\r\n\t\t\t\tEimg: ETH,\r\n\t\t\t\tUimg: USDT,\r\n\t\t\t\tpercentage: 0,\r\n\r\n\t\t\t\tdateProfit: [],\r\n\r\n\t\t\t\tprofitList: {}, //所有利润信息\r\n\r\n\t\t\t\theaders: [{\r\n\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\ttext: 'ID',\r\n\t\t\t\t\t\tvalue: 'id'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\ttext: 'Name',\r\n\t\t\t\t\t\tvalue: 'name'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\ttext: 'Salary',\r\n\t\t\t\t\t\tvalue: 'salary',\r\n\t\t\t\t\t\talign: 'right'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\ttext: 'Country',\r\n\t\t\t\t\t\tvalue: 'country',\r\n\t\t\t\t\t\talign: 'right'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\ttext: 'City',\r\n\t\t\t\t\t\tvalue: 'city',\r\n\t\t\t\t\t\talign: 'right'\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapActions(['changeLay']),\r\n\t\t\ttestFunction(){\r\n\t\t\t\t$ax.getTestData('/EasWebUser/getAPIData',{},(res)=> {\r\n\t\t\t\t\tif(res.code == 1){\r\n\t\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tgetBeforeDay(n = 7) {\r\n\t\t\t\tlet arr = [];\r\n\t\t\t\tfor (let i = 1; i < n; i++) {\r\n\t\t\t\t\tlet a = this.$moment(new Date()).subtract(i, 'days').format('MM-DD');\r\n\t\t\t\t\tarr.unshift(a);\r\n\t\t\t\t}\r\n\t\t\t\treturn arr;\r\n\t\t\t},\r\n\t\t\tgetDateProfit(nums = 7) {\r\n\t\t\t\tlet list = {\r\n\t\t\t\t\tnum: nums,\r\n\t\t\t\t\tcurrency: 'USDT'\r\n\t\t\t\t};\r\n\t\t\t\tnew Promise(resolve => {\r\n\t\t\t\t\t$ax.getAjaxData('/EasWebUser/getDateProfit', list, (res) => {\r\n\t\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\t\tlet data = res.data;\r\n\t\t\t\t\t\t\tlet arr = [];\r\n\r\n\t\t\t\t\t\t\tdata.forEach(item => {\r\n\t\t\t\t\t\t\t\tarr.push(item);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.percentage = res.percentage;\r\n\r\n\t\t\t\t\t\t\tthis.tableData.series = res.data;\r\n\r\n\t\t\t\t\t\t\tlet myChart = this.$echarts.init(document.getElementById('chart'));\r\n\t\t\t\t\t\t\tlet option = myChart.getOption();\r\n\t\t\t\t\t\t\toption.xAxis[0].data = this.getBeforeDay(nums);\r\n\t\t\t\t\t\t\toption.title[0].text = `最近${nums}日收益走势图`;\r\n\t\t\t\t\t\t\toption.series[0].data = this.tableData.series;\r\n\t\t\t\t\t\t\tmyChart.setOption(option);\r\n\r\n\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\thasToken: true\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\tgetAllProfit() {\r\n\t\t\t\tnew Promise(resolve => {\r\n\t\t\t\t\t$ax.getAjaxData('/EasWebUser/getAllProfit', {}, (res) => {\r\n\t\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\t\tthis.profitList = res.data;\r\n\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\thasToken: true\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tresizeChart() {\r\n\t\t\t\tlet myChart = this.$echarts.init(document.getElementById('chart'));\r\n\t\t\t\tmyChart.resize();\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() { //模板被渲染完毕之后执行\r\n\t\t\tlet myChart = this.$echarts.init(document.getElementById('chart'));\r\n\t\t\tmyChart.setOption(line(this.tableData));\r\n\r\n\t\t},\r\n\t\tbeforeRouteEnter(to, from, next) { //在组件创建之前调用（放置页面加载时请求的Ajax）\r\n\r\n\t\t\t(async () => { //执行异步函数\r\n\r\n\t\t\t\tnext(vm => {\r\n\t\t\t\t\tvm.changeLay(true);\r\n\t\t\t\t\tlet promiseAll = [vm.getDateProfit(), vm.getAllProfit()];\r\n\t\t\t\t\tPromise.all(promiseAll).then(results => {\r\n\t\t\t\t\t\tvm.changeLay(false);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t})();\r\n\r\n\t\t},\r\n\t}\r\n</script>\n"],"sourceRoot":"src/views/mobile"}]}