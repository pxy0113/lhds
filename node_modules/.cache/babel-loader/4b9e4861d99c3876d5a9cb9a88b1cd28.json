{"remainingRequest":"F:\\work\\lhds\\node_modules\\babel-loader\\lib\\index.js!F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\work\\lhds\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\work\\lhds\\src\\components\\userBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\work\\lhds\\src\\components\\userBox.vue","mtime":1573117848275},{"path":"F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.number.constructor\";\nimport _defineProperty from \"F:\\\\work\\\\lhds\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/web.dom.iterable\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Utils from '@/plugins/cryAes.js';\nimport { mapActions } from 'vuex';\nimport upSvg from '@/img/up.svg';\nexport default {\n  data: function data() {\n    return {\n      transition: 'scale-transition',\n      loading: true,\n      //控制骨架屏 true表示显示\n      upIcon: upSvg,\n      target: '#vRow',\n      options: {\n        duration: 1000,\n        offset: 0,\n        easing: 'easeInOutCubic'\n      },\n      curPage: {\n        page: 1,\n        size: 0\n      },\n      valid: true,\n      news: {\n        A1: '',\n        A2: '',\n        A3: '',\n        A4: 0.1,\n        A5: 0\n      },\n      newsPassword: '',\n      //交易所为OKex时特定字段\n      place: '',\n      //当前选中的交易所\n      items: [],\n      //交易所对应的买入/卖出费率数据\n      addDialog: false,\n      apiColumns: [{\n        text: '名称',\n        align: 'center',\n        sortable: false,\n        value: 'exchange'\n      }, {\n        text: '备注',\n        align: 'center',\n        sortable: false,\n        value: 'remark'\n      }, {\n        text: 'API KEY',\n        align: 'center',\n        sortable: false,\n        value: 'key'\n      }, {\n        text: 'API SECRET',\n        align: 'center',\n        sortable: false,\n        value: 'secret'\n      }, {\n        text: '买入费率(%)',\n        align: 'center',\n        sortable: false,\n        value: 'buy'\n      }, {\n        text: '卖出费率(%)',\n        align: 'center',\n        sortable: false,\n        value: 'sell'\n      }, {\n        text: '操作',\n        align: 'center',\n        sortable: false,\n        value: 'del'\n      }],\n      apiList: [],\n      rules: {\n        required: function required(v) {\n          return !!v || '必填';\n        },\n        length: function length(v) {\n          return v && v.length <= 68 || '超出长度';\n        },\n        size: function size(v) {\n          return v > 0 || '必须大于0';\n        },\n        isEmpty: function isEmpty(v) {\n          return /\\S/.test(v) || '不可为空';\n        },\n        not: function not(v) {\n          return !/[\\u4E00-\\u9FA5]/g.test(v) || '不能是中文';\n        }\n      }\n    };\n  },\n  watch: {\n    place: {\n      handler: function handler(newV, oldV) {\n        var _this = this;\n\n        this.items.forEach(function (item) {\n          if (item.exc == newV) {\n            _this.news.A4 = item.buy;\n            _this.news.A5 = item.sell;\n          }\n        });\n      },\n      immediate: true\n    },\n    wssData: {\n      handler: function handler(nV, oV) {\n        this.getMessage();\n      },\n      deep: true\n    }\n  },\n  computed: {\n    wssData: function wssData() {\n      //wss传递的消息\n      return this.$store.state.collocationList;\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    if (sessionStorage.apiPublic) {\n      this.items = JSON.parse(sessionStorage.apiPublic);\n      this.place = this.items.length > 0 ? this.items[0].exc : '';\n    } else {\n      $ax.getTestData('/EasWebUser/getAPIData', {}, function (res) {\n        if (res.code == 1) {\n          sessionStorage.apiPublic = JSON.stringify(res.data);\n          _this2.items = res.data;\n          _this2.place = _this2.items.length > 0 ? _this2.items[0].exc : '';\n        }\n      });\n    }\n\n    this.getApiList();\n  },\n  beforeRouteLeave: function beforeRouteLeave(to, from, next) {\n    //路由离开前断开\n    this.$sock.close();\n    next(); //跳转路由\n  },\n  methods: _objectSpread({}, mapActions(['changeLay', 'changeSnack']), {\n    transUpperCase: function transUpperCase(data) {\n      //交易对转大写\n      return data.toUpperCase();\n    },\n    inputShow: function inputShow(number) {\n      //点击野马\n      this.curPage.page = number;\n      this.$vuetify.goTo(this.target, this.options); //平滑滚动到表头\n\n      this.getApiList();\n    },\n    changeTime: function changeTime(time) {\n      return this.$utils.timestampToTime(Number(time));\n    },\n    getMessage: function getMessage() {\n      //wss传递的消息\n      var result = this.wssData;\n\n      switch (result.code) {\n        case 20013:\n          //客户端在线\n          this.sendMsgToClient();\n          break;\n\n        default:\n          break;\n      }\n    },\n    delApi: function delApi(item) {\n      var _this3 = this;\n\n      this.$Modal.confirm({\n        render: function render(h) {\n          return h('div', [h('p', {\n            style: {\n              fontWeight: '700'\n            }\n          }, '确定删除吗? 该操作不可撤销')]);\n        },\n        onOk: function onOk() {\n          _this3.changeLay(true);\n\n          $ax.getAjaxData('/EasWebUser/delAPI', {\n            id: item.id\n          }, function (res) {\n            _this3.changeLay(false);\n\n            if (res.code == 1) {\n              var msg = {\n                state: true,\n                errorText: {\n                  type: 'success',\n                  text: '删除成功'\n                }\n              };\n\n              _this3.changeSnack(msg);\n\n              var state = _this3.$sock.lookState();\n\n              state == -1 ? _this3.$sock.initWebSocket() : _this3.sendMsgToClient();\n\n              var index = _this3.apiList.indexOf(item);\n\n              sessionStorage.removeItem('collocation'); //删除api/rule的时候把存储的旧数据清空\n\n              _this3.apiList.splice(index, 1);\n            }\n          }, {\n            hasToken: true\n          });\n        }\n      });\n    },\n    closeAccount: function closeAccount() {\n      this.$refs.form.resetValidation();\n      this.addDialog = false;\n      this.news = this.$options.data().news;\n      this.newsPassword = '';\n      this.place = this.items.length > 0 ? this.items[0].exc : '';\n    },\n    addOneAccount: function addOneAccount() {\n      var _this4 = this;\n\n      //添加新账户\n      if (this.$refs.form.validate()) {\n        var other = {\n          A0: this.place,\n          A6: this.newsPassword,\n          A7: 0,\n          A8: 0,\n          A9: 0,\n          A10: 0\n        };\n        var obj = {\n          exc: this.place,\n          remark: this.news.A1,\n          data: Utils.encrypt(JSON.stringify(Object.assign({}, this.news, other)))\n        };\n        this.changeLay(true); //loading\n\n        $ax.getAjaxData('/EasWebUser/addAPI', obj, function (res) {\n          _this4.changeLay(false);\n\n          if (res.code == 1) {\n            var msg = {\n              state: true,\n              errorText: {\n                type: 'success',\n                text: '添加成功'\n              }\n            };\n\n            _this4.changeSnack(msg);\n\n            var state = _this4.$sock.lookState();\n\n            state == -1 ? _this4.$sock.initWebSocket() : _this4.sendMsgToClient();\n            _this4.addDialog = false;\n\n            _this4.$refs.form.resetValidation();\n\n            _this4.news = _this4.$options.data().news;\n            sessionStorage.removeItem('collocation');\n\n            _this4.getApiList();\n          }\n        }, {\n          hasToken: true\n        });\n      }\n    },\n    sendMsgToClient: function sendMsgToClient() {\n      this.$sock.websocketsend(JSON.stringify({\n        code: 1006\n      }));\n    },\n    getApiList: function getApiList() {\n      var _this5 = this;\n\n      //获取api列表\n      this.loading = true;\n      $ax.getAjaxData('/EasWebUser/getAPI', {\n        pageSize: 10,\n        pageIndex: this.curPage.page\n      }, function (res) {\n        _this5.loading = false;\n\n        if (res.code == 1) {\n          _this5.apiList = res.data;\n          _this5.curPage = {\n            page: res.pageIndex,\n            size: res.pageMaxPage\n          };\n        } else {\n          console.log('错误错误');\n        }\n      }, {\n        hasToken: true\n      });\n    }\n  })\n};",{"version":3,"sources":["userBox.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\t<!-- <v-container  fluid grid-list-xl> -->\n\t\t<div>\n\t\t\t\t<v-card outlined id=\"vRow\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<p class=\"pa-2 ma-0 green lighten-5\" ><v-btn color=\"green\"  \r\n\t\t\t\t\toutlined @click=\"addDialog= true\" small>添加API</v-btn></p>\r\n\t\t\t\t\t<v-divider></v-divider>\r\n\t\t\t\t\t\t<component :is=\"transition !== 'None' ? `v-${transition}` : 'div'\"  hide-on-leave>\r\n\t\t\t\t\t\t\t<v-skeleton-loader\r\n\t\t\t\t\t\t\tv-if=\"loading\"\r\n\t\t\t\t\t\t\ttype=\"article\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t</v-skeleton-loader>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div v-else>\r\n\t\t\t\t\t\t\t\t<v-list-item three-line class=\"xy-tableItem\" v-if=\"apiList.length<1\">\r\n\t\t\t\t\t\t\t\t\t<p class=\"text-center\" style=\"width: 100%;\">暂无数据</p>\r\n\t\t\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div v-for=\"(item,index) in apiList\" :key=\"index\" v-else>\r\n\t\t\t\t\t\t\t\t\t<v-list-item three-line style=\"border-bottom: 1px solid #ccc;\">\r\n\t\t\t\t\t\t\t\t\t  <v-list-item-content class=\"align-self-start\">\r\n\t\t\t\t\t\t\t\t\t\t<v-list-item-title\r\n\t\t\t\t\t\t\t\t\t\t  class=\" mb-2\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"d-flex align-center justify-space-between\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\" font-weight-bold\">{{transUpperCase(item.remark)}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span style=\"font-size: 12px;\" class=\"font-weight-light\">/{{item.exchange}}</span> </span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<v-btn color=\"primary\" text small  @click=\"delApi(item)\">删除</v-btn>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</v-list-item-title>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div class='font-weight-regular body-2'>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"d-flex justify-space-between flex-wrap align-center \">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"pr-3 py-1 d-flex flex-wrap align-center justify-space-between\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>买入费率(%)：</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{{item.buy}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"pr-3 py-1 d-flex flex-wrap align-center justify-space-between\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>卖出费率(%)：</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{{item.sell}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"d-flex justify-space-between flex-wrap align-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"pr-3 py-1 d-flex flex-wrap align-center justify-space-between\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>API_KEY：</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{{item.key}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"pr-3 py-1 d-flex flex-wrap align-center justify-space-between\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>API_SECRET：</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{{item.secret}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t  </v-list-item-content>\r\n\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\t</v-list-item>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"text-center my-2\">\r\n\t\t\t\t\t\t\t\t\t<v-pagination color=\"green\" v-model=\"curPage.page\" :length=\"curPage.size\" v-on:input=\"inputShow\" :total-visible=\"5\"></v-pagination>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t</component>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</v-card>\n\t\t\t\t\t\r\n\t\t\t\t\t<v-dialog v-model=\"addDialog\" width=\"500\" persistent>\r\n\t\t\t\t\t\t<v-card>\r\n\t\t\t\t\t\t\t<v-card-title class=\"headline grey lighten-2\" primary-title>\r\n\t\t\t\t\t\t\t\t添加账户\r\n\t\t\t\t\t\t\t</v-card-title>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t<v-card-text>\r\n\t\t\t\t\t\t\t\t\t<v-form    \r\n\t\t\t\t\t\t\t\t\tref=\"form\"\r\n\t\t\t\t\t\t\t\t\tv-model=\"valid\"\r\n\t\t\t\t\t\t\t\t\tlazy-validation>\r\n\t\t\t\t\t\t\t\t\t\t<v-select\r\n\t\t\t\t\t\t\t\t\t\t\tv-model=\"place\"\r\n\t\t\t\t\t\t\t\t\t\t\t:rules=\"[v => !!v || '必填']\"\r\n\t\t\t\t\t\t\t\t\t\t\t:items=\"items\"\r\n\t\t\t\t\t\t\t\t\t\t\titem-text=\"exc\"\r\n\t\t\t\t\t\t\t\t\t\t\titem-value=\"exc\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"green\"\r\n\t\t\t\t\t\t\t\t\t\t\titem-color=\"green\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"交易所\"\r\n\t\t\t\t\t\t\t\t\t\t\tsingle-line>\r\n\t\t\t\t\t\t\t\t\t\t\t<template v-slot:label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span style=\"font-size: 14px;\">交易所</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\t\t </v-select>\r\n\t\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\t   v-model=\"news.A1\"\r\n\t\t\t\t\t\t\t\t\t\t   label=\"账户备注名称\"\r\n\t\t\t\t\t\t\t\t\t\t   :rules=\"[rules.required,rules.isEmpty]\"\r\n\t\t\t\t\t\t\t\t\t\t   required\r\n\t\t\t\t\t\t\t\t\t\t   color=\"green\"\r\n\t\t\t\t\t\t\t\t\t\t ></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\tv-model=\"news.A2\"\r\n\t\t\t\t\t\t\t\t\t\t:rules=\"[rules.required,rules.isEmpty,rules.not]\"\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"green\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"API_KEY\"\r\n\t\t\t\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\t v-model=\"news.A3\"\r\n\t\t\t\t\t\t\t\t\t\t :rules=\"[rules.required,rules.isEmpty,rules.not,rules.length]\"\r\n\t\t\t\t\t\t\t\t\t\t required\r\n\t\t\t\t\t\t\t\t\t\t color=\"green\"\r\n\t\t\t\t\t\t\t\t\t\t label=\"API_SECRET\"\r\n\t\t\t\t\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-col cols=\"6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\t\t\t   v-model=\"news.A4\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   label=\"买入费率(%)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   min=\"0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   max=\"100\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   step=\"0.1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   :rules=\"[v => (!!v&&v>=0&&v<=100) || '必填,不是负数且不能大于100']\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   required\r\n\t\t\t\t\t\t\t\t\t\t\t\t   color=\"green\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   type=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t ></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-col cols=\"6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\t\t\t   v-model=\"news.A5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   label=\"卖出费率(%)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   min=\"0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   step=\"0.1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   max=\"100\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   color=\"green\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   :rules=\"[v => (!!v&&v>=0&&v<=100) || '必填,不是负数且不能大于100']\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   required\r\n\t\t\t\t\t\t\t\t\t\t\t\t   type=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t ></v-text-field>\r\n\t\t\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"place=='OKEx'\"\r\n\t\t\t\t\t\t\t\t\t\t   v-model=\"newsPassword\"\r\n\t\t\t\t\t\t\t\t\t\t   :rules=\"[rules.required,rules.isEmpty,rules.not]\"\r\n\t\t\t\t\t\t\t\t\t\t   required\r\n\t\t\t\t\t\t\t\t\t\t   color=\"green\"\r\n\t\t\t\t\t\t\t\t\t\t   label=\"PASSPHPASE\"\r\n\t\t\t\t\t\t\t\t\t\t   type=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t ></v-text-field>\r\n\t\t\t\t\t\t\t\t\t</v-form>\r\n\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t</v-card-text>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t<v-card-actions>\r\n\t\t\t\t\t\t\t\t<div class=\"flex-grow-1\"></div>\r\n\t\t\t\t\t\t\t\t<v-btn color=\"green\" text @click=\"closeAccount\">\r\n\t\t\t\t\t\t\t\t\t关闭\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t<v-btn color=\"green\" text @click=\"addOneAccount\">\r\n\t\t\t\t\t\t\t\t\t确定\r\n\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t</v-card-actions>\r\n\t\t\t\t\t\t</v-card>\r\n\t\t\t\t\t</v-dialog>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\n\t\t</div>\n</template>\n\n<script>\n\timport Utils from '@/plugins/cryAes.js'\n\timport {\n\t\tmapActions\n\t} from 'vuex';\n\timport upSvg from '@/img/up.svg'\n\texport default {\n\t\tdata: () => ({\n\t\t\ttransition: 'scale-transition',\n\t\t\t\n\t\t\tloading:true,//控制骨架屏 true表示显示\n\t\t\t\n\t\t\tupIcon:upSvg,\n\t\t\t\n\t\t\ttarget: '#vRow',\n\t\t\t\n\t\t\toptions: {\n\t\t\t\tduration: 1000,\n\t\t\t\toffset: 0,\n\t\t\t\teasing: 'easeInOutCubic'\n\t\t\t},\n\t\t\t\n\t\t\tcurPage: {\n\t\t\t\tpage: 1,\n\t\t\t\tsize: 0\n\t\t\t},\n\t\t\t\n\t\t\tvalid:true,\n\n\t\t\tnews:{\n\t\t\t\tA1:'',\n\t\t\t\tA2:'',\n\t\t\t\tA3:'',\n\t\t\t\tA4:0.1,\n\t\t\t\tA5:0\n\t\t\t},\n\t\t\t\n\t\t\tnewsPassword:'',//交易所为OKex时特定字段\n\t\t\t\n\t\t\tplace:'',//当前选中的交易所\n\t\t\t\n\t\t\titems:[],//交易所对应的买入/卖出费率数据\n\t\t\t\n\t\t\taddDialog:false,\n\t\t\tapiColumns:[\n\t\t\t\t  {\n\t\t\t\t\ttext: '名称',\n\t\t\t\t\talign: 'center',\n\t\t\t\t\tsortable: false,\n\t\t\t\t\tvalue: 'exchange',\n\t\t\t\t  },\n\t\t\t\t  {\n\t\t\t\t\ttext: '备注',\n\t\t\t\t\talign: 'center',\n\t\t\t\t\tsortable: false,\n\t\t\t\t\tvalue: 'remark',\n\t\t\t\t  },\n\t\t\t\t  {\n\t\t\t\t\ttext: 'API KEY',\n\t\t\t\t\talign: 'center',\n\t\t\t\t\tsortable: false,\n\t\t\t\t\tvalue: 'key',\n\t\t\t\t  },\n\t\t\t\t  {\n\t\t\t\t\ttext: 'API SECRET',\n\t\t\t\t\talign: 'center',\n\t\t\t\t\tsortable: false,\n\t\t\t\t\tvalue: 'secret',\n\t\t\t\t  },\n\t\t\t\t  {\n\t\t\t\t\ttext: '买入费率(%)',\n\t\t\t\t\talign: 'center',\n\t\t\t\t\tsortable: false,\n\t\t\t\t\tvalue: 'buy',\n\t\t\t\t  },\n\t\t\t\t  {\n\t\t\t\t\ttext: '卖出费率(%)',\n\t\t\t\t\talign: 'center',\n\t\t\t\t\tsortable: false,\n\t\t\t\t\tvalue: 'sell',\n\t\t\t\t  },\n\t\t\t\t  {\n\t\t\t\t\ttext: '操作',\n\t\t\t\t\talign:'center',\n\t\t\t\t\tsortable: false,\n\t\t\t\t\tvalue: 'del'\n\t\t\t\t  }\n\t\t\t],\n\t\t\tapiList:[],\n\n\t\t\trules: {\n\t\t\t\trequired: v => !!v || '必填',\n\t\t\t\tlength: v =>  (v&&v.length <= 68) || '超出长度',\r\n\t\t\t\tsize: v => v > 0 || '必须大于0',\n\t\t\t\tisEmpty: v => /\\S/.test(v) || '不可为空',\n\t\t\t\tnot: v => !/[\\u4E00-\\u9FA5]/g.test(v) || '不能是中文'\n\t\t\t},\n\t\t}),\n\t\twatch:{\n\t\t\t\n\t\t\tplace:{\n\t\t\t\thandler(newV,oldV){\n\t\t\t\t\tthis.items.forEach(item =>{\n\t\t\t\t\t\tif(item.exc == newV){\n\t\t\t\t\t\t\tthis.news.A4 = item.buy;\n\t\t\t\t\t\t\tthis.news.A5 = item.sell;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\timmediate:true\n\t\t\t},\n\t\t\t\n\t\t\twssData:{\n\t\t\t\thandler(nV,oV){\n\t\t\t\t\tthis.getMessage();\n\t\t\t\t},\n\t\t\t\tdeep:true\n\t\t\t}\n\t\t},\n\t\t\n\t\tcomputed:{\n\t\t\twssData(){//wss传递的消息\n\t\t\t\treturn this.$store.state.collocationList;\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\tif(sessionStorage.apiPublic){\n\t\t\t\tthis.items = JSON.parse(sessionStorage.apiPublic);\n\t\t\t\tthis.place = this.items.length>0?this.items[0].exc:'';\n\t\t\t}else{\n\t\t\t\t$ax.getTestData('/EasWebUser/getAPIData',{},(res)=> {\n\t\t\t\t\tif(res.code == 1){\t\t\t\t\n\t\t\t\t\t\tsessionStorage.apiPublic = JSON.stringify(res.data);\n\t\t\t\t\t\tthis.items = res.data;\n\t\t\t\t\t\tthis.place = this.items.length>0?this.items[0].exc:'';\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.getApiList();\n\t\t},\n\t\t\n\t\tbeforeRouteLeave(to,from,next){//路由离开前断开\n\n\t\t\tthis.$sock.close();\n\t\t\t\n\t\t\tnext();//跳转路由\n\t\t\t\n\t\t},\n\t\t\n\t\tmethods: {\n\t\t\t\n\t\t\t...mapActions(['changeLay', 'changeSnack']),\n\t\t\t\n\t\t\ttransUpperCase(data){ //交易对转大写\n\t\t\t\treturn data.toUpperCase();\n\t\t\t},\n\t\t\t\n\t\t\tinputShow(number) { //点击野马\n\t\t\t\tthis.curPage.page = number;\n\t\t\t\tthis.$vuetify.goTo(this.target, this.options);//平滑滚动到表头\n\t\t\t\tthis.getApiList();\n\t\t\t},\n\n\t\t\tchangeTime(time) {\n\t\t\t\treturn this.$utils.timestampToTime(Number(time));\n\t\t\t},\n\n\t\t\tgetMessage(){//wss传递的消息\n\t\t\t\tlet result = this.wssData;\n\t\t\t\tswitch (result.code){\n\t\t\t\t\tcase 20013://客户端在线\n\t\t\t\t\tthis.sendMsgToClient();\n\t\t\t\t\t\tbreak;\t\n\t\t\t\t\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\t\n\t\t\t},\n\n\t\t\tdelApi(item){\r\n\t\t\t\tthis.$Modal.confirm({\r\n\t\t\t\t\trender: (h) => {\r\n\t\t\t\t\t\treturn h('div', [\r\n\t\t\t\t\t\t\th('p',{\r\n\t\t\t\t\t\t\t\tstyle:{\r\n\t\t\t\t\t\t\t\t\tfontWeight:'700'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},'确定删除吗? 该操作不可撤销'),\r\n\t\t\t\t\t\t])\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonOk: () => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.changeLay(true);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$ax.getAjaxData('/EasWebUser/delAPI', {\r\n\t\t\t\t\t\t\tid: item.id\r\n\t\t\t\t\t\t}, (res) => {\r\n\t\t\t\t\t\t\tthis.changeLay(false);\r\n\t\t\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\t\t\tlet msg = {\r\n\t\t\t\t\t\t\t\t\tstate: true,\r\n\t\t\t\t\t\t\t\t\terrorText: {\r\n\t\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t\t\ttext: '删除成功'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthis.changeSnack(msg);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tlet state = this.$sock.lookState();\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tstate==-1?this.$sock.initWebSocket():this.sendMsgToClient();\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tlet index = this.apiList.indexOf(item);\r\n\r\n\t\t\t\t\t\t\t\tsessionStorage.removeItem('collocation');//删除api/rule的时候把存储的旧数据清空\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tthis.apiList.splice(index, 1);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\thasToken: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\n\t\t\t\t\n\t\t\t},\n\n\t\t\tcloseAccount(){\n\t\t\t\tthis.$refs.form.resetValidation();\n\t\t\t\tthis.addDialog = false;\n\t\t\t\tthis.news = this.$options.data().news;\n\t\t\t\tthis.newsPassword = '';\n\t\t\t\tthis.place = this.items.length>0?this.items[0].exc:'';\n\t\t\t},\n\t\t\t\n\t\t\taddOneAccount(){//添加新账户\n\t\t\t\tif (this.$refs.form.validate()) {\n\t\t\t\t    let other = {\n\t\t\t\t    \tA0:this.place,\n\t\t\t\t    \tA6:this.newsPassword,\n\t\t\t\t    \tA7:0,\n\t\t\t\t    \tA8:0,\n\t\t\t\t    \tA9:0,\n\t\t\t\t    \tA10:0\n\t\t\t\t    };\n\t\t\t\t\t\n\t\t\t\t    let obj = {\n\t\t\t\t    \texc:this.place,\n\t\t\t\t    \tremark:this.news.A1,\n\t\t\t\t    \tdata:Utils.encrypt(JSON.stringify(Object.assign({},this.news,other)))\n\t\t\t\t    }\n\t\t\t\t\t\n\t\t\t\t\tthis.changeLay(true);//loading\n\t\t\t\t    $ax.getAjaxData('/EasWebUser/addAPI', obj, (res) => {\t\t\t\n\t\t\t\t    \tthis.changeLay(false);\n\t\t\t\t    \tif (res.code == 1) {\n\t\t\t\t    \t\tlet msg = {\n\t\t\t\t    \t\t\tstate:true,\n\t\t\t\t    \t\t\terrorText:{\n\t\t\t\t    \t\t\t\ttype:'success',\n\t\t\t\t    \t\t\t\ttext:'添加成功'\n\t\t\t\t    \t\t\t}\n\t\t\t\t    \t\t}\n\t\t\t\t    \t\tthis.changeSnack(msg);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tlet state = this.$sock.lookState();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tstate==-1?this.$sock.initWebSocket():this.sendMsgToClient();\n\t\t\t\t\t\t\t\n\t\t\t\t    \t\tthis.addDialog = false;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.$refs.form.resetValidation();\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.news = this.$options.data().news;\r\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tsessionStorage.removeItem('collocation');\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.getApiList();\n\t\t\t\t    \t}\n\t\t\t\t    \n\t\t\t\t    }, {\n\t\t\t\t    \thasToken: true\n\t\t\t\t    });\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\n\t\t\tsendMsgToClient(){\n\t\t\t\t\n\t\t\t\tthis.$sock.websocketsend(JSON.stringify({code:1006}));\n\t\t\t\t\n\t\t\t},\n\n\t\t\tgetApiList(){//获取api列表\n\t\t\t\tthis.loading = true;\n\t\t\t\t$ax.getAjaxData('/EasWebUser/getAPI', {\n\t\t\t\t\tpageSize:10,\n\t\t\t\t\tpageIndex:this.curPage.page\n\t\t\t\t}, (res) => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\tif (res.code == 1) {\n\t\t\t\t\t\tthis.apiList = res.data;\n\t\t\t\t\t\tthis.curPage = {\n\t\t\t\t\t\t\tpage: res.pageIndex,\n\t\t\t\t\t\t\tsize: res.pageMaxPage\n\t\t\t\t\t\t};\n\n\t\t\t\t\t} else {\n\t\t\t\t\n\t\t\t\t\t\tconsole.log('错误错误')\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\thasToken: true\n\t\t\t\t});\n\n\t\t\t},\n\n\t\t}\n\t}\n</script>\n<style scoped=\"scoped\">\n\t.d{\n\t\tfont-size: 14px!important;\n\t}\n</style>\n"],"sourceRoot":"src/components"}]}