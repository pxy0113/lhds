{"remainingRequest":"F:\\work\\lhds\\node_modules\\babel-loader\\lib\\index.js!F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\work\\lhds\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\work\\lhds\\src\\components\\common\\mRuleForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\work\\lhds\\src\\components\\common\\mRuleForm.vue","mtime":1574155739834},{"path":"F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _defineProperty from \"F:\\\\work\\\\lhds\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapActions } from 'vuex';\nimport Utils from '@/plugins/cryAes.js';\nimport { addRuleData } from '@/mixins/addRuleData.js';\nexport default {\n  data: function data() {\n    return {\n      other: [{\n        id: 1,\n        text: '补仓',\n        show: true\n      }, {\n        id: 2,\n        text: '止损',\n        show: true\n      }, {\n        id: 3,\n        text: '建仓',\n        show: true\n      }],\n      otherList: [],\n      newOtherObj: {},\n      dialog: false,\n      valid2: true,\n      valid3: true\n    };\n  },\n  mixins: [addRuleData],\n  props: {\n    ruleObj: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    edit: {\n      type: Boolean,\n      default: false\n    }\n  },\n  watch: {\n    edit: {\n      handler: 'transPropsData',\n      immediate: true\n    },\n    wssData: {\n      handler: function handler(nV, oV) {\n        this.getMessage();\n      },\n      deep: true\n    }\n  },\n  computed: {\n    wssData: function wssData() {\n      //wss传递的消息\n      return this.$store.state.collocationList;\n    }\n  },\n  methods: _objectSpread({\n    cancelOther: function cancelOther() {\n      this.newOtherObj = {};\n      this.dialog = false;\n    },\n    closeOtherItem: function closeOtherItem(obj) {\n      //删掉其他规则\n      this.other.forEach(function (item) {\n        if (item.text == obj.name) {\n          item.show = true;\n        }\n      });\n      var list = this.otherList.filter(function (item) {\n        return item.name !== obj.name;\n      });\n      this.otherList = list;\n    },\n    editOtherItem: function editOtherItem(idx) {\n      //编辑已经存在的其他规则\n      this.newOtherObj = this.otherList[idx];\n      this.dialog = true;\n    },\n    createOneOther: function createOneOther(obj) {\n      //编辑其他规则提交后\n      this.dialog = false; // let {name,...params} = obj;\n\n      this.other.forEach(function (item) {\n        if (item.text == obj.name) {\n          item.show = false;\n        }\n      });\n      var arr = this.otherList.filter(function (list) {\n        return list.name == obj.name;\n      });\n\n      if (arr.length > 0) {\n        arr[0] = obj;\n      } else {\n        this.otherList.push(obj);\n      }\n    },\n    addOther: function addOther(id, index) {\n      this.newOtherObj = {\n        name: this.other[index].text\n      };\n      this.dialog = true;\n    }\n  }, mapActions(['changeLay', 'changeSnack']), {\n    getMessage: function getMessage() {\n      //wss传递的消息\n      var result = this.wssData;\n\n      switch (result.code) {\n        case 20013:\n          //客户端在线\n          this.wssSave();\n          break;\n\n        default:\n          break;\n      }\n    },\n    wssSave: function wssSave() {\n      var json = JSON.stringify({\n        code: 1006\n      });\n      this.$sock.websocketsend(json);\n    },\n    mainValid: function mainValid() {\n      var options = {\n        duration: 1000,\n        offset: 0,\n        easing: 'easeInOutCubic'\n      };\n\n      if (this.$refs.valid.validate()) {\n        if (this.$refs.valid2.validate()) {\n          if (this.$refs.valid3.validate()) {\n            console.log('全过啦');\n          } else {\n            this.$vuetify.goTo(this.$refs.valid3, options);\n          }\n        } else {\n          this.$vuetify.goTo(this.$refs.valid2, options);\n        }\n      } else {\n        this.$vuetify.goTo(this.$refs.valid, options);\n      }\n    },\n    postRule: function postRule() {\n      var _this = this;\n\n      //提交规则\n      var list = JSON.parse(JSON.stringify(this.jData));\n      list.R54 = this.curcy;\n      var title = this.ruleName.replace(/\\s+/g, '');\n      list.R0 = this.charToUnicode(title);\n      list.R11 = list.R11 ? 1 : 0;\n      list.R13 = list.R13 ? 1 : 0;\n      list.R19 = list.R19 ? 1 : 0;\n      list.R16 = list.R16 ? 1 : 0;\n      list.R20 = list.R20 ? 1 : 0;\n      list.R21 = list.R21 ? 1 : 0;\n      list.R26 = list.R26 ? 1 : 0;\n      list.R31 = list.R31 ? 1 : 0;\n\n      for (var i in list) {\n        //数字转成了字符\n        if (typeof list[i] == 'number') {\n          list[i] = list[i].toString();\n        }\n      }\n\n      var obj = {\n        name: title,\n        data: Utils.encrypt(JSON.stringify(list))\n      };\n      this.edit ? obj.id = list.id : '';\n      var url = this.edit ? '/EasWebUser/changeRule' : '/EasWebUser/addRule';\n      $ax.getAjaxData(url, obj, function (res) {\n        _this.changeLay(false);\n\n        if (res.code == 1) {\n          var msg = {\n            state: true,\n            errorText: {\n              type: 'success',\n              text: _this.edit ? '编辑成功' : '添加成功'\n            }\n          };\n\n          _this.changeSnack(msg);\n\n          var state = _this.$sock.lookState();\n\n          state == -1 ? _this.$sock.initWebSocket() : _this.wssSave();\n          sessionStorage.removeItem('collocation'); //清空缓存里的rule/api\n\n          Object.assign(_this.$data, _this.$options.data());\n\n          _this.hideRule();\n        }\n      }, {\n        hasToken: true\n      });\n    }\n  })\n};",{"version":3,"sources":["mRuleForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<v-card flat>\r\n\t\t<div class=\" px-5 py-3  green lighten-5 d-flex align-center\">\r\n\t\t\t<span class=\"green--text\">返回</span>\r\n\t\r\n<!-- \t\t\t<span class=\"green--text pl-2\" >{{edit?'编辑规则':'添加规则'}}</span>\r\n\t\t -->\r\n\t\t</div>\r\n\t\t<div class=\"grey lighten-3\">\r\n\t\t\t<v-form ref=\"valid\" v-model=\"valid\" lazy-validation class=\"px-6 py-4 white\">\r\n\t\t\t\t<p style=\"border-left: 4px solid #66BB6A;\" class=\"pl-2 font-weight-bold\">建仓规则</p>\r\n\t\t\t\t<div class=\"mobile-grid\">\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">买入跌幅</span>\r\n\t\t\t\t\t\t<v-text-field type=\"text\" v-model=\"ruleName\"\r\n\t\t\t\t\t\tclass=\"py-0\"\r\n\t\t\t\t\t\tcolor=\"green\" dense :rules=\"[rules.required,rules.isEmpty]\"></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">涨幅回调</span>\r\n\t\t\t\t\t\t<v-text-field type=\"text\" v-model=\"ruleName\"\r\n\t\t\t\t\t\tclass=\"py-0\"\r\n\t\t\t\t\t\tcolor=\"green\" dense :rules=\"[rules.required,rules.isEmpty]\"></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">计价货币</span>\r\n\t\t\t\t\t\t<v-select  dense v-model=\"curcy\"\r\n\t\t\t\t\t\tcolor=\"green\" :items=\"currency\" item-text=\"value\"\r\n\t\t\t\t\t\titem-color=\"green\"\r\n\t\t\t\t\t\t item-value=\"id\" single-line></v-select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">单次买入金额</span>\r\n\t\t\t\t\t\t<v-text-field type=\"text\" v-model=\"ruleName\"\r\n\t\t\t\t\t\tclass=\"py-0\"\r\n\t\t\t\t\t\tcolor=\"green\" dense :rules=\"[rules.required,rules.isEmpty]\"></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"my-2\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<p class=\"mb-2 d-flex justify-space-between align-center\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">\r\n\t\t\t\t\t\t\t强制建仓\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<!-- <Icon type=\"md-checkbox-outline\"  @click=\"allowJc\" size=\"18\" :color=\"jData.R11?'':'#BDBDBD'\" /> -->\r\n\t\t\t\t\t\t<v-btn icon small>\r\n\t\t\t\t\t\t\t<v-icon @click=\"allowJc\" small>{{jData.R11 ? 'mdi-check-box-outline' : 'mdi-square-outline'}}</v-icon>\r\n\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<transition name=\"fade\" v-if=\"jData.R11\">\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R12\" :disabled=\"!jData.R11\" color=\"green\"  single-line\r\n\t\t\t\t\t\t:step=\"0.01\" min=\"1\"  suffix=\"分钟无仓强制建仓\" hide-details  dense></v-text-field>\r\n\t\t\t\t\t</transition>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p class=\"mb-2 d-flex align-center justify-space-between\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">\r\n\t\t\t\t\t\t\t追涨\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<v-btn icon small>\r\n\t\t\t\t\t\t\t<v-icon @click=\"allowSup\" small>{{jData.R13 ? 'mdi-check-box-outline' : 'mdi-square-outline'}}</v-icon>\r\n\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t<transition name=\"fade\" v-if=\"jData.R13\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R14\" :disabled=\"!jData.R13\" color=\"green\"  single-line\r\n\t\t\t\t\t\t\tmin=\"1\" hide-details suffix=\"分钟内上涨\" dense></v-text-field>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</transition>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<transition name=\"fade\" v-if=\"jData.R13\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R15\" :disabled=\"!jData.R13\" color=\"green\"  single-line\r\n\t\t\t\t\t\t\tmin=\"1\" hide-details suffix=\"%则追涨建仓\" dense></v-text-field>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</transition>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<transition name=\"fade\" v-if=\"jData.R13\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R36\" :disabled=\"!jData.R13\" color=\"green\"  single-line\r\n\t\t\t\t\t\t\tmin=\"1\" hide-details suffix=\"分钟延迟追涨\" dense></v-text-field>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</transition>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</v-form>\r\n\t\t\t\r\n\t\t\t<v-form ref=\"valid2\" v-model=\"valid2\" lazy-validation class=\"px-6 py-4 white mt-2\">\r\n\t\t\t\t<p style=\"border-left: 4px solid #66BB6A;\" class=\"pl-2 font-weight-bold\">平仓规则</p>\r\n\t\t\t\t<div class=\"mobile-grid\">\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">卖出涨幅</span>\r\n\t\t\t\t\t\t<v-text-field type=\"text\" v-model=\"ruleName\"\r\n\t\t\t\t\t\tclass=\"py-0\"\r\n\t\t\t\t\t\tcolor=\"green\" dense :rules=\"[rules.required,rules.isEmpty]\"></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">涨幅回调</span>\r\n\t\t\t\t\t\t<v-text-field type=\"text\" v-model=\"ruleName\"\r\n\t\t\t\t\t\tclass=\"py-0\"\r\n\t\t\t\t\t\tcolor=\"green\" dense :rules=\"[rules.required,rules.isEmpty]\"></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">止损跌幅</span>\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R6\" color=\"green\" single-line :step=\"0.1\" min=\"0\" \r\n\t\t\t\t\t\t:rules=\"[rules.required,rules.isEmpty]\"\r\n\t\t\t\t\t\t dense></v-text-field>\r\n\t\t\t\t\t</div>\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"my-2\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<p class=\"mb-2 d-flex justify-space-between align-center\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">\r\n\t\t\t\t\t\t\t杀跌平仓\r\n\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t<v-btn icon small>\r\n\t\t\t\t\t\t\t<v-icon @click=\"allowPc\" small>{{jData.R16 ? 'mdi-check-box-outline' : 'mdi-square-outline'}}</v-icon>\r\n\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<transition name=\"fade\" v-if=\"jData.R16\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R17\" :disabled=\"!jData.R16\" color=\"green\"  single-line\r\n\t\t\t\t\t\t\tmin=\"1\" hide-details suffix=\"分钟内下跌\" dense class=\"pb-2\"></v-text-field>\r\n\r\n\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R18\" :disabled=\"!jData.R16\" color=\"green\"  single-line\r\n\t\t\t\t\t\t\tmin=\"1\" hide-details suffix=\"%则杀跌平仓\" dense></v-text-field>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</transition>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</v-form>\r\n\t\t\t\r\n\t\t\t<v-form ref=\"valid3\" v-model=\"valid3\" lazy-validation class=\"px-6 py-4 white mt-2\">\r\n\t\t\t\t<p style=\"border-left: 4px solid #66BB6A;\" class=\"pl-2 font-weight-bold\">补仓规则</p>\r\n\t\t\t\t<div class=\"mobile-grid\">\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">单次补仓跌幅(%)</span>\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R7\" color=\"green\" \r\n\t\t\t\t\t\t:rules=\"[rules.required,rules.size,rules.precent]\"\r\n\t\t\t\t\t\t :step=\"0.1\" min=\"0\" dense single-line></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">补仓回调</span>\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R10\" color=\"green\" :step=\"0.01\" min=\"0\"\r\n\t\t\t\t\t\t dense single-line></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">单次补仓金额</span>\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R9\" color=\"green\"\r\n\t\t\t\t\t\t:rules=\"[rules.required,rules.size]\"\r\n\t\t\t\t\t\t single-line :step=\"0.1\" min=\"0\" dense></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">补仓次数</span>\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R8\" color=\"green\"  single-line \r\n\t\t\t\t\t\t min=\"0\" dense></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"my-2\">\r\n\t\t\t\t\t<div class=\"mobile-grid\">\r\n\t\t\t\t\t\t<v-switch\r\n\t\t\t\t\t\t  v-model=\"jData.R19\" \r\n\t\t\t\t\t\t  label=\"补仓单卖\" \r\n\t\t\t\t\t\t  color=\"success\"\r\n\t\t\t\t\t\t  dense\r\n\t\t\t\t\t\t  hide-details\r\n\t\t\t\t\t\t  @change=\"listenState\" \r\n\t\t\t\t\t\t></v-switch>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<v-switch\r\n\t\t\t\t\t\t  v-model=\"jData.R20\"\r\n\t\t\t\t\t\t  color=\"success\"\r\n\t\t\t\t\t\t  dense\r\n\t\t\t\t\t\t  hide-details\r\n\t\t\t\t\t\t  :disabled=\"!jData.R19\"\r\n\t\t\t\t\t\t  label=\"允许补仓\" \r\n\t\t\t\t\t\t></v-switch>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\t</v-form>\r\n\t\t\r\n\t\t\t<div class=\"px-6 py-4 white mt-2\">\r\n\t\t\t\t<p style=\"border-left: 4px solid #66BB6A;\" class=\"pl-2 font-weight-bold\">其他规则</p>\r\n\t\t\t\t<v-menu transition=\"scroll-y-transition\" v-if=\"other.length>0\">\r\n\t\t\t\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t\t\t\t<v-btn tile outlined small color=\"success\" class=\"ma-0\" v-on=\"on\">\r\n\t\t\t\t\t\t\t添加\r\n\t\t\t\t\t\t\t<v-icon right>mdi-menu-down</v-icon>\r\n\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<v-list class=\"pa-0\">\r\n\t\t\t\t\t  <v-list-item dense  v-ripple=\"{ class: 'green--text' }\"\r\n\t\t\t\t\t\tv-for=\"(n,index) in other\" link @click=\"addOther(n.id,index)\" v-if=\"n.show\">\r\n\t\t\t\t\t\t<v-list-item-title>{{n.text}}</v-list-item-title>\r\n\t\t\t\t\t  </v-list-item>\r\n\t\t\t\t\t</v-list>\r\n\t\t\t\t</v-menu>\r\n\t\t\t\t<!-- <div v-for=\"other in otherList\" class=\"grey lighten-4 pa-2 my-1\">\r\n\t\t\t\t\t<p class=\"mb-0\"><v-icon right small>mdi-close</v-icon></p>\r\n\t\t\t\t\t{{other.a}}分钟内下跌{{other.b}}%时,{{other.name}}比例变为{{other.c}}%,{{other.d}}分钟后恢复数值\r\n\t\t\t\t</div> -->\r\n\t\t\t\t <v-list two-line > \r\n\t\t\t\t\t <v-list-item v-for=\"(other,idx) in otherList\" class=\"my-1 grey lighten-4\">\r\n\t\t\t\t\t\t  <v-list-item-content>\r\n\t\t\t\t\t\t\t{{other.a}}分钟内下跌{{other.b}}%时,{{other.name}}比例变为{{other.c}}%,{{other.d}}分钟后恢复数值\r\n\t\t\t\t\t\t  </v-list-item-content>\r\n\t\t\t\r\n\t\t\t\t\t\t  <v-list-item-action>\r\n\t\t\t\t\t\t\t<v-btn icon small class=\"ma-1\" @click=\"closeOtherItem(other)\"><v-icon color=\"error\">mdi-close</v-icon></v-btn>\r\n\t\t\t\t\t\t\t<v-btn icon small class=\"ma-1\" @click=\"editOtherItem(idx)\"><v-icon>mdi-square-edit-outline</v-icon></v-btn>\r\n\t\t\t\t\t\t  </v-list-item-action>\r\n\t\t\t\t\t  </v-list-item>\r\n\t\t\t\t </v-list>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<p class=\"bottomBtn white\">\r\n\t\t\t\t <v-btn block color=\"secondary\" outlined depressed tile>取消</v-btn>\r\n\t\t\t\t  <v-btn block color=\"green\" dark  depressed tile @click=\"mainValid\">提交</v-btn>\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t\t\r\n\t\t<common-otherRule :dialog=\"dialog\" :newOtherObj=\"newOtherObj\" @pushData=\"createOneOther\"\r\n\t\t@cancelDialog=\"cancelOther\"></common-otherRule>\r\n\t\t\r\n\t</v-card>\n</template>\n\n<script>\r\n\timport {\r\n\t\tmapActions\r\n\t} from 'vuex';\r\n\timport Utils from '@/plugins/cryAes.js'\r\n\timport { addRuleData } from '@/mixins/addRuleData.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tother:[\r\n\t\t\t\t\t{id:1,text:'补仓',show:true},\r\n\t\t\t\t\t{id:2,text:'止损',show:true},\r\n\t\t\t\t\t{id:3,text:'建仓',show:true},\r\n\t\t\t\t],\r\n\t\t\t\t\r\n\t\t\t\totherList:[],\r\n\t\t\t\t\r\n\t\t\t\tnewOtherObj:{},\r\n\t\t\t\t\r\n\t\t\t\tdialog:false,\r\n\t\t\t\t\r\n\t\t\t\tvalid2:true,\r\n\t\t\t\t\r\n\t\t\t\tvalid3:true,\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tmixins:[addRuleData],\r\n\t\t\r\n\t\tprops: {\r\n\t\t\truleObj: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => ({})\r\n\t\t\t},\r\n\t\t\tedit: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\twatch: {\r\n\t\t\tedit: {\r\n\t\t\t\thandler: 'transPropsData',\r\n\t\t\t\timmediate: true\r\n\t\t\t},\r\n\t\t\twssData: {\r\n\t\t\t\thandler(nV, oV) {\r\n\t\t\t\t\tthis.getMessage();\r\n\t\t\t\t},\r\n\t\t\t\tdeep: true\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\twssData() { //wss传递的消息\r\n\t\t\t\treturn this.$store.state.collocationList;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tmethods:{\r\n\t\t\tcancelOther(){\r\n\t\t\t\tthis.newOtherObj = {};\r\n\t\t\t\tthis.dialog = false;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tcloseOtherItem(obj){//删掉其他规则\r\n\t\t\t\tthis.other.forEach(item =>{\r\n\t\t\t\t\tif(item.text==obj.name){\r\n\t\t\t\t\t\titem.show = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tlet list = this.otherList.filter(item =>item.name!==obj.name);\r\n\t\t\t\tthis.otherList = list;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\teditOtherItem(idx){//编辑已经存在的其他规则\r\n\t\t\t\tthis.newOtherObj = this.otherList[idx];\r\n\t\t\t\tthis.dialog = true;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tcreateOneOther(obj){//编辑其他规则提交后\r\n\t\t\t\tthis.dialog = false;\r\n\t\t\t\t// let {name,...params} = obj;\r\n\t\t\t\t\r\n\t\t\t\tthis.other.forEach(item =>{\r\n\t\t\t\t\tif(item.text==obj.name){\r\n\t\t\t\t\t\titem.show = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tlet arr = this.otherList.filter(list =>list.name == obj.name);\r\n\t\t\t\t\r\n\t\t\t\tif(arr.length>0){\r\n\t\t\t\t\tarr[0] = obj;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.otherList.push(obj);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\taddOther(id,index){\r\n\t\t\t\tthis.newOtherObj = {\r\n\t\t\t\t\tname:this.other[index].text\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.dialog = true;\r\n\t\t\t},\r\n\r\n\t\t\t...mapActions(['changeLay', 'changeSnack']),\r\n\t\t\t\r\n\t\t\tgetMessage() { //wss传递的消息\r\n\t\t\t\tlet result = this.wssData;\r\n\t\t\t\tswitch (result.code) {\r\n\t\t\t\t\tcase 20013: //客户端在线\r\n\t\t\t\t\t\tthis.wssSave();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\t\t\r\n\t\t\twssSave() {\r\n\t\t\t\tlet json = JSON.stringify({\r\n\t\t\t\t\tcode: 1006\r\n\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\tthis.$sock.websocketsend(json);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tmainValid(){\r\n\t\t\t\tlet options = {\r\n\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\toffset: 0,\r\n\t\t\t\t\teasing: 'easeInOutCubic'\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tif (this.$refs.valid.validate()) {\r\n\t\t\t\t\tif(this.$refs.valid2.validate()){\r\n\t\t\t\t\t\tif(this.$refs.valid3.validate()){\r\n\t\t\t\t\t\t\tconsole.log('全过啦')\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.$vuetify.goTo(this.$refs.valid3, options)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$vuetify.goTo(this.$refs.valid2, options)\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$vuetify.goTo(this.$refs.valid, options)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tpostRule() { //提交规则\r\n\t\t\t\tlet list = JSON.parse(JSON.stringify(this.jData));\r\n\t\t\t\tlist.R54 = this.curcy;\r\n\t\t\t\tlet title = this.ruleName.replace(/\\s+/g,'');\r\n\t\t\t\tlist.R0 = this.charToUnicode(title);\r\n\t\t\t\tlist.R11 = list.R11 ? 1 : 0;\r\n\t\t\t\tlist.R13 = list.R13 ? 1 : 0;\r\n\t\t\t\tlist.R19 = list.R19 ? 1 : 0;\r\n\t\t\t\tlist.R16 = list.R16 ? 1 : 0;\r\n\t\t\t\tlist.R20 = list.R20 ? 1 : 0;\r\n\t\t\t\tlist.R21 = list.R21 ? 1 : 0;\r\n\t\t\t\tlist.R26 = list.R26 ? 1 : 0;\r\n\t\t\t\tlist.R31 = list.R31 ? 1 : 0;\r\n\t\t\t\t\t\r\n\t\t\t\tfor (let i in list) { //数字转成了字符\r\n\t\t\t\t\tif (typeof(list[i]) == 'number') {\r\n\t\t\t\t\t\tlist[i] = list[i].toString();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tname: title,\r\n\t\t\t\t\tdata: Utils.encrypt(JSON.stringify(list))\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tthis.edit ? obj.id = list.id : '';\r\n\t\t\t\t\t\r\n\t\t\t\tlet url = this.edit ? '/EasWebUser/changeRule' : '/EasWebUser/addRule';\r\n\t\t\t\t\t\r\n\t\t\t\t$ax.getAjaxData(url, obj, (res) => {\r\n\t\t\t\t\tthis.changeLay(false);\r\n\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\tlet msg = {\r\n\t\t\t\t\t\t\tstate: true,\r\n\t\t\t\t\t\t\terrorText: {\r\n\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\ttext: this.edit ? '编辑成功' : '添加成功'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.changeSnack(msg);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tlet state = this.$sock.lookState();\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tstate == -1 ? this.$sock.initWebSocket() : this.wssSave();\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tsessionStorage.removeItem('collocation'); //清空缓存里的rule/api\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tObject.assign(this.$data, this.$options.data());\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tthis.hideRule();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, {\r\n\t\t\t\t\thasToken: true\r\n\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped=\"scoped\">\r\n\t.bottomBtn{\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: 50% 50%;\r\n\t\tgrid-template-rows: auto;\r\n\t}\r\n\t.mobile-grid{\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: 48% 48%;\r\n\t\tgrid-template-rows: auto auto;\r\n\t\tgrid-gap: 10px;\r\n\t}\r\n\t\r\n\t.mobile-grid-one{\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: 48% 48%;\r\n\t\tgrid-template-rows: auto;\r\n\t\tgrid-gap: 10px;\r\n\t}\r\n\t\r\n\t.xy-select {\r\n\t\twidth: 100px;\r\n\t\tborder: 1px solid;\r\n\t\tborder-radius: 3px;\r\n\t\tbackground: none;\r\n\t\tpadding: 4px;\r\n\t}\r\n\r\n\t.xy-select:focus {\r\n\t\toutline: 0;\r\n\t\tborder: 1px solid #4caf50;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\r\n\t.xy-options {\r\n\t\tpadding: 5px 3px;\r\n\t}\r\n\r\n\t.xy-options:hover {\r\n\t\tbackground: #4caf50;\r\n\t}\r\n\r\n\t.nameStyle {\r\n\t\toutline: 0;\r\n\t\tmax-width: 200px;\r\n\t\tpadding: 3px 3px 3px 5px;\r\n\t\tborder-radius: 3px;\r\n\t\tborder: 1px solid;\r\n\t}\r\n\r\n\t.fade-enter-active,\r\n\t.fade-leave-active {\r\n\t\ttransition: opacity .5s\r\n\t}\r\n\r\n\t.fade-enter,\r\n\t.fade-leave-active {\r\n\t\topacity: 0\r\n\t}\r\n</style>"],"sourceRoot":"src/components/common"}]}