{"remainingRequest":"F:\\work\\lhds\\node_modules\\babel-loader\\lib\\index.js!F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\work\\lhds\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\work\\lhds\\src\\views\\mobile\\List.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\work\\lhds\\src\\views\\mobile\\List.vue","mtime":1572594169978},{"path":"F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.number.constructor\";\nimport _defineProperty from \"F:\\\\work\\\\lhds\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapActions } from 'vuex';\nimport upSvg from '@/img/up.svg';\nimport datePickers from '@/components/datePickers.vue';\nimport orderList from '@/views/mobile/Order.vue';\nimport tableList from '@/views/mobile/TableList.vue';\nexport default {\n  components: {\n    orderList: orderList,\n    tableList: tableList,\n    datePickers: datePickers\n  },\n  data: function data() {\n    return {\n      typeArr: [{\n        id: 0,\n        value: '收益数据'\n      }, {\n        id: 1,\n        value: '下单数据'\n      }],\n      loading: true,\n      //控制骨架屏 true表示显示\n      transition: 'fade-transition',\n      upIcon: upSvg,\n      urls: ['/EasWebUser/getPlace', '/EasWebUser/getClose'],\n      target: '#vRow',\n      options: {\n        duration: 1000,\n        offset: 0,\n        easing: 'easeInOutCubic'\n      },\n      startTime: '',\n      endTime: '',\n      items: [],\n      //下单记录列表\n      tabIndex: 0,\n      //当前下标\n      size: 50,\n      componentArr: ['orderList', 'tableList'] //组件数组\n\n    };\n  },\n  methods: _objectSpread({\n    init: function init() {\n      //初始化\n      this.draw(); //画箭头\n\n      var day1 = this.$moment().startOf('day').format('YYYY-MM-DD HH:mm:ss');\n      ;\n      var day2 = this.$moment().endOf('day').format('YYYY-MM-DD HH:mm:ss');\n      this.startTime = day1;\n      this.endTime = day2;\n      var list = {\n        \"beginTime\": this.$moment(day1).format('x'),\n        \"endTime\": this.$moment(day2).format('x'),\n        \"pageSize\": 10,\n        \"pageIndex\": 1\n      };\n      this.getListData(list);\n    },\n    doSomething: function doSomething() {\n      console.log('渲染了' + this.componentArr[this.tabIndex]); // this.$refs.componentType.init();\n    },\n    changeTab: function changeTab() {\n      var list = {\n        \"beginTime\": this.$moment(this.startTime).format('x'),\n        \"endTime\": Number(this.$moment(this.endTime).format('x')) + 59000 + \"\",\n        \"pageSize\": 10,\n        \"pageIndex\": 1\n      };\n      this.getListData(list);\n    },\n    inputShow: function inputShow(number) {\n      this.curPage.page = number;\n      var start = this.$moment(this.startTime).format('x');\n      var end = this.$moment(this.endTime).format('x');\n      var list = {\n        \"beginTime\": start,\n        \"endTime\": end,\n        \"pageSize\": 10,\n        \"pageIndex\": this.curPage.page ? this.curPage.page : 0\n      };\n      this.$vuetify.goTo(this.target, this.options); //平滑滚动到表头\n\n      this.getListData(list);\n    }\n  }, mapActions(['changeSnack']), {\n    startTimeChange: function startTimeChange(time) {\n      this.startTime = time;\n    },\n    endTimeChange: function endTimeChange(time) {\n      this.endTime = time;\n    },\n    search: function search() {\n      //搜索列表\n      if (this.startTime && this.endTime) {\n        var start = this.$moment(this.startTime).valueOf();\n        var end = this.$moment(this.endTime).valueOf();\n\n        if (end > start) {\n          var list = {\n            \"beginTime\": this.$moment(this.startTime).format('x'),\n            \"endTime\": Number(this.$moment(this.endTime).format('x')) + 59000 + \"\",\n            \"pageSize\": 10,\n            \"pageIndex\": 1\n          };\n          this.getListData(list);\n        } else {\n          var msg = {\n            state: true,\n            errorText: {\n              type: 'info',\n              text: '开始时间不能大于结束时间'\n            }\n          };\n          this.changeSnack(msg);\n        }\n      } else {\n        var _msg = {\n          state: true,\n          errorText: {\n            type: 'info',\n            text: '请填写时间再搜索'\n          }\n        };\n        this.changeSnack(_msg);\n      }\n    },\n    draw: function draw() {\n      //画箭头\n      this.size = this.$refs.dateTemplate.offsetHeight;\n      var canvas = document.getElementById('canvas');\n      canvas.width = this.size;\n      canvas.height = this.size;\n      var ctx = canvas.getContext('2d');\n      ctx.beginPath();\n      ctx.moveTo(this.size / 4 + 6.25, 0);\n      ctx.lineTo(this.size / 2 + 6.25, this.size / 2);\n      ctx.lineTo(this.size / 4 + 6.25, this.size);\n      ctx.lineWidth = 1;\n      ctx.strokeStyle = '#66BB6A';\n      ctx.stroke();\n    },\n    getListData: function getListData(list) {\n      var _this = this;\n\n      //获取下单数据\n      this.loading = true;\n      $ax.getAjaxData(this.urls[this.tabIndex], list, function (res) {\n        if (res.code == 1) {\n          var data = res.data;\n          _this.curPage = {\n            page: res.pageIndex,\n            size: res.pageMaxPage\n          };\n          data.forEach(function (item) {\n            item.placeTime = _this.$utils.timestampToTime(Number(item.placeTime));\n          });\n          _this.items = data;\n        } else {\n          console.log('错误错误');\n        }\n\n        _this.loading = false;\n      }, {\n        hasToken: true\n      });\n    }\n  }),\n  mounted: function mounted() {\n    this.init();\n  }\n};",{"version":3,"sources":["List.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"pa-2\">\r\n\t\t<!-- <v-tabs v-model=\"tabIndex\" color=\"green\" @change=\"changeTab\">\r\n\t\t\t<v-tab>收益数据</v-tab>\r\n\t\t\t<v-tab>下单数据</v-tab>\r\n\t\t</v-tabs> -->\r\n\t\t<div class=\"d-flex flex-column mt-1\" v-resize=\"draw\" id=\"vRow\">\r\n\t\t\t<div style=\"border: 1px solid #66BB6A;\">\r\n\t\t\t\t<div class=\" green lighten-5 dateTemplate\" ref=\"dateTemplate\">\r\n\t\t\t\t\t<date-pickers :value=\"startTime\" @changeTime=\"startTimeChange\"></date-pickers>\r\n\t\t\t\t\t<canvas id=\"canvas\" :style=\"{'width':'50px','height':size+'px'}\"></canvas>\r\n\t\t\t\t\t<date-pickers :value=\"endTime\" @changeTime=\"endTimeChange\"></date-pickers>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"d-flex align-center justify-space-between flex-wrap my-1\">\r\n\t\t\t\t<div style=\"max-width: 200px;\">\r\n\t\t\t\t\t<v-select v-model=\"tabIndex\" @change=\"changeTab\" dense hide-details color=\"green\" :items=\"typeArr\" item-text=\"value\"\r\n\t\t\t\t\t item-color=\"green\" item-value=\"id\" single-line></v-select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<v-btn color=\"green\" depressed outlined class=\"ml-1\" @click=\"search\">\r\n\t\t\t\t\t<v-icon>mdi-magnify</v-icon>\r\n\t\t\t\t\t查询\r\n\t\t\t\t</v-btn>\r\n\t\t\t</div>\r\n\r\n\t\t\t<component :is=\"transition !== 'None' ? `v-${transition}` : 'div'\" hide-on-leave>\r\n\t\t\t\t<v-skeleton-loader v-if=\"loading\" type=\"article\">\r\n\t\t\t\t</v-skeleton-loader>\r\n\r\n\t\t\t\t<div v-else>\r\n\t\t\t\t\t<v-list-item three-line v-if=\"items.length<1\" class=\"xy-tableItem\">\r\n\t\t\t\t\t\t<p class=\"text-center\" style=\"width: 100%;\">暂无数据</p>\r\n\t\t\t\t\t</v-list-item>\r\n\r\n\t\t\t\t\t<component v-else :is=\"componentArr[tabIndex]\" ref=\"componentType\" :items=\"items\" @hook:mounted=\"doSomething\"></component>\r\n\t\t\t\t\t<div class=\"text-center my-4\" v-if=\"items.length>0\">\r\n\t\t\t\t\t\t<v-pagination color=\"green\" v-model=\"curPage.page\" :length=\"curPage.size\" v-on:input=\"inputShow\" :total-visible=\"7\"></v-pagination>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</component>\r\n\r\n\t\t\t<v-fab-transition>\r\n\r\n\t\t\t\t<Avatar :src=\"upIcon\" v-if=\"items.length>=5\" class=\"xy-suspend\" @click.stop.native=\"$vuetify.goTo(target, options)\">\r\n\t\t\t\t</Avatar>\r\n\t\t\t</v-fab-transition>\r\n\t\t</div>\r\n\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapActions\r\n\t} from 'vuex';\r\n\timport upSvg from '@/img/up.svg'\r\n\timport datePickers from '@/components/datePickers.vue'\r\n\timport orderList from '@/views/mobile/Order.vue'\r\n\timport tableList from '@/views/mobile/TableList.vue'\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\torderList,\r\n\t\t\ttableList,\r\n\t\t\tdatePickers\r\n\t\t},\r\n\t\tdata: () => ({\r\n\t\t\ttypeArr: [{\r\n\t\t\t\t\tid: 0,\r\n\t\t\t\t\tvalue: '收益数据'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\tvalue: '下单数据'\r\n\t\t\t\t},\r\n\t\t\t],\r\n\r\n\t\t\tloading: true, //控制骨架屏 true表示显示\r\n\r\n\t\t\ttransition: 'fade-transition',\r\n\r\n\t\t\tupIcon: upSvg,\r\n\r\n\t\t\turls: ['/EasWebUser/getPlace', '/EasWebUser/getClose'],\r\n\r\n\t\t\ttarget: '#vRow',\r\n\t\t\toptions: {\r\n\t\t\t\tduration: 1000,\r\n\t\t\t\toffset: 0,\r\n\t\t\t\teasing: 'easeInOutCubic'\r\n\t\t\t},\r\n\r\n\t\t\tstartTime: '',\r\n\t\t\tendTime: '',\r\n\r\n\t\t\titems: [], //下单记录列表\r\n\r\n\t\t\ttabIndex: 0, //当前下标\r\n\r\n\t\t\tsize: 50,\r\n\r\n\t\t\tcomponentArr: ['orderList', 'tableList'], //组件数组\r\n\r\n\t\t}),\r\n\t\tmethods: {\r\n\t\t\tinit() { //初始化\r\n\t\t\t\tthis.draw(); //画箭头\r\n\t\t\t\tlet day1 = this.$moment().startOf('day').format('YYYY-MM-DD HH:mm:ss');;\r\n\t\t\t\tlet day2 = this.$moment().endOf('day').format('YYYY-MM-DD HH:mm:ss');\r\n\r\n\t\t\t\tthis.startTime = day1;\r\n\t\t\t\tthis.endTime = day2;\r\n\r\n\t\t\t\tlet list = {\r\n\t\t\t\t\t\"beginTime\": this.$moment(day1).format('x'),\r\n\t\t\t\t\t\"endTime\": this.$moment(day2).format('x'),\r\n\t\t\t\t\t\"pageSize\": 10,\r\n\t\t\t\t\t\"pageIndex\": 1\r\n\t\t\t\t}\r\n\t\t\t\tthis.getListData(list);\r\n\t\t\t},\r\n\r\n\t\t\tdoSomething() {\r\n\t\t\t\tconsole.log('渲染了' + this.componentArr[this.tabIndex])\r\n\t\t\t\t// this.$refs.componentType.init();\r\n\t\t\t},\r\n\t\t\tchangeTab() {\r\n\t\t\t\tlet list = {\r\n\t\t\t\t\t\"beginTime\": this.$moment(this.startTime).format('x'),\r\n\t\t\t\t\t\"endTime\": Number(this.$moment(this.endTime).format('x')) + 59000 + \"\",\r\n\t\t\t\t\t\"pageSize\": 10,\r\n\t\t\t\t\t\"pageIndex\": 1\r\n\t\t\t\t}\r\n\t\t\t\tthis.getListData(list);\r\n\t\t\t},\r\n\r\n\t\t\tinputShow(number) {\r\n\t\t\t\tthis.curPage.page = number;\r\n\t\t\t\tlet start = this.$moment(this.startTime).format('x');\r\n\t\t\t\tlet end = this.$moment(this.endTime).format('x');\r\n\t\t\t\tlet list = {\r\n\t\t\t\t\t\"beginTime\": start,\r\n\t\t\t\t\t\"endTime\": end,\r\n\t\t\t\t\t\"pageSize\": 10,\r\n\t\t\t\t\t\"pageIndex\": this.curPage.page ? this.curPage.page : 0\r\n\t\t\t\t}\r\n\t\t\t\tthis.$vuetify.goTo(this.target, this.options); //平滑滚动到表头\r\n\t\t\t\tthis.getListData(list);\r\n\t\t\t},\r\n\r\n\t\t\t...mapActions(['changeSnack']),\r\n\r\n\t\t\tstartTimeChange(time) {\r\n\t\t\t\tthis.startTime = time;\r\n\t\t\t},\r\n\r\n\t\t\tendTimeChange(time) {\r\n\t\t\t\tthis.endTime = time;\r\n\t\t\t},\r\n\r\n\t\t\tsearch() { //搜索列表\r\n\r\n\t\t\t\tif (this.startTime && this.endTime) {\r\n\t\t\t\t\tlet start = this.$moment(this.startTime).valueOf();\r\n\t\t\t\t\tlet end = this.$moment(this.endTime).valueOf();\r\n\t\t\t\t\tif (end > start) {\r\n\t\t\t\t\t\tlet list = {\r\n\t\t\t\t\t\t\t\"beginTime\": this.$moment(this.startTime).format('x'),\r\n\t\t\t\t\t\t\t\"endTime\": Number(this.$moment(this.endTime).format('x')) + 59000 + \"\",\r\n\t\t\t\t\t\t\t\"pageSize\": 10,\r\n\t\t\t\t\t\t\t\"pageIndex\": 1\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.getListData(list);\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tlet msg = {\r\n\t\t\t\t\t\t\tstate: true,\r\n\t\t\t\t\t\t\terrorText: {\r\n\t\t\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\t\t\ttext: '开始时间不能大于结束时间'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.changeSnack(msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet msg = {\r\n\t\t\t\t\t\tstate: true,\r\n\t\t\t\t\t\terrorText: {\r\n\t\t\t\t\t\t\ttype: 'info',\r\n\t\t\t\t\t\t\ttext: '请填写时间再搜索'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.changeSnack(msg);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdraw() { //画箭头\r\n\t\t\t\tthis.size = this.$refs.dateTemplate.offsetHeight;\r\n\t\t\t\tlet canvas = document.getElementById('canvas');\r\n\t\t\t\tcanvas.width = this.size;\r\n\t\t\t\tcanvas.height = this.size;\r\n\t\t\t\tlet ctx = canvas.getContext('2d');\r\n\t\t\t\tctx.beginPath();\r\n\t\t\t\tctx.moveTo(this.size / 4 + 6.25, 0);\r\n\t\t\t\tctx.lineTo(this.size / 2 + 6.25, this.size / 2);\r\n\t\t\t\tctx.lineTo(this.size / 4 + 6.25, this.size);\r\n\t\t\t\tctx.lineWidth = 1;\r\n\t\t\t\tctx.strokeStyle = '#66BB6A';\r\n\t\t\t\tctx.stroke();\r\n\r\n\t\t\t},\r\n\r\n\t\t\tgetListData(list) { //获取下单数据\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\t$ax.getAjaxData(this.urls[this.tabIndex], list, (res) => {\r\n\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\tlet data = res.data;\r\n\t\t\t\t\t\tthis.curPage = {\r\n\t\t\t\t\t\t\tpage: res.pageIndex,\r\n\t\t\t\t\t\t\tsize: res.pageMaxPage\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tdata.forEach(item => {\r\n\t\t\t\t\t\t\titem.placeTime = this.$utils.timestampToTime(Number(item.placeTime));\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.items = data;\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tconsole.log('错误错误')\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.loading = false;\r\n\r\n\t\t\t\t}, {\r\n\t\t\t\t\thasToken: true\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.init();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped=\"scoped\">\r\n\t.dateTemplate {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\ttext-align: center;\r\n\t\tpadding: 0 16px;\r\n\t\twidth: 100%;\r\n\t\tcolor: #37474F;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/views/mobile"}]}