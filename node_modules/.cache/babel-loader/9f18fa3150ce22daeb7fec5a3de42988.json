{"remainingRequest":"C:\\Users\\pxy\\Downloads\\test\\lhds\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pxy\\Downloads\\test\\lhds\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\pxy\\Downloads\\test\\lhds\\src\\mixins\\mobileRule.js","dependencies":[{"path":"C:\\Users\\pxy\\Downloads\\test\\lhds\\src\\mixins\\mobileRule.js","mtime":1574651367534},{"path":"C:\\Users\\pxy\\Downloads\\test\\lhds\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1572955172692},{"path":"C:\\Users\\pxy\\Downloads\\test\\lhds\\node_modules\\babel-loader\\lib\\index.js","mtime":1572955171173},{"path":"C:\\Users\\pxy\\Downloads\\test\\lhds\\node_modules\\eslint-loader\\index.js","mtime":1572955195504}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.number.constructor\";\nimport _slicedToArray from \"C:\\\\Users\\\\pxy\\\\Downloads\\\\test\\\\lhds\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/slicedToArray\";\nimport \"core-js/modules/es7.object.values\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _defineProperty from \"C:\\\\Users\\\\pxy\\\\Downloads\\\\test\\\\lhds\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { mapActions } from 'vuex';\nimport Utils from '@/plugins/cryAes.js';\nexport var addRuleData = {\n  props: {\n    ruleObj: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    edit: {\n      type: Boolean,\n      default: false\n    },\n    parentName: {\n      //父组件的名字\n      type: String,\n      default: 'Rule'\n    }\n  },\n  watch: {\n    edit: {\n      handler: 'transRuleData',\n      immediate: true\n    }\n  },\n  data: function data() {\n    return {\n      other: [{\n        id: 1,\n        text: '补仓',\n        show: true\n      }, {\n        id: 2,\n        text: '止损',\n        show: true\n      }, {\n        id: 3,\n        text: '建仓',\n        show: true\n      }],\n      otherList: {\n        \"1\": {},\n        \"2\": {},\n        \"3\": {}\n      },\n      newOtherObj: {},\n      dialog: false,\n      rules: {\n        required: function required(v) {\n          return !!v || '必填';\n        },\n        length: function length(v) {\n          return v && v.length <= 68 || '超出长度';\n        },\n        isEmpty: function isEmpty(v) {\n          return /\\S/.test(v) || '不可为空';\n        },\n        size: function size(v) {\n          return v > 0 || '必须大于0';\n        },\n        percent: function percent(v) {\n          return v <= 100 || '不可超出100';\n        },\n        not: function not(v) {\n          return !/[\\u4E00-\\u9FA5]/g.test(v) || '不能是中文';\n        }\n      },\n      valid: true,\n      valid2: true,\n      valid3: true,\n      ruleName: '',\n      //规则名称\n      jData: {\n        //建仓\n        R1: 0,\n        //买入跌幅\n        R3: 1,\n        //单次买入金额\n        R2: 0,\n        //跌幅回调\n        R54: null,\n        //计价货币\n        R11: false,\n        //允许强制建仓\n        R12: 0,\n        //强制建仓\n        R13: false,\n        //允许\n        R14: 1,\n        //分钟内上涨\n        R15: 0,\n        //追涨建仓\n        R36: 1,\n        //防插针\n        R7: 0,\n        //单次补仓跌幅\n        R10: 0,\n        //补仓回调\n        R9: 0,\n        //单次补仓金额\n        R8: 0,\n        //补仓\n        R19: false,\n        //补仓单独卖出\n        R20: false,\n        //补单可进行补仓\n        R4: 0,\n        //卖出涨幅\n        R5: 0,\n        //涨幅回调\n        R6: 0,\n        //止损跌幅\n        R16: false,\n        //允许分钟内下跌\n        R17: 0,\n        //分钟内下跌\n        R18: 0,\n        //杀跌平仓\n        R26: false,\n        //允许补仓\n        R27: 0,\n        //分钟内下跌\n        R28: 0,\n        //时\n        R29: 0,\n        //补仓比例更改为\n        R30: 0,\n        //分钟后回复数值\n        R21: false,\n        //允许止损\n        R22: 0,\n        R23: 0,\n        R24: 0,\n        R25: 0,\n        R31: false,\n        //允许建仓\n        R32: 0,\n        R33: 0,\n        R34: 0,\n        R35: 0\n      },\n      curcy: 1,\n      //当前的R54(货币)\n      currency: [{\n        id: 1,\n        value: 'USDT'\n      }, {\n        id: 2,\n        value: 'ETH'\n      }, {\n        id: 3,\n        value: 'BTC'\n      }]\n    };\n  },\n  methods: _objectSpread({\n    cancelOther: function cancelOther() {\n      //取消添加单一其他规则\n      this.newOtherObj = {};\n      this.dialog = false;\n    },\n    closeOtherItem: function closeOtherItem(obj) {\n      var _this = this;\n\n      //删掉其他规则\n      this.otherList[obj] = {};\n      this.other.forEach(function (item) {\n        if (item.id == obj) {\n          _this.checkName(item.id, false);\n\n          item.show = true;\n        }\n      });\n    },\n    editOtherItem: function editOtherItem(idx) {\n      //编辑已经存在的其他规则\n      this.newOtherObj = this.otherList[idx];\n      this.dialog = true;\n    },\n    checkName: function checkName(name, state) {\n      //查找id得到不同的其他规则\n      name == 1 && (this.jData.R26 = state);\n      name == 2 && (this.jData.R21 = state);\n      name == 3 && (this.jData.R31 = state);\n    },\n    createOneOther: function createOneOther(obj) {\n      var _this2 = this;\n\n      //编辑其他规则提交后\n      this.dialog = false; // let {name,...params} = obj;可以得到去除了name属性的obj\n\n      this.other.forEach(function (item) {\n        if (item.text == obj.name) {\n          item.show = false;\n          _this2.otherList[item.id] = obj;\n\n          _this2.checkName(item.id, true);\n        }\n      });\n    },\n    addOther: function addOther(id, index) {\n      //我想添加一条其他规则\n      var arr = Object.values(this.otherList[id]);\n\n      var _arr = _slicedToArray(arr, 4),\n          a = _arr[0],\n          b = _arr[1],\n          c = _arr[2],\n          d = _arr[3];\n\n      this.newOtherObj = {\n        name: this.other[index].text,\n        a: a,\n        b: b,\n        c: c,\n        d: d\n      };\n      this.dialog = true;\n    }\n  }, mapActions(['changeLay', 'changeSnack']), {\n    mainValid: function mainValid() {\n      //表单验证\n      var options = {\n        duration: 1000,\n        offset: 0,\n        easing: 'easeInOutCubic'\n      };\n\n      if (this.$refs.valid.validate()) {\n        if (this.$refs.valid2.validate()) {\n          if (this.$refs.valid3.validate()) {\n            this.postRule();\n          } else {\n            this.$vuetify.goTo(this.$refs.valid3, options);\n          }\n        } else {\n          this.$vuetify.goTo(this.$refs.valid2, options);\n        }\n      } else {\n        this.$vuetify.goTo(this.$refs.valid, options);\n      }\n    },\n    transRuleData: function transRuleData() {\n      //要编辑的数据进行转化\n      if (this.edit) {\n        var item = _objectSpread({}, this.ruleObj);\n\n        this.curcy = Number(item.R54);\n        this.ruleName = item.R0 ? this.unescapeF(item.R0) : '';\n        var _ref = [item.R11 == 1 ? true : false, item.R13 == 1 ? true : false, item.R19 == 1 ? true : false, item.R16 == 1 ? true : false, item.R20 == 1 ? true : false, item.R21 == 1 ? true : false, item.R26 == 1 ? true : false, item.R31 == 1 ? true : false],\n            R11 = _ref[0],\n            R13 = _ref[1],\n            R19 = _ref[2],\n            R16 = _ref[3],\n            R20 = _ref[4],\n            R21 = _ref[5],\n            R26 = _ref[6],\n            R31 = _ref[7];\n        this.jData = Object.assign({}, item, {\n          R11: R11,\n          R13: R13,\n          R19: R19,\n          R16: R16,\n          R20: R20,\n          R21: R21,\n          R26: R26,\n          R31: R31\n        });\n\n        if (R21) {\n          this.other[1].show = false;\n          this.otherList[2] = {\n            name: this.other[1].text,\n            a: this.jData.R22,\n            b: this.jData.R23,\n            c: this.jData.R24,\n            d: this.jData.R25\n          };\n        }\n\n        if (R26) {\n          this.other[0].show = false;\n          this.otherList[1] = {\n            name: this.other[0].text,\n            a: this.jData.R27,\n            b: this.jData.R28,\n            c: this.jData.R29,\n            d: this.jData.R30\n          };\n        }\n\n        if (R31) {\n          this.other[2].show = false;\n          this.otherList[3] = {\n            name: this.other[2].text,\n            a: this.jData.R32,\n            b: this.jData.R33,\n            c: this.jData.R34,\n            d: this.jData.R35\n          };\n        }\n      }\n    },\n    beforePostRule: function beforePostRule() {\n      //提交规则前整理数据\n      var title = this.ruleName.replace(/\\s+/g, '');\n      var other1 = this.otherList;\n      var _ref2 = [this.curcy, this.charToUnicode(title), this.jData.R11 ? 1 : 0, this.jData.R13 ? 1 : 0, this.jData.R19 ? 1 : 0, this.jData.R16 ? 1 : 0, this.jData.R20 ? 1 : 0],\n          R54 = _ref2[0],\n          R0 = _ref2[1],\n          R11 = _ref2[2],\n          R13 = _ref2[3],\n          R19 = _ref2[4],\n          R16 = _ref2[5],\n          R20 = _ref2[6];\n      var _ref3 = [this.jData.R21 ? 1 : 0, other1[2].a, other1[2].b, other1[2].c, other1[2].d, this.jData.R26 ? 1 : 0, other1[1].a, other1[1].b, other1[1].c, other1[1].d, this.jData.R31 ? 1 : 0, other1[3].a, other1[3].b, other1[3].c, other1[3].d],\n          R21 = _ref3[0],\n          R22 = _ref3[1],\n          R23 = _ref3[2],\n          R24 = _ref3[3],\n          R25 = _ref3[4],\n          R26 = _ref3[5],\n          R27 = _ref3[6],\n          R28 = _ref3[7],\n          R29 = _ref3[8],\n          R30 = _ref3[9],\n          R31 = _ref3[10],\n          R32 = _ref3[11],\n          R33 = _ref3[12],\n          R34 = _ref3[13],\n          R35 = _ref3[14];\n\n      var list = _objectSpread({}, this.jData, {\n        R54: R54,\n        R0: R0,\n        R11: R11,\n        R13: R13,\n        R19: R19,\n        R16: R16,\n        R20: R20,\n        R21: R21,\n        R22: R22,\n        R23: R23,\n        R24: R24,\n        R25: R25,\n        R26: R26,\n        R27: R27,\n        R28: R28,\n        R29: R29,\n        R30: R30,\n        R31: R31,\n        R32: R32,\n        R33: R33,\n        R34: R34,\n        R35: R35\n      });\n\n      for (var i in list) {\n        //后端要求数字转字符\n        if (typeof list[i] == 'number') {\n          list[i] = list[i].toString();\n        }\n\n        if (typeof list[i] == 'undefined') {\n          //other1里不存在就会undefined 转为0\n          list[i] = '0';\n        }\n      }\n\n      return {\n        list: list,\n        title: title\n      };\n    },\n    wssSave: function wssSave() {\n      var json = JSON.stringify({\n        code: 1006\n      });\n      this.$sock.websocketsend(json);\n    },\n    postRule: function postRule() {\n      //提交规则\n      var before = this.beforePostRule();\n      var obj = {\n        name: before.title,\n        data: Utils.encrypt(JSON.stringify(before.list))\n      };\n      this.edit ? obj.id = before.list.id : '';\n      this.parentName == 'Rule' ? this.ruleAction(obj) : this.demAction(obj);\n    },\n    ruleAction: function ruleAction(obj) {\n      var _this3 = this;\n\n      //父组件是Rule时执行\n      var url = this.edit ? '/EasWebUser/changeRule' : '/EasWebUser/addRule';\n      $ax.getAjaxData(url, obj, function (res) {\n        _this3.changeLay(false);\n\n        if (res.code == 1) {\n          var msg = {\n            state: true,\n            errorText: {\n              type: 'success',\n              text: _this3.edit ? '编辑成功' : '添加成功'\n            }\n          };\n\n          _this3.changeSnack(msg);\n\n          var state = _this3.$sock.lookState();\n\n          state == -1 ? _this3.$sock.initWebSocket() : _this3.wssSave();\n          sessionStorage.removeItem('collocation'); //清空缓存里的rule/api\n\n          Object.assign(_this3.$data, _this3.$options.data());\n\n          _this3.hideRule();\n        }\n      }, {\n        hasToken: true\n      });\n    },\n    demAction: function demAction(obj) {\n      //父组件是Dem时执行\n      var json = JSON.stringify({\n        code: 1008,\n        data: [{\n          id: obj.id,\n          data: obj.data\n        }]\n      });\n      this.$sock.websocketsend(json);\n      Object.assign(this.$data, this.$options.data());\n      this.hideRule();\n    },\n    listenState: function listenState(name) {\n      this.jData.R19 = name;\n      name == true ? '' : this.jData.R20 = false;\n    },\n    selectCurrency: function selectCurrency(e) {\n      //选择计价货币\n      this.jData.R54 = e;\n    },\n    hideRule: function hideRule() {\n      this.$emit('hideRule');\n    },\n    allowJc: function allowJc() {\n      //是否强制建仓\n      this.jData.R11 = !this.jData.R11;\n\n      if (!this.jData.R11) {\n        //没被选中\n        this.jData.R12 = 0;\n      }\n    },\n    allowSup: function allowSup() {\n      this.jData.R13 = !this.jData.R13;\n\n      if (!this.jData.R13) {\n        this.jData.R14 = 0;\n        this.jData.R15 = 0;\n        this.jData.R36 = 0;\n      }\n    },\n    allowPc: function allowPc() {\n      //允许-平仓\n      this.jData.R16 = !this.jData.R16;\n\n      if (!this.jData.R16) {\n        this.jData.R17 = 0;\n        this.jData.R18 = 0;\n      }\n    },\n    unescapeF: function unescapeF(str) {\n      //unicode=>文字\n      return unescape(str.replace(/\\\\/g, \"%\"));\n    },\n    charToUnicode: function charToUnicode(str) {\n      var res = [];\n\n      for (var i = 0; i < str.length; i++) {\n        res[i] = (\"00\" + str.charCodeAt(i).toString(16)).slice(-4);\n      }\n\n      return \"%u\" + res.join(\"%u\");\n    }\n  })\n};",{"version":3,"sources":["C:\\Users\\pxy\\Downloads\\test\\lhds\\src\\mixins\\mobileRule.js"],"names":["mapActions","Utils","addRuleData","props","ruleObj","type","Object","default","edit","Boolean","parentName","String","watch","handler","immediate","data","other","id","text","show","otherList","newOtherObj","dialog","rules","required","v","length","isEmpty","test","size","percent","not","valid","valid2","valid3","ruleName","jData","R1","R3","R2","R54","R11","R12","R13","R14","R15","R36","R7","R10","R9","R8","R19","R20","R4","R5","R6","R16","R17","R18","R26","R27","R28","R29","R30","R21","R22","R23","R24","R25","R31","R32","R33","R34","R35","curcy","currency","value","methods","cancelOther","closeOtherItem","obj","forEach","item","checkName","editOtherItem","idx","name","state","createOneOther","addOther","index","arr","values","a","b","c","d","mainValid","options","duration","offset","easing","$refs","validate","postRule","$vuetify","goTo","transRuleData","Number","R0","unescapeF","assign","beforePostRule","title","replace","other1","charToUnicode","list","i","toString","wssSave","json","JSON","stringify","code","$sock","websocketsend","before","encrypt","ruleAction","demAction","url","$ax","getAjaxData","res","changeLay","msg","errorText","changeSnack","lookState","initWebSocket","sessionStorage","removeItem","$data","$options","hideRule","hasToken","listenState","selectCurrency","e","$emit","allowJc","allowSup","allowPc","str","unescape","charCodeAt","slice","join"],"mappings":"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","sourcesContent":["\timport {\r\n\t\tmapActions\r\n\t} from 'vuex';\r\n\timport Utils from '@/plugins/cryAes.js'\r\n\texport const addRuleData = {\r\n\t\tprops: {\r\n\t\t\truleObj: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => ({})\r\n\t\t\t},\r\n\t\t\tedit: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tparentName: {//父组件的名字\r\n\t\t\t\ttype:String,\r\n\t\t\t\tdefault:'Rule'\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\twatch: {\r\n\t\t\tedit: {\r\n\t\t\t\thandler: 'transRuleData',\r\n\t\t\t\timmediate: true\r\n\t\t\t}\r\n\t\t},\r\n\t\t\t\t\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tother:[\r\n\t\t\t\t\t{id:1,text:'补仓',show:true},\r\n\t\t\t\t\t{id:2,text:'止损',show:true},\r\n\t\t\t\t\t{id:3,text:'建仓',show:true},\r\n\t\t\t\t],\r\n\t\t\t\t\r\n\t\t\t\totherList:{\r\n\t\t\t\t\t\"1\":{},\r\n\t\t\t\t\t\"2\":{},\r\n\t\t\t\t\t\"3\":{}\r\n\t\t\t\t},\r\n\t\t\t\tnewOtherObj:{},\r\n\t\t\t\t\r\n\t\t\t\tdialog:false,\r\n\t\t\t\t\r\n\t\t\t\trules: {\r\n\t\t\t\t\trequired: v => !!v || '必填',\r\n\t\t\t\t\tlength: v => (v && v.length <= 68) || '超出长度',\r\n\t\t\t\t\tisEmpty: v => /\\S/.test(v) || '不可为空',\r\n\t\t\t\t\tsize: v => v > 0 || '必须大于0',\r\n\t\t\t\t\tpercent:v => v <= 100 || '不可超出100',\r\n\t\t\t\t\tnot: v => !/[\\u4E00-\\u9FA5]/g.test(v) || '不能是中文'\r\n\t\t\t\t},\r\n\r\n\t\t\t\tvalid: true,\r\n\t\t\t\t\r\n\t\t\t\tvalid2:true,\r\n\t\t\t\t\r\n\t\t\t\tvalid3:true,\r\n\t\t\t\t\r\n\t\t\t\truleName: '', //规则名称\r\n\t\t\t\tjData: { //建仓\r\n\t\t\t\t\tR1: 0, //买入跌幅\r\n\t\t\t\t\tR3: 1, //单次买入金额\r\n\t\t\t\t\tR2: 0, //跌幅回调\r\n\t\t\t\t\tR54: null, //计价货币\r\n\t\t\t\t\tR11: false, //允许强制建仓\r\n\t\t\t\t\tR12: 0, //强制建仓\r\n\t\t\t\t\tR13: false, //允许\r\n\t\t\t\t\tR14: 1, //分钟内上涨\r\n\t\t\t\t\tR15: 0, //追涨建仓\r\n\t\t\t\t\tR36: 1, //防插针\r\n\t\t\t\t\r\n\t\t\t\t\tR7: 0, //单次补仓跌幅\r\n\t\t\t\t\tR10: 0, //补仓回调\r\n\t\t\t\t\tR9: 0, //单次补仓金额\r\n\t\t\t\t\tR8: 0, //补仓\r\n\t\t\t\t\tR19: false, //补仓单独卖出\r\n\t\t\t\t\tR20: false, //补单可进行补仓\r\n\t\t\t\t\r\n\t\t\t\t\tR4: 0, //卖出涨幅\r\n\t\t\t\t\tR5: 0, //涨幅回调\r\n\t\t\t\t\tR6: 0, //止损跌幅\r\n\t\t\t\t\tR16: false, //允许分钟内下跌\r\n\t\t\t\t\tR17: 0, //分钟内下跌\r\n\t\t\t\t\tR18: 0, //杀跌平仓\r\n\t\t\t\t\r\n\t\t\t\t\tR26: false, //允许补仓\r\n\t\t\t\t\tR27: 0, //分钟内下跌\r\n\t\t\t\t\tR28: 0, //时\r\n\t\t\t\t\tR29: 0, //补仓比例更改为\r\n\t\t\t\t\tR30: 0, //分钟后回复数值\r\n\t\t\t\t\tR21: false, //允许止损\r\n\t\t\t\t\tR22: 0,\r\n\t\t\t\t\tR23: 0,\r\n\t\t\t\t\tR24: 0,\r\n\t\t\t\t\tR25: 0,\r\n\t\t\t\t\tR31: false, //允许建仓\r\n\t\t\t\t\tR32: 0,\r\n\t\t\t\t\tR33: 0,\r\n\t\t\t\t\tR34: 0,\r\n\t\t\t\t\tR35: 0\r\n\t\t\t\t},\r\n\r\n\t\t\t\tcurcy: 1, //当前的R54(货币)\r\n\t\t\t\t\r\n\t\t\t\tcurrency: [{\r\n\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\tvalue: 'USDT'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 2,\r\n\t\t\t\t\t\tvalue: 'ETH'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 3,\r\n\t\t\t\t\t\tvalue: 'BTC'\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcancelOther(){//取消添加单一其他规则\r\n\t\t\t\tthis.newOtherObj = {};\r\n\t\t\t\tthis.dialog = false;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tcloseOtherItem(obj){//删掉其他规则\r\n\t\t\t\tthis.otherList[obj] = {};\r\n\t\t\t\t\r\n\t\t\t\tthis.other.forEach(item =>{\r\n\t\t\t\t\tif(item.id==obj){\r\n\t\t\t\t\t\tthis.checkName(item.id,false);\r\n\t\t\t\t\t\titem.show = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\teditOtherItem(idx){//编辑已经存在的其他规则\r\n\t\t\t\tthis.newOtherObj = this.otherList[idx];\r\n\t\t\t\tthis.dialog = true;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tcheckName(name,state){//查找id得到不同的其他规则\r\n\t\t\t\tname==1&&(this.jData.R26=state);\r\n\t\t\t\tname==2&&(this.jData.R21=state);\r\n\t\t\t\tname==3&&(this.jData.R31=state);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tcreateOneOther(obj){//编辑其他规则提交后\r\n\t\t\t\tthis.dialog = false;\r\n\t\t\t\t// let {name,...params} = obj;可以得到去除了name属性的obj\r\n\t\t\t\r\n\t\t\t\tthis.other.forEach(item =>{\r\n\t\t\t\t\tif(item.text==obj.name){\r\n\t\t\t\t\t\titem.show = false;\r\n\t\t\t\t\t\tthis.otherList[item.id] = obj;\r\n\t\t\t\t\t\tthis.checkName(item.id,true);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\taddOther(id,index){//我想添加一条其他规则\r\n\t\t\t\t\r\n\t\t\t\tlet arr = Object.values(this.otherList[id]);\r\n\t\t\t\t\r\n\t\t\t\tlet [a,b,c,d] = arr;\r\n\t\t\t\r\n\t\t\t\tthis.newOtherObj = {name:this.other[index].text,a,b,c,d};\r\n\t\t\t\r\n\t\t\t\tthis.dialog = true;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t...mapActions(['changeLay', 'changeSnack']),\r\n\t\t\t\r\n\t\t\tmainValid(){//表单验证\r\n\t\t\t\tlet options = {\r\n\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\toffset: 0,\r\n\t\t\t\t\teasing: 'easeInOutCubic'\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tif (this.$refs.valid.validate()) {\r\n\t\t\t\t\tif(this.$refs.valid2.validate()){\r\n\t\t\t\t\t\tif(this.$refs.valid3.validate()){\r\n\t\t\t\t\t\t\tthis.postRule();\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.$vuetify.goTo(this.$refs.valid3, options)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$vuetify.goTo(this.$refs.valid2, options)\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$vuetify.goTo(this.$refs.valid, options)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\ttransRuleData(){//要编辑的数据进行转化\r\n\t\t\t\tif (this.edit) {\r\n\t\t\t\t\tlet item = {...this.ruleObj};\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.curcy = Number(item.R54);\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.ruleName = item.R0 ? this.unescapeF(item.R0) : '';\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet [R11,R13,R19,R16,R20,R21,R26,R31] = [\r\n\t\t\t\t\t\titem.R11 == 1 ? true : false,\r\n\t\t\t\t\t\titem.R13 == 1 ? true : false,\r\n\t\t\t\t\t\titem.R19 == 1 ? true : false,\r\n\t\t\t\t\t\titem.R16 == 1 ? true : false,\r\n\t\t\t\t\t\titem.R20 == 1 ? true : false,\r\n\t\t\t\t\t\titem.R21 == 1 ? true : false,\r\n\t\t\t\t\t\titem.R26 == 1 ? true : false,\r\n\t\t\t\t\t\titem.R31 == 1 ? true : false\r\n\t\t\t\t\t];\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.jData = Object.assign({}, item, {R11,R13,R19,R16,R20,R21,R26,R31});\r\n\t\t\t\r\n\t\t\t\t\tif(R21){\r\n\t\t\t\t\t\tthis.other[1].show = false;\r\n\t\t\t\t\t\tthis.otherList[2] = {\r\n\t\t\t\t\t\t\tname:this.other[1].text,\r\n\t\t\t\t\t\t\ta:this.jData.R22,\r\n\t\t\t\t\t\t\tb:this.jData.R23,\r\n\t\t\t\t\t\t\tc:this.jData.R24,\r\n\t\t\t\t\t\t\td:this.jData.R25\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(R26){\r\n\t\t\t\t\t\tthis.other[0].show = false;\r\n\t\t\t\t\t\tthis.otherList[1] = {\r\n\t\t\t\t\t\t\tname:this.other[0].text,\r\n\t\t\t\t\t\t\ta:this.jData.R27,\r\n\t\t\t\t\t\t\tb:this.jData.R28,\r\n\t\t\t\t\t\t\tc:this.jData.R29,\r\n\t\t\t\t\t\t\td:this.jData.R30\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(R31){\r\n\t\t\t\t\t\tthis.other[2].show = false;\r\n\t\t\t\t\t\tthis.otherList[3] = {\r\n\t\t\t\t\t\t\tname:this.other[2].text,\r\n\t\t\t\t\t\t\ta:this.jData.R32,\r\n\t\t\t\t\t\t\tb:this.jData.R33,\r\n\t\t\t\t\t\t\tc:this.jData.R34,\r\n\t\t\t\t\t\t\td:this.jData.R35\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tbeforePostRule(){//提交规则前整理数据\r\n\t\t\t\tlet title = this.ruleName.replace(/\\s+/g,'');\r\n\t\t\t\t\r\n\t\t\t\tlet other1 = this.otherList;\r\n\t\t\t\t\r\n\t\t\t\tlet [R54,R0,R11,R13,R19,R16,R20] = [\r\n\t\t\t\t\tthis.curcy,\r\n\t\t\t\t\tthis.charToUnicode(title),\r\n\t\t\t\t\tthis.jData.R11 ? 1 : 0,\r\n\t\t\t\t\tthis.jData.R13 ? 1 : 0,\r\n\t\t\t\t\tthis.jData.R19 ? 1 : 0,\r\n\t\t\t\t\tthis.jData.R16 ? 1 : 0,\r\n\t\t\t\t\tthis.jData.R20 ? 1 : 0\r\n\t\t\t\t];\r\n\t\t\t\tlet [R21,R22,R23,R24,R25,R26,R27,R28,R29,R30,R31,R32,R33,R34,R35] = [\r\n\t\t\t\t\tthis.jData.R21? 1 : 0,\r\n\t\t\t\t\tother1[2].a,\r\n\t\t\t\t\tother1[2].b,\r\n\t\t\t\t\tother1[2].c,\r\n\t\t\t\t\tother1[2].d,\r\n\t\t\t\t\tthis.jData.R26? 1 : 0,\r\n\t\t\t\t\tother1[1].a,\r\n\t\t\t\t\tother1[1].b,\r\n\t\t\t\t\tother1[1].c,\r\n\t\t\t\t\tother1[1].d,\r\n\t\t\t\t\tthis.jData.R31? 1 : 0,\r\n\t\t\t\t\tother1[3].a,\r\n\t\t\t\t\tother1[3].b,\r\n\t\t\t\t\tother1[3].c,\r\n\t\t\t\t\tother1[3].d,\r\n\t\t\t\t];\r\n\t\t\t\tlet list = {\r\n\t\t\t\t\t...this.jData,\r\n\t\t\t\t\tR54,R0,R11,R13,R19,R16,R20,R21,\r\n\t\t\t\t\tR22,R23,R24,R25,R26,R27,\r\n\t\t\t\t\tR28,R29,R30,R31,R32,R33,R34,R35\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\tfor (let i in list) { //后端要求数字转字符\r\n\t\t\t\t\tif (typeof(list[i]) == 'number') {\r\n\t\t\t\t\t\tlist[i] = list[i].toString();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(typeof(list[i]) == 'undefined'){ //other1里不存在就会undefined 转为0\r\n\t\t\t\t\t\tlist[i] = '0';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\treturn {list,title};\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\twssSave() {\r\n\t\t\t\tlet json = JSON.stringify({\r\n\t\t\t\t\tcode: 1006\r\n\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\tthis.$sock.websocketsend(json);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tpostRule() { //提交规则\r\n\t\t\t\t\r\n\t\t\t\tlet before = this.beforePostRule();\r\n\t\t\t\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tname: before.title,\r\n\t\t\t\t\tdata: Utils.encrypt(JSON.stringify(before.list))\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tthis.edit ? obj.id = before.list.id : '';\r\n\t\t\t\t\r\n\t\t\t\tthis.parentName == 'Rule'?this.ruleAction(obj):this.demAction(obj);\r\n\t\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\truleAction(obj){//父组件是Rule时执行\r\n\t\t\t\tlet url = this.edit ? '/EasWebUser/changeRule' : '/EasWebUser/addRule';\r\n\t\t\t\t\t\r\n\t\t\t\t$ax.getAjaxData(url, obj, (res) => {\r\n\t\t\t\t\tthis.changeLay(false);\r\n\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\tlet msg = {\r\n\t\t\t\t\t\t\tstate: true,\r\n\t\t\t\t\t\t\terrorText: {\r\n\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\ttext: this.edit ? '编辑成功' : '添加成功'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.changeSnack(msg);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tlet state = this.$sock.lookState();\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tstate == -1 ? this.$sock.initWebSocket() : this.wssSave();\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tsessionStorage.removeItem('collocation'); //清空缓存里的rule/api\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tObject.assign(this.$data, this.$options.data());\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tthis.hideRule();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, {\r\n\t\t\t\t\thasToken: true\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tdemAction(obj){//父组件是Dem时执行\r\n\t\t\t\tlet json = JSON.stringify({\r\n\t\t\t\t\tcode: 1008,\r\n\t\t\t\t\tdata:[{\r\n\t\t\t\t\t\tid:obj.id,\r\n\t\t\t\t\t\tdata:obj.data\r\n\t\t\t\t\t}]\r\n\t\t\t\t});\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.$sock.websocketsend(json);\r\n\t\t\t\t\r\n\t\t\t\tObject.assign(this.$data, this.$options.data());\r\n\t\t\t\t\r\n\t\t\t\tthis.hideRule();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tlistenState(name) {\r\n\t\t\t\tthis.jData.R19 = name;\r\n\t\t\t\tname == true ? '' : this.jData.R20 = false;\r\n\t\t\t},\r\n\r\n\t\t\r\n\t\t\tselectCurrency(e) { //选择计价货币\r\n\t\t\t\tthis.jData.R54 = e;\r\n\t\t\t},\r\n\r\n\t\t\thideRule() {\r\n\t\t\t\tthis.$emit('hideRule');\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tallowJc() { //是否强制建仓\r\n\t\t\r\n\t\t\t\tthis.jData.R11 = !this.jData.R11;\r\n\t\t\t\tif (!this.jData.R11) { //没被选中\r\n\t\t\t\t\tthis.jData.R12 = 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\r\n\t\t\tallowSup() {\r\n\t\t\t\tthis.jData.R13 = !this.jData.R13;\r\n\t\t\t\tif (!this.jData.R13) {\r\n\t\t\t\t\tthis.jData.R14 = 0;\r\n\t\t\t\t\tthis.jData.R15 = 0;\r\n\t\t\t\t\tthis.jData.R36 = 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\r\n\t\t\tallowPc() { //允许-平仓\r\n\t\t\t\tthis.jData.R16 = !this.jData.R16;\r\n\t\t\t\tif (!this.jData.R16) {\r\n\t\t\t\t\tthis.jData.R17 = 0;\r\n\t\t\t\t\tthis.jData.R18 = 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\r\n\t\t\tunescapeF(str) { //unicode=>文字\r\n\t\t\t\treturn unescape(str.replace(/\\\\/g, \"%\"))\r\n\t\t\t},\r\n\t\t\r\n\t\t\r\n\t\t\tcharToUnicode(str) {\r\n\t\t\t\tlet res = [];\r\n\t\t\t\tfor (let i = 0; i < str.length; i++) {\r\n\t\t\t\t\tres[i] = (\"00\" + str.charCodeAt(i).toString(16)).slice(-4);\r\n\t\t\t\t}\r\n\t\t\t\treturn \"%u\" + res.join(\"%u\");\r\n\t\t\t},\r\n\t\t\r\n\t\t}\r\n\r\n\t}"]}]}