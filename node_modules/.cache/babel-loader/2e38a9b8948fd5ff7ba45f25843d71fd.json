{"remainingRequest":"F:\\work\\lhds\\node_modules\\babel-loader\\lib\\index.js!F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\work\\lhds\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\work\\lhds\\src\\components\\common\\mDemForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\work\\lhds\\src\\components\\common\\mDemForm.vue","mtime":1574328212086},{"path":"F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\work\\lhds\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport _slicedToArray from \"F:\\\\work\\\\lhds\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/slicedToArray\";\nimport \"core-js/modules/es7.object.values\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.number.constructor\";\nimport _defineProperty from \"F:\\\\work\\\\lhds\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapActions } from 'vuex';\nimport Utils from '@/plugins/cryAes.js';\nimport { addRuleData } from '@/mixins/mobileRule.js';\nexport default {\n  data: function data() {\n    return {\n      other: [{\n        id: 1,\n        text: '补仓',\n        show: true\n      }, {\n        id: 2,\n        text: '止损',\n        show: true\n      }, {\n        id: 3,\n        text: '建仓',\n        show: true\n      }],\n      otherList: {\n        \"1\": {},\n        \"2\": {},\n        \"3\": {}\n      },\n      newOtherObj: {},\n      dialog: false\n    };\n  },\n  mixins: [addRuleData],\n  props: {\n    ruleObj: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    edit: {\n      type: Boolean,\n      default: false\n    }\n  },\n  watch: {\n    edit: {\n      handler: 'transRuleData',\n      immediate: true\n    }\n  },\n  methods: _objectSpread({\n    transRuleData: function transRuleData() {\n      //要编辑的数据进行转化\n      if (this.edit) {\n        var item = _objectSpread({}, this.ruleObj);\n\n        this.curcy = Number(item.R54);\n        this.ruleName = item.R0 ? this.unescapeF(item.R0) : '';\n        var _ref = [item.R11 == 1 ? true : false, item.R13 == 1 ? true : false, item.R19 == 1 ? true : false, item.R16 == 1 ? true : false, item.R20 == 1 ? true : false, item.R21 == 1 ? true : false, item.R26 == 1 ? true : false, item.R31 == 1 ? true : false],\n            R11 = _ref[0],\n            R13 = _ref[1],\n            R19 = _ref[2],\n            R16 = _ref[3],\n            R20 = _ref[4],\n            R21 = _ref[5],\n            R26 = _ref[6],\n            R31 = _ref[7];\n        this.jData = Object.assign({}, item, {\n          R11: R11,\n          R13: R13,\n          R19: R19,\n          R16: R16,\n          R20: R20,\n          R21: R21,\n          R26: R26,\n          R31: R31\n        });\n\n        if (R21) {\n          this.other[1].show = false;\n          this.otherList[2] = {\n            name: this.other[1].text,\n            a: this.jData.R22,\n            b: this.jData.R23,\n            c: this.jData.R24,\n            d: this.jData.R25\n          };\n        }\n\n        if (R26) {\n          this.other[0].show = false;\n          this.otherList[1] = {\n            name: this.other[0].text,\n            a: this.jData.R27,\n            b: this.jData.R28,\n            c: this.jData.R29,\n            d: this.jData.R30\n          };\n        }\n\n        if (R31) {\n          this.other[2].show = false;\n          this.otherList[3] = {\n            name: this.other[2].text,\n            a: this.jData.R32,\n            b: this.jData.R33,\n            c: this.jData.R34,\n            d: this.jData.R35\n          };\n        }\n      }\n    },\n    cancelOther: function cancelOther() {\n      this.newOtherObj = {};\n      this.dialog = false;\n    },\n    closeOtherItem: function closeOtherItem(obj) {\n      var _this = this;\n\n      //删掉其他规则\n      this.otherList[obj] = {};\n      this.other.forEach(function (item) {\n        if (item.id == obj) {\n          _this.checkName(item.id, false);\n\n          item.show = true;\n        }\n      });\n    },\n    editOtherItem: function editOtherItem(idx) {\n      //编辑已经存在的其他规则\n      this.newOtherObj = this.otherList[idx];\n      this.dialog = true;\n    },\n    checkName: function checkName(name, state) {\n      //查找id得到不同的其他规则\n      name == 1 && (this.jData.R26 = state);\n      name == 2 && (this.jData.R21 = state);\n      name == 3 && (this.jData.R31 = state);\n    },\n    createOneOther: function createOneOther(obj) {\n      var _this2 = this;\n\n      //编辑其他规则提交后\n      this.dialog = false; // let {name,...params} = obj;可以得到去除了name属性的obj\n\n      this.other.forEach(function (item) {\n        if (item.text == obj.name) {\n          item.show = false;\n          _this2.otherList[item.id] = obj;\n\n          _this2.checkName(item.id, true);\n        }\n      });\n    },\n    addOther: function addOther(id, index) {\n      var arr = Object.values(this.otherList[id]);\n\n      var _arr = _slicedToArray(arr, 4),\n          a = _arr[0],\n          b = _arr[1],\n          c = _arr[2],\n          d = _arr[3];\n\n      this.newOtherObj = {\n        name: this.other[index].text,\n        a: a,\n        b: b,\n        c: c,\n        d: d\n      };\n      this.dialog = true;\n    }\n  }, mapActions(['changeLay', 'changeSnack']), {\n    mainValid: function mainValid() {\n      //表单验证\n      var options = {\n        duration: 1000,\n        offset: 0,\n        easing: 'easeInOutCubic'\n      };\n\n      if (this.$refs.valid.validate()) {\n        if (this.$refs.valid2.validate()) {\n          if (this.$refs.valid3.validate()) {\n            this.postRule();\n          } else {\n            this.$vuetify.goTo(this.$refs.valid3, options);\n          }\n        } else {\n          this.$vuetify.goTo(this.$refs.valid2, options);\n        }\n      } else {\n        this.$vuetify.goTo(this.$refs.valid, options);\n      }\n    },\n    postRule: function postRule() {\n      //提交规则\n      var title = this.ruleName.replace(/\\s+/g, '');\n      var other1 = this.otherList;\n      var _ref2 = [this.curcy, this.charToUnicode(title), this.jData.R11 ? 1 : 0, this.jData.R13 ? 1 : 0, this.jData.R19 ? 1 : 0, this.jData.R16 ? 1 : 0, this.jData.R20 ? 1 : 0],\n          R54 = _ref2[0],\n          R0 = _ref2[1],\n          R11 = _ref2[2],\n          R13 = _ref2[3],\n          R19 = _ref2[4],\n          R16 = _ref2[5],\n          R20 = _ref2[6];\n      var _ref3 = [this.jData.R21 ? 1 : 0, other1[2].a, other1[2].b, other1[2].c, other1[2].d, this.jData.R26 ? 1 : 0, other1[1].a, other1[1].b, other1[1].c, other1[1].d, this.jData.R31 ? 1 : 0, other1[3].a, other1[3].b, other1[3].c, other1[3].d],\n          R21 = _ref3[0],\n          R22 = _ref3[1],\n          R23 = _ref3[2],\n          R24 = _ref3[3],\n          R25 = _ref3[4],\n          R26 = _ref3[5],\n          R27 = _ref3[6],\n          R28 = _ref3[7],\n          R29 = _ref3[8],\n          R30 = _ref3[9],\n          R31 = _ref3[10],\n          R32 = _ref3[11],\n          R33 = _ref3[12],\n          R34 = _ref3[13],\n          R35 = _ref3[14];\n\n      var list = _objectSpread({}, this.jData, {\n        R54: R54,\n        R0: R0,\n        R11: R11,\n        R13: R13,\n        R19: R19,\n        R16: R16,\n        R20: R20,\n        R21: R21,\n        R22: R22,\n        R23: R23,\n        R24: R24,\n        R25: R25,\n        R26: R26,\n        R27: R27,\n        R28: R28,\n        R29: R29,\n        R30: R30,\n        R31: R31,\n        R32: R32,\n        R33: R33,\n        R34: R34,\n        R35: R35\n      });\n\n      console.log(list);\n\n      for (var i in list) {\n        //后端要求数字转字符\n        if (typeof list[i] == 'number') {\n          list[i] = list[i].toString();\n        }\n\n        if (typeof list[i] == 'undefined') {\n          //other1里不存在就会undefined 转为0\n          list[i] = '0';\n        }\n      }\n\n      var obj = {\n        name: title,\n        data: Utils.encrypt(JSON.stringify(list))\n      };\n      this.edit ? obj.id = list.id : '';\n      var json = JSON.stringify({\n        code: 1008,\n        data: [{\n          id: obj.id,\n          data: obj.data\n        }]\n      });\n      this.$sock.websocketsend(json);\n      Object.assign(this.$data, this.$options.data());\n      this.hideRule();\n    }\n  })\n};",{"version":3,"sources":["mDemForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkRA,SACA,UADA,QAEA,MAFA;AAGA,OAAA,KAAA,MAAA,qBAAA;AACA,SAAA,WAAA,QAAA,wBAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,CACA;AAAA,QAAA,EAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA,IAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,EAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA,IAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAFA,EAGA;AAAA,QAAA,EAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA,IAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAHA,CADA;AAOA,MAAA,SAAA,EAAA;AACA,aAAA,EADA;AAEA,aAAA,EAFA;AAGA,aAAA;AAHA,OAPA;AAYA,MAAA,WAAA,EAAA,EAZA;AAcA,MAAA,MAAA,EAAA;AAdA,KAAA;AAgBA,GAlBA;AAmBA,EAAA,MAAA,EAAA,CAAA,WAAA,CAnBA;AAqBA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAFA,KADA;AAKA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA;AALA,GArBA;AAgCA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,OAAA,EAAA,eADA;AAEA,MAAA,SAAA,EAAA;AAFA;AADA,GAhCA;AAyCA,EAAA,OAAA;AACA,IAAA,aADA,2BACA;AAAA;AACA,UAAA,KAAA,IAAA,EAAA;AACA,YAAA,IAAA,qBAAA,KAAA,OAAA,CAAA;;AAEA,aAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AAEA,aAAA,QAAA,GAAA,IAAA,CAAA,EAAA,GAAA,KAAA,SAAA,CAAA,IAAA,CAAA,EAAA,CAAA,GAAA,EAAA;AALA,mBAOA,CACA,IAAA,CAAA,GAAA,IAAA,CAAA,GAAA,IAAA,GAAA,KADA,EAEA,IAAA,CAAA,GAAA,IAAA,CAAA,GAAA,IAAA,GAAA,KAFA,EAGA,IAAA,CAAA,GAAA,IAAA,CAAA,GAAA,IAAA,GAAA,KAHA,EAIA,IAAA,CAAA,GAAA,IAAA,CAAA,GAAA,IAAA,GAAA,KAJA,EAKA,IAAA,CAAA,GAAA,IAAA,CAAA,GAAA,IAAA,GAAA,KALA,EAMA,IAAA,CAAA,GAAA,IAAA,CAAA,GAAA,IAAA,GAAA,KANA,EAOA,IAAA,CAAA,GAAA,IAAA,CAAA,GAAA,IAAA,GAAA,KAPA,EAQA,IAAA,CAAA,GAAA,IAAA,CAAA,GAAA,IAAA,GAAA,KARA,CAPA;AAAA,YAOA,GAPA;AAAA,YAOA,GAPA;AAAA,YAOA,GAPA;AAAA,YAOA,GAPA;AAAA,YAOA,GAPA;AAAA,YAOA,GAPA;AAAA,YAOA,GAPA;AAAA,YAOA,GAPA;AAmBA,aAAA,KAAA,GAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAA,IAAA,EAAA;AAAA,UAAA,GAAA,EAAA,GAAA;AAAA,UAAA,GAAA,EAAA,GAAA;AAAA,UAAA,GAAA,EAAA,GAAA;AAAA,UAAA,GAAA,EAAA,GAAA;AAAA,UAAA,GAAA,EAAA,GAAA;AAAA,UAAA,GAAA,EAAA,GAAA;AAAA,UAAA,GAAA,EAAA,GAAA;AAAA,UAAA,GAAA,EAAA;AAAA,SAAA,CAAA;;AAEA,YAAA,GAAA,EAAA;AACA,eAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,KAAA;AACA,eAAA,SAAA,CAAA,CAAA,IAAA;AACA,YAAA,IAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,IADA;AAEA,YAAA,CAAA,EAAA,KAAA,KAAA,CAAA,GAFA;AAGA,YAAA,CAAA,EAAA,KAAA,KAAA,CAAA,GAHA;AAIA,YAAA,CAAA,EAAA,KAAA,KAAA,CAAA,GAJA;AAKA,YAAA,CAAA,EAAA,KAAA,KAAA,CAAA;AALA,WAAA;AAOA;;AACA,YAAA,GAAA,EAAA;AACA,eAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,KAAA;AACA,eAAA,SAAA,CAAA,CAAA,IAAA;AACA,YAAA,IAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,IADA;AAEA,YAAA,CAAA,EAAA,KAAA,KAAA,CAAA,GAFA;AAGA,YAAA,CAAA,EAAA,KAAA,KAAA,CAAA,GAHA;AAIA,YAAA,CAAA,EAAA,KAAA,KAAA,CAAA,GAJA;AAKA,YAAA,CAAA,EAAA,KAAA,KAAA,CAAA;AALA,WAAA;AAOA;;AACA,YAAA,GAAA,EAAA;AACA,eAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,KAAA;AACA,eAAA,SAAA,CAAA,CAAA,IAAA;AACA,YAAA,IAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,IADA;AAEA,YAAA,CAAA,EAAA,KAAA,KAAA,CAAA,GAFA;AAGA,YAAA,CAAA,EAAA,KAAA,KAAA,CAAA,GAHA;AAIA,YAAA,CAAA,EAAA,KAAA,KAAA,CAAA,GAJA;AAKA,YAAA,CAAA,EAAA,KAAA,KAAA,CAAA;AALA,WAAA;AAOA;AAGA;AAEA,KAzDA;AA2DA,IAAA,WA3DA,yBA2DA;AACA,WAAA,WAAA,GAAA,EAAA;AACA,WAAA,MAAA,GAAA,KAAA;AACA,KA9DA;AAgEA,IAAA,cAhEA,0BAgEA,GAhEA,EAgEA;AAAA;;AAAA;AACA,WAAA,SAAA,CAAA,GAAA,IAAA,EAAA;AAEA,WAAA,KAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,EAAA,IAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,SAAA,CAAA,IAAA,CAAA,EAAA,EAAA,KAAA;;AACA,UAAA,IAAA,CAAA,IAAA,GAAA,IAAA;AACA;AACA,OALA;AAOA,KA1EA;AA4EA,IAAA,aA5EA,yBA4EA,GA5EA,EA4EA;AAAA;AACA,WAAA,WAAA,GAAA,KAAA,SAAA,CAAA,GAAA,CAAA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,KA/EA;AAiFA,IAAA,SAjFA,qBAiFA,IAjFA,EAiFA,KAjFA,EAiFA;AAAA;AACA,MAAA,IAAA,IAAA,CAAA,KAAA,KAAA,KAAA,CAAA,GAAA,GAAA,KAAA;AACA,MAAA,IAAA,IAAA,CAAA,KAAA,KAAA,KAAA,CAAA,GAAA,GAAA,KAAA;AACA,MAAA,IAAA,IAAA,CAAA,KAAA,KAAA,KAAA,CAAA,GAAA,GAAA,KAAA;AACA,KArFA;AAuFA,IAAA,cAvFA,0BAuFA,GAvFA,EAuFA;AAAA;;AAAA;AACA,WAAA,MAAA,GAAA,KAAA,CADA,CAEA;;AAGA,WAAA,KAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,IAAA,IAAA,GAAA,CAAA,IAAA,EAAA;AACA,UAAA,IAAA,CAAA,IAAA,GAAA,KAAA;AACA,UAAA,MAAA,CAAA,SAAA,CAAA,IAAA,CAAA,EAAA,IAAA,GAAA;;AACA,UAAA,MAAA,CAAA,SAAA,CAAA,IAAA,CAAA,EAAA,EAAA,IAAA;AACA;AACA,OANA;AASA,KArGA;AAuGA,IAAA,QAvGA,oBAuGA,EAvGA,EAuGA,KAvGA,EAuGA;AAEA,UAAA,GAAA,GAAA,MAAA,CAAA,MAAA,CAAA,KAAA,SAAA,CAAA,EAAA,CAAA,CAAA;;AAFA,gCAIA,GAJA;AAAA,UAIA,CAJA;AAAA,UAIA,CAJA;AAAA,UAIA,CAJA;AAAA,UAIA,CAJA;;AAMA,WAAA,WAAA,GAAA;AAAA,QAAA,IAAA,EAAA,KAAA,KAAA,CAAA,KAAA,EAAA,IAAA;AAAA,QAAA,CAAA,EAAA,CAAA;AAAA,QAAA,CAAA,EAAA,CAAA;AAAA,QAAA,CAAA,EAAA,CAAA;AAAA,QAAA,CAAA,EAAA;AAAA,OAAA;AAEA,WAAA,MAAA,GAAA,IAAA;AACA;AAhHA,KAkHA,UAAA,CAAA,CAAA,WAAA,EAAA,aAAA,CAAA,CAlHA;AAoHA,IAAA,SApHA,uBAoHA;AAAA;AACA,UAAA,OAAA,GAAA;AACA,QAAA,QAAA,EAAA,IADA;AAEA,QAAA,MAAA,EAAA,CAFA;AAGA,QAAA,MAAA,EAAA;AAHA,OAAA;;AAMA,UAAA,KAAA,KAAA,CAAA,KAAA,CAAA,QAAA,EAAA,EAAA;AACA,YAAA,KAAA,KAAA,CAAA,MAAA,CAAA,QAAA,EAAA,EAAA;AACA,cAAA,KAAA,KAAA,CAAA,MAAA,CAAA,QAAA,EAAA,EAAA;AACA,iBAAA,QAAA;AACA,WAFA,MAEA;AACA,iBAAA,QAAA,CAAA,IAAA,CAAA,KAAA,KAAA,CAAA,MAAA,EAAA,OAAA;AACA;AACA,SANA,MAMA;AACA,eAAA,QAAA,CAAA,IAAA,CAAA,KAAA,KAAA,CAAA,MAAA,EAAA,OAAA;AACA;AACA,OAVA,MAUA;AACA,aAAA,QAAA,CAAA,IAAA,CAAA,KAAA,KAAA,CAAA,KAAA,EAAA,OAAA;AACA;AACA,KAxIA;AA2IA,IAAA,QA3IA,sBA2IA;AAAA;AACA,UAAA,KAAA,GAAA,KAAA,QAAA,CAAA,OAAA,CAAA,MAAA,EAAA,EAAA,CAAA;AAEA,UAAA,MAAA,GAAA,KAAA,SAAA;AAHA,kBAKA,CACA,KAAA,KADA,EAEA,KAAA,aAAA,CAAA,KAAA,CAFA,EAGA,KAAA,KAAA,CAAA,GAAA,GAAA,CAAA,GAAA,CAHA,EAIA,KAAA,KAAA,CAAA,GAAA,GAAA,CAAA,GAAA,CAJA,EAKA,KAAA,KAAA,CAAA,GAAA,GAAA,CAAA,GAAA,CALA,EAMA,KAAA,KAAA,CAAA,GAAA,GAAA,CAAA,GAAA,CANA,EAOA,KAAA,KAAA,CAAA,GAAA,GAAA,CAAA,GAAA,CAPA,CALA;AAAA,UAKA,GALA;AAAA,UAKA,EALA;AAAA,UAKA,GALA;AAAA,UAKA,GALA;AAAA,UAKA,GALA;AAAA,UAKA,GALA;AAAA,UAKA,GALA;AAAA,kBAcA,CACA,KAAA,KAAA,CAAA,GAAA,GAAA,CAAA,GAAA,CADA,EAEA,MAAA,CAAA,CAAA,CAAA,CAAA,CAFA,EAGA,MAAA,CAAA,CAAA,CAAA,CAAA,CAHA,EAIA,MAAA,CAAA,CAAA,CAAA,CAAA,CAJA,EAKA,MAAA,CAAA,CAAA,CAAA,CAAA,CALA,EAMA,KAAA,KAAA,CAAA,GAAA,GAAA,CAAA,GAAA,CANA,EAOA,MAAA,CAAA,CAAA,CAAA,CAAA,CAPA,EAQA,MAAA,CAAA,CAAA,CAAA,CAAA,CARA,EASA,MAAA,CAAA,CAAA,CAAA,CAAA,CATA,EAUA,MAAA,CAAA,CAAA,CAAA,CAAA,CAVA,EAWA,KAAA,KAAA,CAAA,GAAA,GAAA,CAAA,GAAA,CAXA,EAYA,MAAA,CAAA,CAAA,CAAA,CAAA,CAZA,EAaA,MAAA,CAAA,CAAA,CAAA,CAAA,CAbA,EAcA,MAAA,CAAA,CAAA,CAAA,CAAA,CAdA,EAeA,MAAA,CAAA,CAAA,CAAA,CAAA,CAfA,CAdA;AAAA,UAcA,GAdA;AAAA,UAcA,GAdA;AAAA,UAcA,GAdA;AAAA,UAcA,GAdA;AAAA,UAcA,GAdA;AAAA,UAcA,GAdA;AAAA,UAcA,GAdA;AAAA,UAcA,GAdA;AAAA,UAcA,GAdA;AAAA,UAcA,GAdA;AAAA,UAcA,GAdA;AAAA,UAcA,GAdA;AAAA,UAcA,GAdA;AAAA,UAcA,GAdA;AAAA,UAcA,GAdA;;AA+BA,UAAA,IAAA,qBACA,KAAA,KADA;AAEA,QAAA,GAAA,EAAA,GAFA;AAEA,QAAA,EAAA,EAAA,EAFA;AAEA,QAAA,GAAA,EAAA,GAFA;AAEA,QAAA,GAAA,EAAA,GAFA;AAEA,QAAA,GAAA,EAAA,GAFA;AAEA,QAAA,GAAA,EAAA,GAFA;AAEA,QAAA,GAAA,EAAA,GAFA;AAEA,QAAA,GAAA,EAAA,GAFA;AAGA,QAAA,GAAA,EAAA,GAHA;AAGA,QAAA,GAAA,EAAA,GAHA;AAGA,QAAA,GAAA,EAAA,GAHA;AAGA,QAAA,GAAA,EAAA,GAHA;AAGA,QAAA,GAAA,EAAA,GAHA;AAGA,QAAA,GAAA,EAAA,GAHA;AAIA,QAAA,GAAA,EAAA,GAJA;AAIA,QAAA,GAAA,EAAA,GAJA;AAIA,QAAA,GAAA,EAAA,GAJA;AAIA,QAAA,GAAA,EAAA,GAJA;AAIA,QAAA,GAAA,EAAA,GAJA;AAIA,QAAA,GAAA,EAAA,GAJA;AAIA,QAAA,GAAA,EAAA,GAJA;AAIA,QAAA,GAAA,EAAA;AAJA,QAAA;;AAOA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;;AACA,WAAA,IAAA,CAAA,IAAA,IAAA,EAAA;AAAA;AACA,YAAA,OAAA,IAAA,CAAA,CAAA,CAAA,IAAA,QAAA,EAAA;AACA,UAAA,IAAA,CAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,CAAA,CAAA,QAAA,EAAA;AACA;;AACA,YAAA,OAAA,IAAA,CAAA,CAAA,CAAA,IAAA,WAAA,EAAA;AAAA;AACA,UAAA,IAAA,CAAA,CAAA,CAAA,GAAA,GAAA;AACA;AACA;;AAEA,UAAA,GAAA,GAAA;AACA,QAAA,IAAA,EAAA,KADA;AAEA,QAAA,IAAA,EAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,SAAA,CAAA,IAAA,CAAA;AAFA,OAAA;AAKA,WAAA,IAAA,GAAA,GAAA,CAAA,EAAA,GAAA,IAAA,CAAA,EAAA,GAAA,EAAA;AAEA,UAAA,IAAA,GAAA,IAAA,CAAA,SAAA,CAAA;AACA,QAAA,IAAA,EAAA,IADA;AAEA,QAAA,IAAA,EAAA,CAAA;AACA,UAAA,EAAA,EAAA,GAAA,CAAA,EADA;AAEA,UAAA,IAAA,EAAA,GAAA,CAAA;AAFA,SAAA;AAFA,OAAA,CAAA;AAQA,WAAA,KAAA,CAAA,aAAA,CAAA,IAAA;AAEA,MAAA,MAAA,CAAA,MAAA,CAAA,KAAA,KAAA,EAAA,KAAA,QAAA,CAAA,IAAA,EAAA;AAEA,WAAA,QAAA;AAEA;AAhNA;AAzCA,CAAA","sourcesContent":["<template>\r\n\t<v-card flat>\r\n\t\t<div class=\" px-5 py-3  green lighten-5 d-flex align-center\">\r\n\t\t\t<span class=\"green--text\" @click=\"hideRule\">返回</span>\r\n\t\t</div>\r\n\t\t<div class=\"grey lighten-3\">\r\n\t\t\t<v-form ref=\"valid\" v-model=\"valid\" lazy-validation class=\"px-6 py-4 white\">\r\n\t\t\t\t<div class=\"d-flex flex-column mb-2\">\r\n\t\t\t\t\t<span style=\"border-left: 4px solid #66BB6A;\" class=\"pl-2 font-weight-bold\">规则名称</span>\r\n\t\t\t\t\t<v-text-field type=\"text\" v-model=\"ruleName\"\r\n\t\t\t\t\tclass=\"py-0\"\r\n\t\t\t\t\tcolor=\"green\" dense :readonly=\"true\"></v-text-field>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p style=\"border-left: 4px solid #66BB6A;\" class=\"pl-2 font-weight-bold\">建仓规则</p>\r\n\t\t\t\t<div class=\"mobile-grid\">\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">买入跌幅</span>\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R1\"\r\n\t\t\t\t\t\tclass=\"py-0\"  :step=\"0.01\" min=\"0\"\r\n\t\t\t\t\t\tcolor=\"green\" :rules=\"[rules.required,rules.size,rules.percent]\"></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">涨幅回调</span>\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R2\"\r\n\t\t\t\t\t\tclass=\"py-0\"\r\n\t\t\t\t\t\tcolor=\"green\" dense :step=\"0.01\" min=\"0\"></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">计价货币</span>\r\n\t\t\t\t\t\t<v-select  dense v-model=\"curcy\"\r\n\t\t\t\t\t\tcolor=\"green\" :items=\"currency\" item-text=\"value\"\r\n\t\t\t\t\t\titem-color=\"green\" :readonly=\"true\" \r\n\t\t\t\t\t\t item-value=\"id\" single-line></v-select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">单次买入金额</span>\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R3\"\r\n\t\t\t\t\t\tclass=\"py-0\" :step=\"0.01\" min=\"0\"\r\n\t\t\t\t\t\tcolor=\"green\" dense :rules=\"[rules.required,rules.size]\"></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"my-2\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<p class=\"mb-2 d-flex justify-space-between align-center\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">\r\n\t\t\t\t\t\t\t强制建仓\r\n\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t<v-btn icon small>\r\n\t\t\t\t\t\t\t<v-icon @click=\"allowJc\" small>{{jData.R11 ? 'mdi-check-box-outline' : 'mdi-square-outline'}}</v-icon>\r\n\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<transition name=\"fade\" v-if=\"jData.R11\">\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R12\" :disabled=\"!jData.R11\" color=\"green\"  single-line\r\n\t\t\t\t\t\t:step=\"0.01\" min=\"1\" suffix=\"分钟无仓强制建仓\" hide-details  dense></v-text-field>\r\n\t\t\t\t\t</transition>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p class=\"mb-2 d-flex align-center justify-space-between\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">\r\n\t\t\t\t\t\t\t追涨\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<v-btn icon small>\r\n\t\t\t\t\t\t\t<v-icon @click=\"allowSup\" small>{{jData.R13 ? 'mdi-check-box-outline' : 'mdi-square-outline'}}</v-icon>\r\n\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t<transition name=\"fade\" v-if=\"jData.R13\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R14\" :disabled=\"!jData.R13\" color=\"green\"  single-line\r\n\t\t\t\t\t\t\tmin=\"1\" hide-details suffix=\"分钟内上涨\" dense></v-text-field>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</transition>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<transition name=\"fade\" v-if=\"jData.R13\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R15\" :disabled=\"!jData.R13\" color=\"green\"  single-line\r\n\t\t\t\t\t\t\tmin=\"1\" hide-details suffix=\"%则追涨建仓\" dense></v-text-field>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</transition>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<transition name=\"fade\" v-if=\"jData.R13\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R36\" :disabled=\"!jData.R13\" color=\"green\"  single-line\r\n\t\t\t\t\t\t\tmin=\"1\" hide-details suffix=\"分钟延迟追涨\" dense></v-text-field>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</transition>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</v-form>\r\n\t\t\t\r\n\t\t\t<v-form ref=\"valid2\" v-model=\"valid2\" lazy-validation class=\"px-6 py-4 white mt-2\">\r\n\t\t\t\t<p style=\"border-left: 4px solid #66BB6A;\" class=\"pl-2 font-weight-bold\">平仓规则</p>\r\n\t\t\t\t<div class=\"mobile-grid\">\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">卖出涨幅</span>\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R4\"\r\n\t\t\t\t\t\tclass=\"py-0\" :step=\"0.01\" min=\"0\"\r\n\t\t\t\t\t\tcolor=\"green\" dense  :rules=\"[rules.required,rules.isEmpty,rules.precent]\"></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">涨幅回调</span>\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R5\"\r\n\t\t\t\t\t\tclass=\"py-0\"\r\n\t\t\t\t\t\tcolor=\"green\" dense :step=\"0.01\" min=\"0\"></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">止损跌幅</span>\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R6\" color=\"green\" single-line :step=\"0.1\" min=\"0\" \r\n\t\t\t\t\t\t:rules=\"[rules.required,rules.isEmpty]\"\r\n\t\t\t\t\t\t dense></v-text-field>\r\n\t\t\t\t\t</div>\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"my-2\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<p class=\"mb-2 d-flex justify-space-between align-center\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">\r\n\t\t\t\t\t\t\t杀跌平仓\r\n\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t<v-btn icon small>\r\n\t\t\t\t\t\t\t<v-icon @click=\"allowPc\" small>{{jData.R16 ? 'mdi-check-box-outline' : 'mdi-square-outline'}}</v-icon>\r\n\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<transition name=\"fade\" v-if=\"jData.R16\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R17\" :disabled=\"!jData.R16\" color=\"green\"  single-line\r\n\t\t\t\t\t\t\tmin=\"1\" hide-details suffix=\"分钟内下跌\" dense class=\"pb-2\"></v-text-field>\r\n\r\n\t\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R18\" :disabled=\"!jData.R16\" color=\"green\"  single-line\r\n\t\t\t\t\t\t\tmin=\"1\" hide-details suffix=\"%则杀跌平仓\" dense></v-text-field>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</transition>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</v-form>\r\n\t\t\t\r\n\t\t\t<v-form ref=\"valid3\" v-model=\"valid3\" lazy-validation class=\"px-6 py-4 white mt-2\">\r\n\t\t\t\t<p style=\"border-left: 4px solid #66BB6A;\" class=\"pl-2 font-weight-bold\">补仓规则</p>\r\n\t\t\t\t<div class=\"mobile-grid\">\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">单次补仓跌幅(%)</span>\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R7\" color=\"green\" \r\n\t\t\t\t\t\t:rules=\"[rules.required,rules.size,rules.precent]\"\r\n\t\t\t\t\t\t :step=\"0.1\" min=\"0\" dense single-line></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">补仓回调</span>\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R10\" color=\"green\" :step=\"0.01\" min=\"0\"\r\n\t\t\t\t\t\t dense single-line></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">单次补仓金额</span>\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R9\" color=\"green\"\r\n\t\t\t\t\t\t:rules=\"[rules.required,rules.size]\"\r\n\t\t\t\t\t\t single-line :step=\"0.1\" min=\"0\" dense></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class=\"d-flex flex-column\">\r\n\t\t\t\t\t\t<span class=\"grey--text\">补仓次数</span>\r\n\t\t\t\t\t\t<v-text-field type=\"number\" v-model=\"jData.R8\" color=\"green\"  single-line \r\n\t\t\t\t\t\t min=\"0\" dense></v-text-field>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"my-2\">\r\n\t\t\t\t\t<div class=\"mobile-grid\">\r\n\t\t\t\t\t\t<v-switch\r\n\t\t\t\t\t\t  v-model=\"jData.R19\" \r\n\t\t\t\t\t\t  label=\"补仓单卖\" \r\n\t\t\t\t\t\t  color=\"success\"\r\n\t\t\t\t\t\t  dense\r\n\t\t\t\t\t\t  hide-details\r\n\t\t\t\t\t\t  @change=\"listenState\" \r\n\t\t\t\t\t\t></v-switch>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<v-switch\r\n\t\t\t\t\t\t  v-model=\"jData.R20\"\r\n\t\t\t\t\t\t  color=\"success\"\r\n\t\t\t\t\t\t  dense\r\n\t\t\t\t\t\t  hide-details\r\n\t\t\t\t\t\t  :disabled=\"!jData.R19\"\r\n\t\t\t\t\t\t  label=\"允许补仓\" \r\n\t\t\t\t\t\t></v-switch>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\t</v-form>\r\n\t\t\r\n\t\t\t<div class=\"px-6 py-4 white mt-2\">\r\n\t\t\t\t<p style=\"border-left: 4px solid #66BB6A;\" class=\"pl-2 font-weight-bold\">其他规则</p>\r\n\t\t\t\t<v-menu transition=\"scroll-y-transition\" v-if=\"other[0].show||other[1].show||other[2].show\">\r\n\t\t\t\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t\t\t\t<v-btn tile outlined small color=\"success\" class=\"ma-0\" v-on=\"on\">\r\n\t\t\t\t\t\t\t添加\r\n\t\t\t\t\t\t\t<v-icon right>mdi-menu-down</v-icon>\r\n\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<v-list class=\"pa-0\">\r\n\t\t\t\t\t  <v-list-item dense  v-ripple=\"{ class: 'green--text' }\"\r\n\t\t\t\t\t\tv-for=\"(n,index) in other\" link @click=\"addOther(n.id,index)\" v-if=\"n.show\">\r\n\t\t\t\t\t\t<v-list-item-title>{{n.text}}</v-list-item-title>\r\n\t\t\t\t\t  </v-list-item>\r\n\t\t\t\t\t</v-list>\r\n\t\t\t\t</v-menu>\r\n\t\t\t\t<!-- <div v-for=\"other in otherList\" class=\"grey lighten-4 pa-2 my-1\">\r\n\t\t\t\t\t<p class=\"mb-0\"><v-icon right small>mdi-close</v-icon></p>\r\n\t\t\t\t\t{{other.a}}分钟内下跌{{other.b}}%时,{{other.name}}比例变为{{other.c}}%,{{other.d}}分钟后恢复数值\r\n\t\t\t\t</div> -->\r\n\t\t\t\t <v-list two-line > \r\n\t\t\t\t\t <v-list-item class=\"my-1 grey lighten-4\" v-if=\"otherList[1].a\">\r\n\t\t\t\t\t\t  <v-list-item-content>\r\n\t\t\t\t\t\t\t{{otherList[1].a}}分钟内下跌{{otherList[1].b}}%时,{{otherList[1].name}}比例变为{{otherList[1].c}}%,{{otherList[1].d}}分钟后恢复数值\r\n\t\t\t\t\t\t  </v-list-item-content>\r\n\t\t\t\r\n\t\t\t\t\t\t  <v-list-item-action>\r\n\t\t\t\t\t\t\t<v-btn icon small class=\"ma-1\" @click=\"closeOtherItem(1)\"><v-icon color=\"error\">mdi-close</v-icon></v-btn>\r\n\t\t\t\t\t\t\t<v-btn icon small class=\"ma-1\" @click=\"editOtherItem(1)\"><v-icon>mdi-square-edit-outline</v-icon></v-btn>\r\n\t\t\t\t\t\t  </v-list-item-action>\r\n\t\t\t\t\t  </v-list-item>\r\n\t\t\t\t\r\n\t\t\t\t\t   <v-list-item class=\"my-1 grey lighten-4\" v-if=\"otherList[2].a\">\r\n\t\t\t\t\t\t  <v-list-item-content>\r\n\t\t\t\t\t\t\t{{otherList[2].a}}分钟内下跌{{otherList[2].b}}%时,{{otherList[2].name}}比例变为{{otherList[2].c}}%,\r\n\t\t\t\t\t\t\t{{otherList[2].d}}分钟后恢复数值\r\n\t\t\t\t\t\t  </v-list-item-content>\r\n\t\t\t\r\n\t\t\t\t\t\t  <v-list-item-action>\r\n\t\t\t\t\t\t\t<v-btn icon small class=\"ma-1\" @click=\"closeOtherItem(2)\"><v-icon color=\"error\">mdi-close</v-icon></v-btn>\r\n\t\t\t\t\t\t\t<v-btn icon small class=\"ma-1\" @click=\"editOtherItem(2)\"><v-icon>mdi-square-edit-outline</v-icon></v-btn>\r\n\t\t\t\t\t\t  </v-list-item-action>\r\n\t\t\t\t\t    </v-list-item>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<v-list-item class=\"my-1 grey lighten-4\" v-if=\"otherList[3].a\">\r\n\t\t\t\t\t\t  <v-list-item-content>\r\n\t\t\t\t\t\t\t{{otherList[3].a}}分钟内下跌{{otherList[3].b}}%时,{{otherList[3].name}}比例变为{{otherList[3].c}}%,\r\n\t\t\t\t\t\t\t{{otherList[3].d}}分钟后恢复数值\r\n\t\t\t\t\t\t  </v-list-item-content>\r\n\t\t\t\r\n\t\t\t\t\t\t  <v-list-item-action>\r\n\t\t\t\t\t\t\t<v-btn icon small class=\"ma-1\" @click=\"closeOtherItem(3)\"><v-icon color=\"error\">mdi-close</v-icon></v-btn>\r\n\t\t\t\t\t\t\t<v-btn icon small class=\"ma-1\" @click=\"editOtherItem(3)\"><v-icon>mdi-square-edit-outline</v-icon></v-btn>\r\n\t\t\t\t\t\t  </v-list-item-action>\r\n\t\t\t\t\t\t </v-list-item>\r\n\t\t\t\t\t\t \r\n\t\t\t\t </v-list>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<p class=\"bottomBtn white mb-0 pb-2\">\r\n\t\t\t\t <v-btn block color=\"secondary\" outlined depressed tile @click=\"hideRule\">取消</v-btn>\r\n\t\t\t\t  <v-btn block color=\"green\" dark  depressed tile @click=\"mainValid\">提交</v-btn>\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t\t<common-otherRule :dialog=\"dialog\" :newOtherObj=\"newOtherObj\" @pushData=\"createOneOther\"\r\n\t\t@cancelDialog=\"cancelOther\"></common-otherRule>\r\n\t\t\r\n\t\t\r\n\t</v-card>\n</template>\n\n<script>\r\n\timport {\r\n\t\tmapActions\r\n\t} from 'vuex';\r\n\timport Utils from '@/plugins/cryAes.js'\r\n\timport { addRuleData } from '@/mixins/mobileRule.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tother:[\r\n\t\t\t\t\t{id:1,text:'补仓',show:true},\r\n\t\t\t\t\t{id:2,text:'止损',show:true},\r\n\t\t\t\t\t{id:3,text:'建仓',show:true},\r\n\t\t\t\t],\r\n\t\t\t\t\r\n\t\t\t\totherList:{\r\n\t\t\t\t\t\"1\":{},\r\n\t\t\t\t\t\"2\":{},\r\n\t\t\t\t\t\"3\":{}\r\n\t\t\t\t},\r\n\t\t\t\tnewOtherObj:{},\r\n\t\t\t\t\r\n\t\t\t\tdialog:false,\r\n\t\t\t}\r\n\t\t},\r\n\t\tmixins:[addRuleData],\r\n\t\t\r\n\t\tprops: {\r\n\t\t\truleObj: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => ({})\r\n\t\t\t},\r\n\t\t\tedit: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\twatch: {\r\n\t\t\tedit: {\r\n\t\t\t\thandler: 'transRuleData',\r\n\t\t\t\timmediate: true\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t\t\r\n\t\tmethods:{\r\n\t\t\ttransRuleData(){//要编辑的数据进行转化\r\n\t\t\t\tif (this.edit) {\r\n\t\t\t\t\tlet item = {...this.ruleObj};\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.curcy = Number(item.R54);\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.ruleName = item.R0 ? this.unescapeF(item.R0) : '';\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet [R11,R13,R19,R16,R20,R21,R26,R31] = [\r\n\t\t\t\t\t\titem.R11 == 1 ? true : false,\r\n\t\t\t\t\t\titem.R13 == 1 ? true : false,\r\n\t\t\t\t\t\titem.R19 == 1 ? true : false,\r\n\t\t\t\t\t\titem.R16 == 1 ? true : false,\r\n\t\t\t\t\t\titem.R20 == 1 ? true : false,\r\n\t\t\t\t\t\titem.R21 == 1 ? true : false,\r\n\t\t\t\t\t\titem.R26 == 1 ? true : false,\r\n\t\t\t\t\t\titem.R31 == 1 ? true : false\r\n\t\t\t\t\t];\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.jData = Object.assign({}, item, {R11,R13,R19,R16,R20,R21,R26,R31});\r\n\r\n\t\t\t\t\tif(R21){\r\n\t\t\t\t\t\tthis.other[1].show = false;\r\n\t\t\t\t\t\tthis.otherList[2] = {\r\n\t\t\t\t\t\t\tname:this.other[1].text,\r\n\t\t\t\t\t\t\ta:this.jData.R22,\r\n\t\t\t\t\t\t\tb:this.jData.R23,\r\n\t\t\t\t\t\t\tc:this.jData.R24,\r\n\t\t\t\t\t\t\td:this.jData.R25\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(R26){\r\n\t\t\t\t\t\tthis.other[0].show = false;\r\n\t\t\t\t\t\tthis.otherList[1] = {\r\n\t\t\t\t\t\t\tname:this.other[0].text,\r\n\t\t\t\t\t\t\ta:this.jData.R27,\r\n\t\t\t\t\t\t\tb:this.jData.R28,\r\n\t\t\t\t\t\t\tc:this.jData.R29,\r\n\t\t\t\t\t\t\td:this.jData.R30\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(R31){\r\n\t\t\t\t\t\tthis.other[2].show = false;\r\n\t\t\t\t\t\tthis.otherList[3] = {\r\n\t\t\t\t\t\t\tname:this.other[2].text,\r\n\t\t\t\t\t\t\ta:this.jData.R32,\r\n\t\t\t\t\t\t\tb:this.jData.R33,\r\n\t\t\t\t\t\t\tc:this.jData.R34,\r\n\t\t\t\t\t\t\td:this.jData.R35\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tcancelOther(){\r\n\t\t\t\tthis.newOtherObj = {};\r\n\t\t\t\tthis.dialog = false;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tcloseOtherItem(obj){//删掉其他规则\r\n\t\t\t\tthis.otherList[obj] = {};\r\n\t\t\t\t\r\n\t\t\t\tthis.other.forEach(item =>{\r\n\t\t\t\t\tif(item.id==obj){\r\n\t\t\t\t\t\tthis.checkName(item.id,false);\r\n\t\t\t\t\t\titem.show = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\teditOtherItem(idx){//编辑已经存在的其他规则\r\n\t\t\t\tthis.newOtherObj = this.otherList[idx];\r\n\t\t\t\tthis.dialog = true;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tcheckName(name,state){//查找id得到不同的其他规则\r\n\t\t\t\tname==1&&(this.jData.R26=state);\r\n\t\t\t\tname==2&&(this.jData.R21=state);\r\n\t\t\t\tname==3&&(this.jData.R31=state);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tcreateOneOther(obj){//编辑其他规则提交后\r\n\t\t\t\tthis.dialog = false;\r\n\t\t\t\t// let {name,...params} = obj;可以得到去除了name属性的obj\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.other.forEach(item =>{\r\n\t\t\t\t\tif(item.text==obj.name){\r\n\t\t\t\t\t\titem.show = false;\r\n\t\t\t\t\t\tthis.otherList[item.id] = obj;\r\n\t\t\t\t\t\tthis.checkName(item.id,true);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\taddOther(id,index){\r\n\t\t\t\t\r\n\t\t\t\tlet arr = Object.values(this.otherList[id]);\r\n\t\t\t\t\r\n\t\t\t\tlet [a,b,c,d] = arr;\r\n\t\t\t\t\r\n\t\t\t\tthis.newOtherObj = {name:this.other[index].text,a,b,c,d};\r\n\r\n\t\t\t\tthis.dialog = true;\r\n\t\t\t},\r\n\r\n\t\t\t...mapActions(['changeLay', 'changeSnack']),\r\n\t\t\t\r\n\t\t\tmainValid(){//表单验证\r\n\t\t\t\tlet options = {\r\n\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\toffset: 0,\r\n\t\t\t\t\teasing: 'easeInOutCubic'\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tif (this.$refs.valid.validate()) {\r\n\t\t\t\t\tif(this.$refs.valid2.validate()){\r\n\t\t\t\t\t\tif(this.$refs.valid3.validate()){\r\n\t\t\t\t\t\t\tthis.postRule();\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.$vuetify.goTo(this.$refs.valid3, options)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$vuetify.goTo(this.$refs.valid2, options)\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$vuetify.goTo(this.$refs.valid, options)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t\r\n\t\t\tpostRule() { //提交规则\r\n\t\t\t\tlet title = this.ruleName.replace(/\\s+/g,'');\r\n\t\t\t\t\r\n\t\t\t\tlet other1 = this.otherList;\r\n\t\t\t\t\r\n\t\t\t\tlet [R54,R0,R11,R13,R19,R16,R20] = [\r\n\t\t\t\t\tthis.curcy,\r\n\t\t\t\t\tthis.charToUnicode(title),\r\n\t\t\t\t\tthis.jData.R11 ? 1 : 0,\r\n\t\t\t\t\tthis.jData.R13 ? 1 : 0,\r\n\t\t\t\t\tthis.jData.R19 ? 1 : 0,\r\n\t\t\t\t\tthis.jData.R16 ? 1 : 0,\r\n\t\t\t\t\tthis.jData.R20 ? 1 : 0\r\n\t\t\t\t];\r\n\t\t\t\tlet [R21,R22,R23,R24,R25,R26,R27,R28,R29,R30,R31,R32,R33,R34,R35] = [\r\n\t\t\t\t\tthis.jData.R21? 1 : 0,\r\n\t\t\t\t\tother1[2].a,\r\n\t\t\t\t\tother1[2].b,\r\n\t\t\t\t\tother1[2].c,\r\n\t\t\t\t\tother1[2].d,\r\n\t\t\t\t\tthis.jData.R26? 1 : 0,\r\n\t\t\t\t\tother1[1].a,\r\n\t\t\t\t\tother1[1].b,\r\n\t\t\t\t\tother1[1].c,\r\n\t\t\t\t\tother1[1].d,\r\n\t\t\t\t\tthis.jData.R31? 1 : 0,\r\n\t\t\t\t\tother1[3].a,\r\n\t\t\t\t\tother1[3].b,\r\n\t\t\t\t\tother1[3].c,\r\n\t\t\t\t\tother1[3].d,\r\n\t\t\t\t];\r\n\t\t\t\tlet list = {\r\n\t\t\t\t\t...this.jData,\r\n\t\t\t\t\tR54,R0,R11,R13,R19,R16,R20,R21,\r\n\t\t\t\t\tR22,R23,R24,R25,R26,R27,\r\n\t\t\t\t\tR28,R29,R30,R31,R32,R33,R34,R35\r\n\t\t\t\t};\r\n\r\n\t\t\t\tconsole.log(list)\r\n\t\t\t\tfor (let i in list) { //后端要求数字转字符\r\n\t\t\t\t\tif (typeof(list[i]) == 'number') {\r\n\t\t\t\t\t\tlist[i] = list[i].toString();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(typeof(list[i]) == 'undefined'){ //other1里不存在就会undefined 转为0\r\n\t\t\t\t\t\tlist[i] = '0';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tname: title,\r\n\t\t\t\t\tdata: Utils.encrypt(JSON.stringify(list))\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tthis.edit ? obj.id = list.id : '';\r\n\t\t\t\t\r\n\t\t\t\tlet json = JSON.stringify({\r\n\t\t\t\t\tcode: 1008,\r\n\t\t\t\t\tdata:[{\r\n\t\t\t\t\t\tid:obj.id,\r\n\t\t\t\t\t\tdata:obj.data\r\n\t\t\t\t\t}]\r\n\t\t\t\t});\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.$sock.websocketsend(json);\r\n\t\t\t\t\r\n\t\t\t\tObject.assign(this.$data, this.$options.data());\r\n\t\t\t\t\r\n\t\t\t\tthis.hideRule();\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped=\"scoped\">\r\n\t.bottomBtn{\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: 50% 50%;\r\n\t\tgrid-template-rows: auto;\r\n\t}\r\n\t.mobile-grid{\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: 48% 48%;\r\n\t\tgrid-template-rows: auto auto;\r\n\t\tgrid-gap: 10px;\r\n\t}\r\n\t\r\n\t.mobile-grid-one{\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: 48% 48%;\r\n\t\tgrid-template-rows: auto;\r\n\t\tgrid-gap: 10px;\r\n\t}\r\n\t\r\n\t.xy-select {\r\n\t\twidth: 100px;\r\n\t\tborder: 1px solid;\r\n\t\tborder-radius: 3px;\r\n\t\tbackground: none;\r\n\t\tpadding: 4px;\r\n\t}\r\n\r\n\t.xy-select:focus {\r\n\t\toutline: 0;\r\n\t\tborder: 1px solid #4caf50;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\r\n\t.xy-options {\r\n\t\tpadding: 5px 3px;\r\n\t}\r\n\r\n\t.xy-options:hover {\r\n\t\tbackground: #4caf50;\r\n\t}\r\n\r\n\t.nameStyle {\r\n\t\toutline: 0;\r\n\t\tmax-width: 200px;\r\n\t\tpadding: 3px 3px 3px 5px;\r\n\t\tborder-radius: 3px;\r\n\t\tborder: 1px solid;\r\n\t}\r\n\r\n\t.fade-enter-active,\r\n\t.fade-leave-active {\r\n\t\ttransition: opacity .5s\r\n\t}\r\n\r\n\t.fade-enter,\r\n\t.fade-leave-active {\r\n\t\topacity: 0\r\n\t}\r\n</style>"],"sourceRoot":"src/components/common"}]}