{"remainingRequest":"C:\\Users\\pxy\\Downloads\\test\\lhds\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pxy\\Downloads\\test\\lhds\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\pxy\\Downloads\\test\\lhds\\src\\mixins\\indexData.js","dependencies":[{"path":"C:\\Users\\pxy\\Downloads\\test\\lhds\\src\\mixins\\indexData.js","mtime":1574651315639},{"path":"C:\\Users\\pxy\\Downloads\\test\\lhds\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1572955172692},{"path":"C:\\Users\\pxy\\Downloads\\test\\lhds\\node_modules\\babel-loader\\lib\\index.js","mtime":1572955171173},{"path":"C:\\Users\\pxy\\Downloads\\test\\lhds\\node_modules\\eslint-loader\\index.js","mtime":1572955195504}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\pxy\\\\Downloads\\\\test\\\\lhds\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _defineProperty from \"C:\\\\Users\\\\pxy\\\\Downloads\\\\test\\\\lhds\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//主页的mixins数据\t\nimport upSvg from '@/img/up.svg';\nimport BTC from '@/img/BTC.png';\nimport ETH from '@/img/ETH.png';\nimport USDT from '@/img/USDT.png';\nimport { mapActions } from 'vuex';\nimport echarts from 'echarts';\nimport { line } from '@/plugins/chart.js';\nexport var indexData = {\n  data: function data() {\n    return {\n      defaultNum: 0,\n      //图表默认显示的天数\n      numArr: [7, 15],\n      //天数数组\n      upIcon: upSvg,\n      target: '#vRow',\n      options: {\n        duration: 1000,\n        offset: 0,\n        easing: 'easeInOutCubic'\n      },\n      tableData: {\n        labels: this.getBeforeDay(),\n        title: '最近七日收益走势图',\n        series: [0, 0, 0, 0, 0, 0, 0]\n      },\n      Bimg: BTC,\n      Eimg: ETH,\n      Uimg: USDT,\n      percentage: 0,\n      dateProfit: [],\n      profitList: {} //所有利润信息\n\n    };\n  },\n  methods: _objectSpread({}, mapActions(['changeLay']), {\n    getBeforeDay: function getBeforeDay() {\n      var n = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 7;\n      var arr = [];\n\n      for (var i = 1; i < n; i++) {\n        var a = this.$moment(new Date()).subtract(i, 'days').format('MM-DD');\n        arr.unshift(a);\n      }\n\n      return arr;\n    },\n    getDateProfit: function getDateProfit() {\n      var _this = this;\n\n      var nums = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 7;\n      var list = {\n        num: nums,\n        currency: 'USDT'\n      };\n      new Promise(function (resolve) {\n        $ax.getAjaxData('/EasWebUser/getDateProfit', list, function (res) {\n          if (res.code == 1) {\n            var data = res.data;\n            var arr = [];\n            data.forEach(function (item) {\n              arr.push(item.toFixed(2)); //保留两位小数\n            });\n            _this.percentage = res.percentage;\n            _this.tableData.series = arr;\n\n            var myChart = _this.$echarts.init(document.getElementById('chart'));\n\n            var option = myChart.getOption();\n            option.xAxis[0].data = _this.getBeforeDay(nums);\n            option.title[0].text = \"\\u6700\\u8FD1\".concat(nums, \"\\u65E5\\u6536\\u76CA\\u8D70\\u52BF\\u56FE\");\n            option.series[0].data = _this.tableData.series;\n            myChart.setOption(option);\n            resolve();\n          } else {\n            resolve();\n          }\n        }, {\n          hasToken: true\n        });\n      });\n    },\n    getAllProfit: function getAllProfit() {\n      var _this2 = this;\n\n      new Promise(function (resolve) {\n        $ax.getAjaxData('/EasWebUser/getAllProfit', {}, function (res) {\n          if (res.code == 1) {\n            _this2.profitList = res.data;\n            resolve();\n          } else {\n            resolve();\n          }\n        }, {\n          hasToken: true\n        });\n      });\n    },\n    resizeChart: function resizeChart() {\n      var myChart = echarts.init(document.getElementById('chart'));\n      myChart.resize();\n    }\n  }),\n  mounted: function mounted() {\n    //模板被渲染完毕之后执行\n    var myChart = echarts.init(document.getElementById('chart'));\n    myChart.setOption(line(this.tableData));\n  },\n  beforeRouteEnter: function beforeRouteEnter(to, from, next) {\n    //在组件创建之前调用（放置页面加载时请求的Ajax）\n    _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              //执行异步函数\n              next(function (vm) {\n                vm.changeLay(true);\n                var promiseAll = [vm.getDateProfit(), vm.getAllProfit()];\n                Promise.all(promiseAll).then(function (results) {\n                  vm.changeLay(false);\n                });\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  }\n};",{"version":3,"sources":["C:\\Users\\pxy\\Downloads\\test\\lhds\\src\\mixins\\indexData.js"],"names":["upSvg","BTC","ETH","USDT","mapActions","echarts","line","indexData","data","defaultNum","numArr","upIcon","target","options","duration","offset","easing","tableData","labels","getBeforeDay","title","series","Bimg","Eimg","Uimg","percentage","dateProfit","profitList","methods","n","arr","i","a","$moment","Date","subtract","format","unshift","getDateProfit","nums","list","num","currency","Promise","resolve","$ax","getAjaxData","res","code","forEach","item","push","toFixed","myChart","$echarts","init","document","getElementById","option","getOption","xAxis","text","setOption","hasToken","getAllProfit","resizeChart","resize","mounted","beforeRouteEnter","to","from","next","vm","changeLay","promiseAll","all","then","results"],"mappings":"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","sourcesContent":["//主页的mixins数据\t\r\n\timport upSvg from '@/img/up.svg'\r\n\timport BTC from '@/img/BTC.png';\r\n\timport ETH from '@/img/ETH.png';\r\n\timport USDT from '@/img/USDT.png';\r\n\timport {\r\n\t\tmapActions\r\n\t} from 'vuex';\r\n\timport echarts from 'echarts'\r\n\timport {\r\n\t\tline\r\n\t} from '@/plugins/chart.js'\r\n\texport const indexData = {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdefaultNum: 0, //图表默认显示的天数\r\n\t\t\t\t\r\n\t\t\t\tnumArr: [7, 15], //天数数组\r\n\t\t\t\t\r\n\t\t\t\tupIcon:upSvg,\r\n\t\t\t\t\r\n\t\t\t\ttarget: '#vRow',\r\n\t\t\t\t\r\n\t\t\t\toptions: {\r\n\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\toffset: 0,\r\n\t\t\t\t\teasing: 'easeInOutCubic'\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\ttableData: {\r\n\t\t\t\t\tlabels: this.getBeforeDay(),\r\n\r\n\t\t\t\t\ttitle: '最近七日收益走势图',\r\n\r\n\t\t\t\t\tseries: [0, 0, 0, 0, 0, 0, 0]\r\n\t\t\t\t},\r\n\r\n\t\t\t\tBimg: BTC,\r\n\t\t\t\tEimg: ETH,\r\n\t\t\t\tUimg: USDT,\r\n\t\t\t\tpercentage: 0,\r\n\r\n\t\t\t\tdateProfit: [],\r\n\r\n\t\t\t\tprofitList: {}, //所有利润信息\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapActions(['changeLay']),\r\n\t\t\t\r\n\t\t\tgetBeforeDay(n = 7) {\r\n\t\t\t\tlet arr = [];\r\n\t\t\t\tfor (let i = 1; i < n; i++) {\r\n\t\t\t\t\tlet a = this.$moment(new Date()).subtract(i, 'days').format('MM-DD');\r\n\t\t\t\t\tarr.unshift(a);\r\n\t\t\t\t}\r\n\t\t\t\treturn arr;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tgetDateProfit(nums = 7) {\r\n\t\t\t\tlet list = {\r\n\t\t\t\t\tnum: nums,\r\n\t\t\t\t\tcurrency: 'USDT'\r\n\t\t\t\t};\r\n\t\t\t\tnew Promise(resolve => {\r\n\t\t\t\t\t$ax.getAjaxData('/EasWebUser/getDateProfit', list, (res) => {\r\n\t\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\t\tlet data = res.data;\r\n\t\t\t\t\t\t\tlet arr = [];\r\n\r\n\t\t\t\t\t\t\tdata.forEach(item => {\r\n\t\t\t\t\t\t\t\tarr.push(item.toFixed(2));//保留两位小数\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.percentage = res.percentage;\r\n\r\n\t\t\t\t\t\t\tthis.tableData.series = arr;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet myChart = this.$echarts.init(document.getElementById('chart'));\r\n\t\t\t\t\t\t\tlet option = myChart.getOption();\r\n\t\t\t\t\t\t\toption.xAxis[0].data = this.getBeforeDay(nums);\r\n\t\t\t\t\t\t\toption.title[0].text = `最近${nums}日收益走势图`;\r\n\t\t\t\t\t\t\toption.series[0].data = this.tableData.series;\r\n\t\t\t\t\t\t\tmyChart.setOption(option);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\thasToken: true\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\tgetAllProfit() {\r\n\t\t\t\tnew Promise(resolve => {\r\n\t\t\t\t\t$ax.getAjaxData('/EasWebUser/getAllProfit', {}, (res) => {\r\n\t\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\t\tthis.profitList = res.data;\r\n\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\thasToken: true\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tresizeChart() {\r\n\t\t\t\tlet myChart = echarts.init(document.getElementById('chart'));\r\n\t\t\t\tmyChart.resize();\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() { //模板被渲染完毕之后执行\r\n\t\t\tlet myChart = echarts.init(document.getElementById('chart'));\r\n\t\t\tmyChart.setOption(line(this.tableData));\r\n\r\n\t\t},\r\n\t\tbeforeRouteEnter(to, from, next) { //在组件创建之前调用（放置页面加载时请求的Ajax）\r\n\r\n\t\t\t(async () => { //执行异步函数\r\n\r\n\t\t\t\tnext(vm => {\r\n\t\t\t\t\tvm.changeLay(true);\r\n\t\t\t\t\tlet promiseAll = [vm.getDateProfit(), vm.getAllProfit()];\r\n\t\t\t\t\tPromise.all(promiseAll).then(results => {\r\n\t\t\t\t\t\tvm.changeLay(false);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t})();\r\n\r\n\t\t},\r\n\t}"]}]}