(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf7b5b32"],{"06e2":function(t,e,n){},"0933":function(t,e,n){},"2dd9":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.showAddRule?t._e():n("div",{attrs:{id:"vRow"}},[n("div",{staticClass:" px-5 py-2 d-flex justify-space-between align-center flex-wrap green lighten-5"},[n("span",{staticClass:"pl-2 borderLeft-bold"},[t._v("\n\t\t\t\t规则列表\n\t\t\t")]),n("v-btn",{staticClass:"ma-1",attrs:{small:"",outlined:"",color:"green"},on:{click:t.newRule}},[t._v("新增规则")])],1),n("v-divider"),n("None"!==t.transition?"v-"+t.transition:"div",{tag:"component",attrs:{"hide-on-leave":""}},[t.loading?n("v-skeleton-loader",{attrs:{type:"article"}}):n("div",[t.ruleList.length<1?n("v-list-item",{staticClass:"xy-borderB",attrs:{"three-line":""}},[n("p",{staticClass:"text-center",staticStyle:{width:"100%"}},[t._v("暂无数据")])]):n("v-row",{staticClass:"px-1",attrs:{align:"center",justify:"start"}},t._l(t.ruleList,function(e,s){return n("v-col",{key:s,staticClass:"d-flex flex-column",attrs:{cols:"12",lg:3,md:4,sm:6,xs:12}},[n("v-card",{attrs:{outlined:"",flat:""}},[n("v-card-text",{staticClass:"d-flex align-center"},[n("div",{staticClass:"font-weight-bold black--text xy-title-hidden"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.R0)+"\n\t\t\t\t\t\t\t\t\t\t")]),t._v("/"),n("span",{staticStyle:{"font-size":"12px"}},[t._v("规则名称")])]),n("div",{staticClass:"closeIcon"},[n("div",{staticClass:"triangle"},[n("v-icon",{staticStyle:{position:"absolute",top:"4px",right:"4px"},attrs:{color:"white"},on:{click:function(n){return t.delRule(e.id,s)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\tmdi-close\n\t\t\t\t\t\t\t\t\t\t\t")])],1)]),n("v-window",{model:{value:e.id,callback:function(n){t.$set(e,"id",n)},expression:"item.id"}},[n("v-window-item",{attrs:{value:e.id+1}})],1),n("v-card-text",[n("p",{staticClass:"d-flex justify-space-between align-center"},[n("span",{staticClass:"font-weight-bold"},[t._v("计价货币：")]),n("span",[t._v(t._s(1==e.R54?"USDT":2==e.R54?"ETH":"BTC"))])]),n("p",{staticClass:"d-flex justify-space-between align-center"},[n("span",{staticClass:"font-weight-bold"},[t._v("买入跌幅：")]),n("span",[t._v(t._s(e.R1)+"%")])]),n("p",{staticClass:"d-flex justify-space-between align-center"},[n("span",{staticClass:"font-weight-bold"},[t._v("跌幅回调：")]),n("span",[t._v(t._s(e.R2)+"%")])]),n("p",{staticClass:"d-flex justify-space-between align-center flex-wrap"},[n("span",{staticClass:"font-weight-bold"},[t._v("建仓金额：")]),n("span",[t._v(t._s(e.R3))])]),n("p",{staticClass:"text-center pt-2 mb-0 d-flex align-center justify-space-between"},[n("v-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:function(n){return t.editRule(e)}}},[t._v("编辑")]),n("v-btn",{attrs:{outlined:"",small:"",color:"green"},on:{click:function(n){return t.lookOne(s,e)}}},[t._v("更多")])],1)])],1)],1)}),1),n("div",{staticClass:"text-center mt-5"},[n("v-pagination",{attrs:{color:"green",length:t.curPage.size,"total-visible":7},on:{input:t.inputShow},model:{value:t.curPage.page,callback:function(e){t.$set(t.curPage,"page",e)},expression:"curPage.page"}})],1),t.lookMore?n("common-more",{attrs:{hover:t.lookMore,item:t.moreObj},on:{closeLay:t.closeLay}}):t._e()],1)],1)],1),n("v-fab-transition",[!t.showAddRule&&t.ruleList.length>=5?n("Avatar",{staticClass:"xy-suspend",attrs:{src:t.upIcon},nativeOn:{click:function(e){return e.stopPropagation(),t.$vuetify.goTo(t.target,t.options)}}}):t._e()],1),t.showAddRule?n("common-addrule",{attrs:{ruleObj:t.currentRule,edit:t.editType,parentName:"Rule"},on:{hideRule:t.hideRule}}):t._e()],1)},a=[],i=n("5615"),o=n("6015"),r={mixins:[i["a"],o["a"]],data:function(){return{lookMore:!1,moreObj:{}}},methods:{closeLay:function(){this.moreObj={},this.lookMore=!1,this.beforeClose()},lookOne:function(t,e){this.lookMore=!0,this.afterOpen(),this.moreObj={R4:e.R4,R5:e.R5,R6:e.R6,R7:e.R7,R8:e.R8,R9:e.R9,R10:e.R10}}}},c=r,l=(n("4a4a"),n("5f10"),n("2877")),u=Object(l["a"])(c,s,a,!1,null,"36c49d32",null);e["default"]=u.exports},"4a4a":function(t,e,n){"use strict";var s=n("0933"),a=n.n(s);a.a},5615:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return d});n("8e6e"),n("456d"),n("96cf");var s=n("3b8d"),a=(n("ac6a"),n("a481"),n("c5f6"),n("bd86")),i=n("1700"),o=n.n(i),r=n("39b6"),c=n("2f62");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,s)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach(function(e){Object(a["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var d={data:function(){return{transition:"fade-transition",loading:!0,upIcon:o.a,editType:!1,step:1,target:"#vRow",options:{duration:1e3,offset:0,easing:"easeInOutCubic"},curPage:{page:1,size:0},currentRule:{},showAddRule:!1,ruleList:[]}},watch:{wssData:{handler:function(t,e){this.getMessage()},deep:!0}},computed:{wssData:function(){return this.$store.state.collocationList}},methods:u({},Object(c["b"])(["changeLay","changeSnack"]),{changeTime:function(t){return this.$utils.timestampToTime(Number(t))},newRule:function(){this.showAddRule=!0,this.editType=!1},getMessage:function(){var t=this.wssData;switch(t.code){case 20013:var e=JSON.stringify({code:1006});this.$sock.websocketsend(e);break;default:break}},delRule:function(e,n){var s=this;this.$xyDialog({title:"删除规则",content:"确定删除吗? 该操作不可撤销",onOk:function(){s.changeLay(!0);var a=s.$sock.lookState();t.getAjaxData("/EasWebUser/delRule",{id:e},function(t){if(s.changeLay(!1),1==t.code){var e={state:!0,errorText:{type:"success",text:"删除成功"}};s.changeSnack(e);var i=JSON.stringify({code:1006});-1==a?s.$sock.initWebSocket():s.$sock.websocketsend(i),sessionStorage.removeItem("collocation"),s.ruleList.splice(n,1)}},{hasToken:!0})}})},hideRule:function(){this.showAddRule=!1,this.getRuleList()},editRule:function(t){this.showAddRule=!0,this.editType=!0,this.currentRule=t},inputShow:function(t){this.curPage.page=t,this.$vuetify.goTo(this.target,this.options),this.getRuleList()},unescapeF:function(t){return unescape(t.replace(/\\/g,"%"))},getRuleList:function(){var e=this;this.loading=!0,t.getAjaxData("/EasWebUser/getRule",{code:this.code,pageSize:10,pageIndex:this.curPage.page?this.curPage.page:0},function(t){if(e.loading=!1,1==t.code){var n=t.data,s=[];n.forEach(function(t,n){var a=JSON.parse(r["a"].decrypt(t.data));a.id=t.id,a.R0=e.unescapeF(a.R0),s.push(a)}),e.ruleList=s,e.curPage={page:t.pageIndex,size:t.pageMaxPage},e.step=1}},{hasToken:!0})}}),beforeRouteEnter:function(t,e,n){Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n(function(t){t.getRuleList()});case 1:case"end":return t.stop()}},t)}))()},beforeRouteLeave:function(t,e,n){this.$sock.close(),n()}}}).call(this,n("eeb9"))},"5f10":function(t,e,n){"use strict";var s=n("06e2"),a=n.n(s);a.a}}]);