(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e4b9a714"],{"36d9":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.showAddRule?t._e():s("div",{attrs:{id:"vRow"}},[s("div",{staticClass:" px-5 py-2 d-flex justify-space-between align-center flex-wrap green lighten-5"},[s("Badge",{staticClass:"grey--text",attrs:{color:"green",text:"规则列表"}}),s("v-btn",{staticClass:"ma-1",attrs:{small:"",outlined:"",color:"green"},on:{click:t.newRule}},[t._v("新增规则")])],1),s("v-divider"),s("None"!==t.transition?"v-"+t.transition:"div",{tag:"component",attrs:{"hide-on-leave":""}},[t.loading?s("v-skeleton-loader",{attrs:{type:"article"}}):s("div",[t.ruleList.length<1?s("v-list-item",{staticClass:"xy-borderB",attrs:{"three-line":""}},[s("p",{staticClass:"text-center",staticStyle:{width:"100%"}},[t._v("暂无数据")])]):s("v-expansion-panels",{staticClass:"px-4"},t._l(t.ruleList,function(e,a){return s("v-expansion-panel",{key:a},[s("v-expansion-panel-header",[s("div",{staticClass:"d-flex flex-column"},[s("div",{staticClass:"my-3 d-flex justify-space-between align-center flex-wrap"},[s("div",{staticClass:"d-flex align-center"},[s("div",{staticClass:"font-weight-bold demo"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.R0)+"\n\t\t\t\t\t\t\t\t\t\t")]),t._v("/"),s("span",{staticStyle:{"font-size":"12px"}},[t._v("规则名称")])]),s("div",{staticClass:"d-flex justify-center align-center pr-4"},[s("v-btn",{staticClass:"mr-1",attrs:{outlined:"","x-small":"",color:"error"},on:{click:function(s){return s.preventDefault(),s.stopPropagation(),t.delRule(e.id,a)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t删除\n\t\t\t\t\t\t\t\t\t  ")]),s("v-btn",{attrs:{outlined:"","x-small":"",color:"primary"},on:{click:function(s){return t.editRule(e)}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t编辑\n\t\t\t\t\t\t\t\t\t  ")])],1)]),s("Row",{staticClass:"font-weight-regular body-2"},[s("Col",{staticClass:"py-2",attrs:{lg:6,md:12,xs:24,sm:12}},[t._v("计价货币："+t._s(1==e.R54?"USDT":2==e.R54?"ETH":"BTC"))]),s("Col",{staticClass:"py-2",attrs:{lg:6,md:12,xs:24,sm:12}},[t._v("买入跌幅："+t._s(e.R1)+"% ")]),s("Col",{staticClass:"py-2",attrs:{lg:6,md:12,xs:24,sm:12}},[t._v("跌幅回调："+t._s(e.R2)+"% ")]),s("Col",{staticClass:"py-2",attrs:{lg:6,md:12,xs:24,sm:12}},[t._v("建仓金额："+t._s(e.R3)+" ")])],1)],1)]),s("v-expansion-panel-content",{staticClass:" pt-4 ",staticStyle:{background:"#dcdee2"}},[s("Row",{staticClass:"font-weight-regular ",staticStyle:{"font-size":"14px"}},[s("Col",{staticClass:"d-flex flex-column pb-2",attrs:{lg:6,md:8,sm:12,xs:12}},[s("span",[t._v("涨幅回调")]),s("span",[t._v(t._s(e.R5)+"% ")])]),s("Col",{staticClass:"d-flex flex-column pb-2",attrs:{lg:6,md:8,sm:12,xs:12}},[s("span",[t._v("卖出涨幅")]),s("span",[t._v(t._s(e.R4)+"%")])]),s("Col",{staticClass:"d-flex flex-column pb-2",attrs:{lg:6,md:8,sm:12,xs:12}},[s("span",[t._v("止损跌幅")]),s("span",[t._v(t._s(e.R6)+"% ")])]),s("Col",{staticClass:"d-flex flex-column pb-2",attrs:{lg:6,md:8,sm:12,xs:12}},[s("span",[t._v("补仓跌幅")]),s("span",[t._v(t._s(e.R7)+"% ")])]),s("Col",{staticClass:"d-flex flex-column pb-2",attrs:{lg:6,md:8,sm:12,xs:12}},[s("span",[t._v("补仓总额")]),s("span",[t._v(t._s(e.R8*e.R9)+" ")])]),s("Col",{staticClass:"d-flex flex-column pb-2",attrs:{lg:6,md:8,sm:12,xs:12}},[s("span",[t._v("补仓回调")]),s("span",[t._v(t._s(e.R10)+"% ")])])],1)],1)],1)}),1),s("div",{staticClass:"text-center mt-5"},[s("v-pagination",{attrs:{color:"green",length:t.curPage.size,"total-visible":7},on:{input:t.inputShow},model:{value:t.curPage.page,callback:function(e){t.$set(t.curPage,"page",e)},expression:"curPage.page"}})],1)],1)],1)],1),s("v-fab-transition",[!t.showAddRule&&t.ruleList.length>=5?s("Avatar",{staticClass:"xy-suspend",attrs:{src:t.upIcon},nativeOn:{click:function(e){return e.stopPropagation(),t.$vuetify.goTo(t.target,t.options)}}}):t._e()],1),t.showAddRule?s("add-rule",{ref:"AR",attrs:{ruleObj:t.currentRule,edit:t.editType},on:{hideRule:t.hideRule}}):t._e()],1)},n=[],i=s("f682"),r=i["a"],o=(s("f336"),s("c4f0"),s("2877")),c=Object(o["a"])(r,a,n,!1,null,"60fdad70",null);e["default"]=c.exports},"9e85":function(t,e,s){},c4f0:function(t,e,s){"use strict";var a=s("dd81"),n=s.n(a);n.a},dd81:function(t,e,s){},f336:function(t,e,s){"use strict";var a=s("9e85"),n=s.n(a);n.a},f682:function(t,e,s){"use strict";(function(t){s("8e6e"),s("456d"),s("96cf");var a=s("3b8d"),n=(s("ac6a"),s("a481"),s("c5f6"),s("bd86")),i=s("1700"),r=s.n(i),o=s("39b6"),c=s("2078"),l=s("2f62");function u(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,a)}return s}function d(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?u(s,!0).forEach(function(e){Object(n["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):u(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}e["a"]={compoments:{addRule:c["default"]},data:function(){return{transition:"scale-transition",loading:!0,upIcon:r.a,editType:!1,step:1,target:"#vRow",options:{duration:1e3,offset:0,easing:"easeInOutCubic"},curPage:{page:1,size:0},currentRule:{},showAddRule:!1,ruleList:[]}},watch:{wssData:{handler:function(t,e){this.getMessage()},deep:!0}},computed:{wssData:function(){return this.$store.state.collocationList}},methods:d({},Object(l["b"])(["changeLay","changeSnack"]),{changeTime:function(t){return this.$utils.timestampToTime(Number(t))},newRule:function(){this.showAddRule=!0,this.editType=!1},getMessage:function(){var t=this.wssData;switch(t.code){case 20013:var e=JSON.stringify({code:1006});this.$sock.websocketsend(e);break;default:break}},delRule:function(e,s){var a=this;this.$Modal.confirm({render:function(t){return t("div",[t("p",{style:{fontWeight:"700"}},"确定删除吗? 该操作不可撤销")])},onOk:function(){a.changeLay(!0);var n=a.$sock.lookState();t.getAjaxData("/EasWebUser/delRule",{id:e},function(t){if(a.changeLay(!1),1==t.code){var e={state:!0,errorText:{type:"green",text:"删除成功"}};a.changeSnack(e);var i=JSON.stringify({code:1006});-1==n?a.$sock.initWebSocket():a.$sock.websocketsend(i),sessionStorage.removeItem("collocation"),a.ruleList.splice(s,1)}},{hasToken:!0})}})},hideRule:function(){this.showAddRule=!1,this.getRuleList()},editRule:function(t){this.showAddRule=!0,this.editType=!0,this.currentRule=t},inputShow:function(t){this.curPage.page=t,this.$vuetify.goTo(this.target,this.options),this.getRuleList()},unescapeF:function(t){return unescape(t.replace(/\\/g,"%"))},getRuleList:function(){var e=this;this.loading=!0,t.getAjaxData("/EasWebUser/getRule",{code:this.code,pageSize:10,pageIndex:this.curPage.page?this.curPage.page:0},function(t){if(e.loading=!1,1==t.code){var s=t.data,a=[];s.forEach(function(t,s){var n=JSON.parse(o["a"].decrypt(t.data));n.id=t.id,n.R0=e.unescapeF(n.R0),a.push(n)}),e.ruleList=a,e.curPage={page:t.pageIndex,size:t.pageMaxPage},e.step=1}},{hasToken:!0})}}),beforeRouteEnter:function(t,e,s){Object(a["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:s(function(t){t.getRuleList()});case 1:case"end":return t.stop()}},t)}))()},beforeRouteLeave:function(t,e,s){this.$sock.close(),s()}}}).call(this,s("eeb9"))}}]);
//# sourceMappingURL=chunk-e4b9a714.57e03fd3.js.map