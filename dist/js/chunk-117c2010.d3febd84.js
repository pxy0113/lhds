(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-117c2010"],{"078f":function(t,e,s){"use strict";var a=s("e2f5"),i=s.n(a);i.a},1511:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:"","grid-list-xl":""}},[s("v-layout",{attrs:{"justify-center":"",wrap:""}},[s("v-flex",{staticClass:"py-0",attrs:{xs12:"",md11:"",lg11:"",sm11:"",cols:"12"}},[s("v-card",{staticClass:"mx-auto",staticStyle:{border:"1px solid #BDBDBD"},attrs:{outlined:"",id:"vRow"}},[s("v-card",{staticStyle:{border:"none"},attrs:{outlined:"",img:t.bannerImg}},[s("v-list-item",{attrs:{"three-line":""}},[s("v-list-item-avatar",{staticClass:"white  d-none d-sm-flex",attrs:{tile:"",size:100}},[s("v-img",{attrs:{src:t.bg}})],1),s("v-list-item-content",[s("v-list-item-title",{staticClass:"display-1 mb-4 white--text"},[t._v(t._s(t.userData.name))]),s("v-list-item-subtitle",{staticClass:"d-flex align-center"},[s("v-icon",{attrs:{size:"14",color:"white"}},[t._v("mdi-email")]),s("span",{staticClass:"white--text pl-2"},[t._v(t._s(t.userData.email))])],1),s("v-list-item-subtitle",{staticClass:"d-flex flex-wrap"},[s("span",{staticClass:"py-2 white--text"},[s("v-icon",{staticClass:"pr-1",attrs:{size:"16",color:"white"}},[t._v("\n\t\t\t\t\t\t\t\t\t\tmdi-av-timer\n\t\t\t\t\t\t\t\t\t")]),t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.changeTime(t.userData.endTime))+" 到期\n\t\t\t\t\t\t\t\t\t")],1),s("span",{staticClass:"red--text py-2 pl-2",staticStyle:{cursor:"pointer"},on:{click:t.renew}},[t._v("续期")])])],1)],1),s("v-btn",{staticClass:"font-weight-light",staticStyle:{position:"absolute",right:"8px",top:"2px"},attrs:{fab:"",color:"error","x-small":""},on:{click:t.exit}},[s("v-icon",{attrs:{size:"20"}},[t._v("mdi-power")])],1)],1),s("p",{staticClass:"px-2 mb-0",staticStyle:{border:"1px solid #ccc"}},[s("v-btn",{attrs:{color:"green",outlined:"",small:""},on:{click:function(e){t.addDialog=!0}}},[t._v("添加API")])],1),s("None"!==t.transition?"v-"+t.transition:"div",{tag:"component",attrs:{"hide-on-leave":""}},[t.loading?s("v-skeleton-loader",{attrs:{type:"article"}}):s("div",[t.apiList.length<1?s("v-list-item",{staticClass:"xy-tableItem",attrs:{"three-line":""}},[s("p",{staticClass:"text-center",staticStyle:{width:"100%"}},[t._v("暂无数据")])]):t._l(t.apiList,function(e,a){return s("div",{key:a},[s("v-list-item",{staticStyle:{"border-bottom":"1px solid #ccc"},attrs:{"three-line":""}},[s("v-list-item-content",{staticClass:"align-self-start"},[s("v-list-item-title",{staticClass:" mb-2"},[s("div",{staticClass:"d-flex align-center justify-space-between"},[s("span",{staticClass:" font-weight-bold"},[t._v(t._s(t.transUpperCase(e.exchange))+"\n\t\t\t\t\t\t\t\t\t\t\t"),s("span",{staticClass:"font-weight-light",staticStyle:{"font-size":"12px"}},[t._v("/交易所")])]),s("v-btn",{attrs:{color:"primary",text:"",small:""},on:{click:function(s){return t.delApi(e)}}},[t._v("删除")])],1)]),s("div",{staticClass:"font-weight-regular body-2"},[s("div",{staticClass:"d-flex justify-space-between flex-wrap align-center "},[s("div",{staticClass:"pr-3 py-1 d-flex flex-wrap align-center justify-space-between"},[s("span",[t._v("名称：")]),s("span",[t._v(t._s(e.remark))])]),s("div",{staticClass:"pr-3 py-1 d-flex flex-wrap align-center justify-space-between"},[s("span",[t._v("买入费率(%)：")]),s("span",[t._v(t._s(e.buy))])]),s("div",{staticClass:"pr-3 py-1 d-flex flex-wrap align-center justify-space-between"},[s("span",[t._v("卖出费率(%)：")]),s("span",[t._v(t._s(e.sell))])])]),s("div",{staticClass:"d-flex justify-space-between flex-wrap align-center"},[s("div",{staticClass:"pr-3 py-1 d-flex flex-wrap align-center justify-space-between"},[s("span",[t._v("API_KEY：")]),s("span",[t._v(t._s(e.key))])]),s("div",{staticClass:"pr-3 py-1 d-flex flex-wrap align-center justify-space-between"},[s("span",[t._v("API_SECRET：")]),s("span",[t._v(t._s(e.secret))])])])])],1)],1)],1)}),s("div",{staticClass:"text-center my-2"},[s("v-pagination",{attrs:{color:"green",length:t.curPage.size,"total-visible":5},on:{input:t.inputShow},model:{value:t.curPage.page,callback:function(e){t.$set(t.curPage,"page",e)},expression:"curPage.page"}})],1)],2)],1)],1),t.apiList.length>=5?s("Avatar",{staticClass:"xy-suspend",attrs:{src:t.upIcon},nativeOn:{click:function(e){return e.stopPropagation(),t.$vuetify.goTo(t.target,t.options)}}}):t._e()],1)],1),s("v-dialog",{attrs:{width:"500",persistent:""},model:{value:t.addDialog,callback:function(e){t.addDialog=e},expression:"addDialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("\n\t\t\t\t添加账户\n\t\t\t")]),s("v-card-text",[s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-select",{attrs:{rules:[function(t){return!!t||"必填"}],items:t.items,"item-text":"exc","item-value":"exc",color:"green","item-color":"green",label:"交易所","single-line":""},scopedSlots:t._u([{key:"label",fn:function(){return[s("span",{staticStyle:{"font-size":"14px"}},[t._v("交易所")])]},proxy:!0}]),model:{value:t.place,callback:function(e){t.place=e},expression:"place"}}),s("v-text-field",{attrs:{label:"账户备注名称",rules:[t.rules.required,t.rules.isEmpty],required:"",color:"green"},model:{value:t.news.A1,callback:function(e){t.$set(t.news,"A1",e)},expression:"news.A1"}}),s("v-text-field",{attrs:{rules:[t.rules.required,t.rules.isEmpty,t.rules.not],required:"",color:"green",label:"API_KEY"},model:{value:t.news.A2,callback:function(e){t.$set(t.news,"A2",e)},expression:"news.A2"}}),s("v-text-field",{attrs:{rules:[t.rules.required,t.rules.isEmpty,t.rules.not,t.rules.length],required:"",color:"green",label:"API_SECRET"},model:{value:t.news.A3,callback:function(e){t.$set(t.news,"A3",e)},expression:"news.A3"}}),s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("v-text-field",{attrs:{label:"买入费率(%)",min:"0",step:"0.1",rules:[function(t){return!!t&&t>=0||"必填且不是负数"}],required:"",color:"green",type:"number"},model:{value:t.news.A4,callback:function(e){t.$set(t.news,"A4",e)},expression:"news.A4"}})],1),s("v-col",{attrs:{cols:"6"}},[s("v-text-field",{attrs:{label:"卖出费率(%)",min:"0",step:"0.1",color:"green",rules:[function(t){return!!t&&t>=0||"必填且不是负数"}],required:"",type:"number"},model:{value:t.news.A5,callback:function(e){t.$set(t.news,"A5",e)},expression:"news.A5"}})],1)],1),"OKEx"==t.place?s("v-text-field",{attrs:{rules:[t.rules.required,t.rules.isEmpty,t.rules.not],required:"",color:"green",label:"PASSPHPASE",type:"password"},model:{value:t.newsPassword,callback:function(e){t.newsPassword=e},expression:"newsPassword"}}):t._e()],1)],1),s("v-card-actions",[s("div",{staticClass:"flex-grow-1"}),s("v-btn",{attrs:{color:"green",text:""},on:{click:t.closeAccount}},[t._v("\n\t\t\t\t\t关闭\n\t\t\t\t")]),s("v-btn",{attrs:{color:"green",text:""},on:{click:t.addOneAccount}},[t._v("\n\t\t\t\t\t确定\n\t\t\t\t")])],1)],1)],1),s("v-dialog",{attrs:{width:"500",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("\n\t\t\t\t激活账号\n\t\t\t")]),s("v-card-text",[s("v-text-field",{attrs:{label:"激活码"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),s("v-card-actions",[s("div",{staticClass:"flex-grow-1"}),s("v-btn",{attrs:{color:"primary",text:""},on:{click:t.cancelDialog}},[t._v("\n\t\t\t\t\t关闭\n\t\t\t\t")]),s("v-btn",{attrs:{color:"primary",text:""},on:{click:t.postCode}},[t._v("\n\t\t\t\t\t确定\n\t\t\t\t")])],1)],1)],1)],1)},i=[],n=s("e1f3"),r=n["a"],l=(s("078f"),s("2877")),o=Object(l["a"])(r,a,i,!1,null,"244b87c9",null);e["default"]=o.exports},1700:function(t,e,s){t.exports=s.p+"img/up.373baae5.svg"},8167:function(t,e,s){t.exports=s.p+"img/user.7ef46bfa.jpg"},e1f3:function(t,e,s){"use strict";(function(t){s("8e6e"),s("456d"),s("c5f6");var a=s("bd86"),i=(s("ac6a"),s("39b6")),n=s("2f62"),r=s("1700"),l=s.n(r),o=s("7c04"),c=s.n(o),u=s("8167"),d=s.n(u);function p(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,a)}return s}function g(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?p(s,!0).forEach(function(e){Object(a["a"])(t,e,s[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):p(s).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}e["a"]={data:function(){return{transition:"scale-transition",loading:!0,upIcon:l.a,target:"#vRow",options:{duration:1e3,offset:0,easing:"easeInOutCubic"},detailStep:1,curPage:{page:1,size:0},valid:!0,news:{A1:"",A2:"",A3:"",A4:.1,A5:0},newsPassword:"",place:"",items:[],addDialog:!1,apiColumns:[{text:"名称",align:"center",sortable:!1,value:"exchange"},{text:"备注",align:"center",sortable:!1,value:"remark"},{text:"API KEY",align:"center",sortable:!1,value:"key"},{text:"API SECRET",align:"center",sortable:!1,value:"secret"},{text:"买入费率(%)",align:"center",sortable:!1,value:"buy"},{text:"卖出费率(%)",align:"center",sortable:!1,value:"sell"},{text:"操作",align:"center",sortable:!1,value:"del"}],apiList:[],nameRules:[function(t){return!!t||"必填"},function(t){return t&&t.length<=68||"超出长度"}],rules:{required:function(t){return!!t||"必填"},length:function(t){return t&&t.length<=68||"超出长度"},isEmpty:function(t){return/\S/.test(t)||"不可为空"},not:function(t){return!/[\u4E00-\u9FA5]/g.test(t)||"不能是中文"}},bannerImg:d.a,dialog:!1,code:"",userData:sessionStorage.userData?JSON.parse(sessionStorage.userData):{},bg:c.a}},watch:{place:{handler:function(t,e){var s=this;this.items.forEach(function(e){e.exc==t&&(s.news.A4=e.buy,s.news.A5=e.sell)})},immediate:!0},wssData:{handler:function(t,e){this.getMessage()},deep:!0}},computed:{wssData:function(){return this.$store.state.collocationList}},mounted:function(){var e=this;sessionStorage.apiPublic?(this.items=JSON.parse(sessionStorage.apiPublic),this.place=this.items.length>0?this.items[0].exc:""):t.getTestData("/EasWebUser/getAPIData",{},function(t){1==t.code&&(sessionStorage.apiPublic=JSON.stringify(t.data),e.items=t.data,e.place=e.items.length>0?e.items[0].exc:"")}),this.getApiList()},beforeRouteLeave:function(t,e,s){this.$sock.close(),s()},methods:g({},Object(n["b"])(["changeLay","changeSnack"]),{transUpperCase:function(t){return t.toUpperCase()},inputShow:function(t){this.curPage.page=t,this.detailStep=1,this.$vuetify.goTo(this.target,this.options),this.getApiList()},changeTime:function(t){return this.$utils.timestampToTime(Number(t))},renew:function(){this.dialog=!0},cancelDialog:function(){this.code="",this.dialog=!1},getMessage:function(){var t=this.wssData;switch(t.code){case 20013:this.sendMsgToClient();break;default:break}},delApi:function(e){var s=this;this.$Modal.confirm({title:"删除",content:"<p>确定删除吗？该操作不可撤销</p>",onOk:function(){s.changeLay(!0),t.getAjaxData("/EasWebUser/delAPI",{id:e.id},function(t){if(s.changeLay(!1),1==t.code){var a={state:!0,errorText:{type:"green",text:"删除成功"}};s.changeSnack(a);var i=s.$sock.lookState();-1==i?s.$sock.initWebSocket():s.sendMsgToClient();var n=s.apiList.indexOf(e);sessionStorage.removeItem("collocation"),s.apiList.splice(n,1)}},{hasToken:!0})}})},closeAccount:function(){this.$refs.form.resetValidation(),this.addDialog=!1,this.news=this.$options.data().news,this.newsPassword="",this.place=this.items.length>0?this.items[0].exc:""},addOneAccount:function(){var e=this;if(this.$refs.form.validate()){var s={A0:this.place,A6:this.newsPassword,A7:0,A8:0,A9:0,A10:0},a={exc:this.place,remark:this.news.A1,data:i["a"].encrypt(JSON.stringify(Object.assign({},this.news,s)))};this.changeLay(!0),t.getAjaxData("/EasWebUser/addAPI",a,function(t){if(e.changeLay(!1),1==t.code){var s={state:!0,errorText:{type:"green",text:"添加成功"}};e.changeSnack(s);var a=e.$sock.lookState();-1==a?e.$sock.initWebSocket():e.sendMsgToClient(),e.addDialog=!1,e.$refs.form.resetValidation(),e.news=e.$options.data().news,sessionStorage.removeItem("collocation"),e.getApiList()}},{hasToken:!0})}},sendMsgToClient:function(){this.$sock.websocketsend(JSON.stringify({code:1006}))},getApiList:function(){var e=this;this.loading=!0,t.getAjaxData("/EasWebUser/getAPI",{pageSize:10,pageIndex:this.curPage.page},function(t){e.loading=!1,1==t.code?(e.apiList=t.data,e.curPage={page:t.pageIndex,size:t.pageMaxPage},e.detailStep=1):console.log("错误错误")},{hasToken:!0})},postCode:function(){var e=this;if(""!==this.code)this.changeLay(!0),t.getAjaxData("/EasWebUser/recharge",{code:this.code},function(t){if(e.changeLay(!1),1==t.code){var s=JSON.parse(sessionStorage.userData);s.endTime=t.endTime,sessionStorage.userData=JSON.stringify(s),e.userData=s;var a={state:!0,errorText:{type:"green",text:"续期成功！"}};e.changeSnack(a),e.dialog=!1,e.news={A1:"",A2:"",A3:"",A4:.1,A5:0},e.code=""}},{hasToken:!0});else{var s={state:!0,errorText:{type:"error",text:"激活码不可为空"}};this.changeSnack(s)}},exit:function(){var t=this;this.$Modal.confirm({title:"退出登录",content:"<p>确定退出吗？</p>",onOk:function(){sessionStorage.clear(),t.$store.state.showBar=!1,t.$router.push({path:"/login"})}})}})}}).call(this,s("eeb9"))},e2f5:function(t,e,s){}}]);
//# sourceMappingURL=chunk-117c2010.d3febd84.js.map