(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35375eed"],{1511:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-layout",{attrs:{"justify-center":"",wrap:""}},[s("v-flex",{staticClass:"pa-0",attrs:{xs12:"",md11:"",lg11:"",sm11:"",cols:"12"}},[s("None"!==e.transition?"v-"+e.transition:"div",{tag:"component",attrs:{"hide-on-leave":""}},[e.loading?s("v-skeleton-loader",{attrs:{type:"article"}}):s("div",[e.apiList.length<1?s("v-list-item",{staticClass:"xy-tableItem",attrs:{"three-line":""}},[s("p",{staticClass:"text-center",staticStyle:{width:"100%"}},[e._v("暂无数据")])]):e._l(e.apiList,function(t,a){return s("div",{key:a},[s("v-list-item",{staticStyle:{"border-bottom":"1px solid #ccc"},attrs:{"three-line":""}},[s("v-list-item-content",{staticClass:"align-self-start"},[s("v-list-item-title",{staticClass:" mb-2"},[s("div",{staticClass:"d-flex align-center justify-space-between"},[s("span",{staticClass:" font-weight-bold"},[e._v(e._s(e.transUpperCase(t.exchange))+"\n\t\t\t\t\t\t\t\t\t\t"),s("span",{staticClass:"font-weight-light",staticStyle:{"font-size":"12px"}},[e._v("/交易所")])]),s("v-btn",{attrs:{color:"primary",text:"",small:""},on:{click:function(s){return e.delApi(t)}}},[e._v("删除")])],1)]),s("div",{staticClass:"font-weight-regular body-2"},[s("div",{staticClass:"d-flex justify-space-between flex-wrap align-center "},[s("div",{staticClass:"pr-3 py-1 d-flex flex-wrap align-center justify-space-between"},[s("span",[e._v("名称：")]),s("span",[e._v(e._s(t.remark))])]),s("div",{staticClass:"pr-3 py-1 d-flex flex-wrap align-center justify-space-between"},[s("span",[e._v("买入费率(%)：")]),s("span",[e._v(e._s(t.buy))])]),s("div",{staticClass:"pr-3 py-1 d-flex flex-wrap align-center justify-space-between"},[s("span",[e._v("卖出费率(%)：")]),s("span",[e._v(e._s(t.sell))])])]),s("div",{staticClass:"d-flex justify-space-between flex-wrap align-center"},[s("div",{staticClass:"pr-3 py-1 d-flex flex-wrap align-center justify-space-between"},[s("span",[e._v("API_KEY：")]),s("span",[e._v(e._s(t.key))])]),s("div",{staticClass:"pr-3 py-1 d-flex flex-wrap align-center justify-space-between"},[s("span",[e._v("API_SECRET：")]),s("span",[e._v(e._s(t.secret))])])])])],1)],1)],1)}),s("div",{staticClass:"text-center my-2"},[s("v-pagination",{attrs:{color:"green",length:e.curPage.size,"total-visible":5},on:{input:e.inputShow},model:{value:e.curPage.page,callback:function(t){e.$set(e.curPage,"page",t)},expression:"curPage.page"}})],1)],2)],1),e.apiList.length>=5?s("Avatar",{staticClass:"xy-suspend",attrs:{src:e.upIcon},nativeOn:{click:function(t){return t.stopPropagation(),e.$vuetify.goTo(e.target,e.options)}}}):e._e()],1),s("v-dialog",{attrs:{width:"500",persistent:""},model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\n\t\t\t\t\t\t\t添加账户\n\t\t\t\t\t\t")]),s("v-card-text",[s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-select",{attrs:{rules:[function(e){return!!e||"必填"}],items:e.items,"item-text":"exc","item-value":"exc",color:"green","item-color":"green",label:"交易所","single-line":""},scopedSlots:e._u([{key:"label",fn:function(){return[s("span",{staticStyle:{"font-size":"14px"}},[e._v("交易所")])]},proxy:!0}]),model:{value:e.place,callback:function(t){e.place=t},expression:"place"}}),s("v-text-field",{attrs:{label:"账户备注名称",rules:[e.rules.required,e.rules.isEmpty],required:"",color:"green"},model:{value:e.news.A1,callback:function(t){e.$set(e.news,"A1",t)},expression:"news.A1"}}),s("v-text-field",{attrs:{rules:[e.rules.required,e.rules.isEmpty,e.rules.not],required:"",color:"green",label:"API_KEY"},model:{value:e.news.A2,callback:function(t){e.$set(e.news,"A2",t)},expression:"news.A2"}}),s("v-text-field",{attrs:{rules:[e.rules.required,e.rules.isEmpty,e.rules.not,e.rules.length],required:"",color:"green",label:"API_SECRET"},model:{value:e.news.A3,callback:function(t){e.$set(e.news,"A3",t)},expression:"news.A3"}}),s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("v-text-field",{attrs:{label:"买入费率(%)",min:"0",step:"0.1",rules:[function(e){return!!e&&e>=0||"必填且不是负数"}],required:"",color:"green",type:"number"},model:{value:e.news.A4,callback:function(t){e.$set(e.news,"A4",t)},expression:"news.A4"}})],1),s("v-col",{attrs:{cols:"6"}},[s("v-text-field",{attrs:{label:"卖出费率(%)",min:"0",step:"0.1",color:"green",rules:[function(e){return!!e&&e>=0||"必填且不是负数"}],required:"",type:"number"},model:{value:e.news.A5,callback:function(t){e.$set(e.news,"A5",t)},expression:"news.A5"}})],1)],1),"OKEx"==e.place?s("v-text-field",{attrs:{rules:[e.rules.required,e.rules.isEmpty,e.rules.not],required:"",color:"green",label:"PASSPHPASE",type:"password"},model:{value:e.newsPassword,callback:function(t){e.newsPassword=t},expression:"newsPassword"}}):e._e()],1)],1),s("v-card-actions",[s("div",{staticClass:"flex-grow-1"}),s("v-btn",{attrs:{color:"green",text:""},on:{click:e.closeAccount}},[e._v("\n\t\t\t\t\t\t\t\t关闭\n\t\t\t\t\t\t\t")]),s("v-btn",{attrs:{color:"green",text:""},on:{click:e.addOneAccount}},[e._v("\n\t\t\t\t\t\t\t\t确定\n\t\t\t\t\t\t\t")])],1)],1)],1)],1)},n=[],i=s("e1f3"),r=i["a"],o=(s("c670"),s("2877")),l=Object(o["a"])(r,a,n,!1,null,"503b20a5",null);t["default"]=l.exports},"56a8":function(e,t,s){},c670:function(e,t,s){"use strict";var a=s("56a8"),n=s.n(a);n.a},e1f3:function(e,t,s){"use strict";(function(e){s("8e6e"),s("456d"),s("c5f6");var a=s("bd86"),n=(s("ac6a"),s("39b6")),i=s("2f62"),r=s("1700"),o=s.n(r),l=s("7c04"),c=s.n(l),u=s("8167"),p=s.n(u);function d(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function g(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?d(s,!0).forEach(function(t){Object(a["a"])(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):d(s).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}t["a"]={data:function(){return{codeValid:!0,transition:"scale-transition",loading:!0,upIcon:o.a,target:"#vRow",options:{duration:1e3,offset:0,easing:"easeInOutCubic"},detailStep:1,curPage:{page:1,size:0},valid:!0,news:{A1:"",A2:"",A3:"",A4:.1,A5:0},newsPassword:"",place:"",items:[],addDialog:!1,apiColumns:[{text:"名称",align:"center",sortable:!1,value:"exchange"},{text:"备注",align:"center",sortable:!1,value:"remark"},{text:"API KEY",align:"center",sortable:!1,value:"key"},{text:"API SECRET",align:"center",sortable:!1,value:"secret"},{text:"买入费率(%)",align:"center",sortable:!1,value:"buy"},{text:"卖出费率(%)",align:"center",sortable:!1,value:"sell"},{text:"操作",align:"center",sortable:!1,value:"del"}],apiList:[],nameRules:[function(e){return!!e||"必填"},function(e){return e&&e.length<=68||"超出长度"}],rules:{required:function(e){return!!e||"必填"},length:function(e){return e&&e.length<=68||"超出长度"},size:function(e){return e>0||"必须大于0"},isEmpty:function(e){return/\S/.test(e)||"不可为空"},not:function(e){return!/[\u4E00-\u9FA5]/g.test(e)||"不能是中文"}},bannerImg:p.a,dialog:!1,code:"",userData:sessionStorage.userData?JSON.parse(sessionStorage.userData):{},bg:c.a}},watch:{place:{handler:function(e,t){var s=this;this.items.forEach(function(t){t.exc==e&&(s.news.A4=t.buy,s.news.A5=t.sell)})},immediate:!0},wssData:{handler:function(e,t){this.getMessage()},deep:!0}},computed:{wssData:function(){return this.$store.state.collocationList}},mounted:function(){var t=this;sessionStorage.apiPublic?(this.items=JSON.parse(sessionStorage.apiPublic),this.place=this.items.length>0?this.items[0].exc:""):e.getTestData("/EasWebUser/getAPIData",{},function(e){1==e.code&&(sessionStorage.apiPublic=JSON.stringify(e.data),t.items=e.data,t.place=t.items.length>0?t.items[0].exc:"")}),this.getApiList()},beforeRouteLeave:function(e,t,s){this.$sock.close(),s()},methods:g({},Object(i["b"])(["changeLay","changeSnack"]),{transUpperCase:function(e){return e.toUpperCase()},inputShow:function(e){this.curPage.page=e,this.detailStep=1,this.$vuetify.goTo(this.target,this.options),this.getApiList()},changeTime:function(e){return this.$utils.timestampToTime(Number(e))},renew:function(){this.dialog=!0},cancelDialog:function(){this.code="",this.dialog=!1},getMessage:function(){var e=this.wssData;switch(e.code){case 20013:this.sendMsgToClient();break;default:break}},delApi:function(t){var s=this;this.$Modal.confirm({render:function(e){return e("div",[e("p",{style:{fontWeight:"700"}},"确定删除吗? 该操作不可撤销")])},onOk:function(){s.changeLay(!0),e.getAjaxData("/EasWebUser/delAPI",{id:t.id},function(e){if(s.changeLay(!1),1==e.code){var a={state:!0,errorText:{type:"green",text:"删除成功"}};s.changeSnack(a);var n=s.$sock.lookState();-1==n?s.$sock.initWebSocket():s.sendMsgToClient();var i=s.apiList.indexOf(t);sessionStorage.removeItem("collocation"),s.apiList.splice(i,1)}},{hasToken:!0})}})},closeAccount:function(){this.$refs.form.resetValidation(),this.addDialog=!1,this.news=this.$options.data().news,this.newsPassword="",this.place=this.items.length>0?this.items[0].exc:""},addOneAccount:function(){var t=this;if(this.$refs.form.validate()){var s={A0:this.place,A6:this.newsPassword,A7:0,A8:0,A9:0,A10:0},a={exc:this.place,remark:this.news.A1,data:n["a"].encrypt(JSON.stringify(Object.assign({},this.news,s)))};this.changeLay(!0),e.getAjaxData("/EasWebUser/addAPI",a,function(e){if(t.changeLay(!1),1==e.code){var s={state:!0,errorText:{type:"green",text:"添加成功"}};t.changeSnack(s);var a=t.$sock.lookState();-1==a?t.$sock.initWebSocket():t.sendMsgToClient(),t.addDialog=!1,t.$refs.form.resetValidation(),t.news=t.$options.data().news,sessionStorage.removeItem("collocation"),t.getApiList()}},{hasToken:!0})}},sendMsgToClient:function(){this.$sock.websocketsend(JSON.stringify({code:1006}))},getApiList:function(){var t=this;this.loading=!0,e.getAjaxData("/EasWebUser/getAPI",{pageSize:10,pageIndex:this.curPage.page},function(e){t.loading=!1,1==e.code?(t.apiList=e.data,t.curPage={page:e.pageIndex,size:e.pageMaxPage},t.detailStep=1):console.log("错误错误")},{hasToken:!0})},exit:function(){var e=this;this.$Modal.confirm({render:function(e){return e("div",[e("p",{style:{fontWeight:"700"}},"确定退出吗 ?")])},onOk:function(){sessionStorage.clear(),e.$store.state.showBar=!1,e.$router.push({path:"/login"})}})}})}}).call(this,s("eeb9"))}}]);
//# sourceMappingURL=chunk-35375eed.a13f5e86.js.map